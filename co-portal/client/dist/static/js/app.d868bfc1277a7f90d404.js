webpackJsonp([1],{"4+hh":function(e,t){},"4mxi":function(e,t){},"5+8H":function(e,t){},"6lsN":function(e,t){},"7Otq":function(e,t,s){e.exports=s.p+"static/img/logo.1328452.png"},"84tw":function(e,t){},GteP:function(e,t){},Hd9H:function(e,t){},ImpT:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("7+uW"),n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[e.$route.meta.showNav?s("nav",{staticClass:"navFixed z-depth-2"},[s("div",{staticClass:"nav-wrapper"},[s("a",{staticClass:"brand-logo pointer waves-effect",on:{click:function(t){e.$router.push("/")}}},[s("md-avatar",[s("img",{staticClass:"img-responsive",attrs:{src:"static/img/co-portalIcon.png"}})])],1),e._v(" "),s("ul",{staticClass:"right hide-on-med-and-down"},[e.$store.state.user.isLoggedIn?s("li",[s("a",{staticClass:"black-text",on:{click:function(t){e.$router.push("/module/list")}}},[s("i",{staticClass:"material-icons"},[e._v("books")])])]):e._e(),e._v(" "),!e.$store.state.user.isLoggedIn||"LECTURER"!=e.$store.state.user.type&&"ADMIN"!=e.$store.state.user.type?e._e():s("li",[s("a",{staticClass:"black-text",on:{click:function(t){e.$router.push("/student/list")}}},[s("i",{staticClass:"material-icons"},[e._v("people")])])]),e._v(" "),e.$store.state.user.isLoggedIn&&"ADMIN"==e.$store.state.user.type?s("li",[s("a",{staticClass:"black-text",on:{click:function(t){e.$router.push("/lecturer/list")}}},[s("i",{staticClass:"material-icons"},[e._v("supervised_user_circle")])])]):e._e(),e._v(" "),e.$store.state.user.isLoggedIn&&"STUDENT"==e.$store.state.user.type?s("li",[s("a",{staticClass:"black-text",on:{click:function(t){e.$router.push("/marks/all")}}},[s("i",{staticClass:"material-icons"},[e._v("done_all")])])]):e._e(),e._v(" "),!e.$store.state.user.isLoggedIn||"LECTURER"!=e.$store.state.user.type&&"ADMIN"!=e.$store.state.user.type?e._e():s("li",[s("a",{staticClass:"black-text",on:{click:function(t){e.$router.push("/marks/sheet")}}},[s("i",{staticClass:"material-icons"},[e._v("done_all")])])]),e._v(" "),s("li",[s("a",{staticClass:"black-text",on:{click:function(t){e.$router.back()}}},[s("md-icon",[e._v("keyboard_backspace")]),e._v(" "),s("span",[e._v("Back")])],1)])])])]):e._e(),e._v(" "),s("router-view",{staticStyle:{"padding-top":"15px"}})],1)},staticRenderFns:[]};var i=s("VU/8")({name:"App"},n,!1,function(e){s("eu3R")},null,null).exports,o=s("/ocq"),r=s("thjQ"),l=s.n(r),d=s("mtWM"),c={name:"Home",data:function(){return{announcement:{title:"",message:"",isToAll:!0,moduleID:null},announcements:[],modules:[],isAddingAnnouncements:!1,showEmoji:!1,isLoading:!1,txtSearch:"",titleText:["Welcome to Co-Portal.","Please login","Contact admin for your login info"],options:[{text:"My profile card",icon:"person",link:"/",auth:["STUDENT","LECTURER","ADMIN"]},{text:"Students",icon:"people",link:"/student/list",auth:["LECTURER","ADMIN"]},{text:"Lecturers",icon:"supervised_user_circle",link:"/lecturer/list",auth:["ADMIN"]},{text:"Modules",icon:"books",link:"/module/list",auth:["ADMIN","LECTURER","STUDENT"]},{text:"Marks",icon:"done_all",link:"/marks/all",auth:["STUDENT"]},{text:"Assessment results",icon:"done_all",link:"/marks/sheet",auth:["LECTURER","ADMIN"]}]}},mounted:function(){var e=this;this.$store.state.user.isLoggedIn&&(this.isLoading=!0,d.post(this.$store.state.settings.baseLink+"/n/announcements/get/for/"+this.$store.state.user.id,{userType:this.$store.state.user.type,moduleID:null}).then(function(t){e.isLoading=!1,console.log(t.data),e.announcements=t.data.reverse()}).catch(function(t){e.isLoading=!1,null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()(t.message,"Try again later","error")}),"LECTURER"!=this.$store.state.user.type&&"ADMIN"!=this.$store.state.user.type||(this.isLoading=!0,d.get(this.$store.state.settings.baseLink+"/m/modules/all/for/"+this.$store.state.user.id+"/"+this.$store.state.user.type).then(function(t){e.isLoading=!1,e.modules=t.data,e.modules.map(function(e){e.show=!0})}).catch(function(t){e.isLoading=!1,null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()("Unable to load modules","Try again later","error")})))},methods:{AnnouncementClick:function(e){l()({title:e.title,text:e.message})},SendAnnouncement:function(){var e=this;this.isLoading=!0,this.announcement.isToAll=null==this.announcement.module,d.post(this.$store.state.settings.baseLink+"/n/announcements/add/for/"+this.announcement.module+"/by/"+this.$store.state.user.type+"/of/id/"+this.$store.state.user.id,{announcement:this.announcement}).then(function(t){e.isLoading=!1,e.isAddingAnnouncements=!1,l()("Success","Announcement successfully sent.","success")}).catch(function(t){e.isLoading=!1,null!=t.response&&512==t.response.status?l()(t.response.data,"Try again later","error"):l()("Unable to send announcement","Try again later","error")})}}},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"screen"},[!e.$store.state.user.isLoggedIn||"LECTUERE"!=e.$store.state.user.type&&"ADMIN"!=e.$store.state.user.type?e._e():s("md-dialog",{staticClass:"card",staticStyle:{position:"absolute",top:"25%",width:"100%"},attrs:{"md-active":e.isAddingAnnouncements},on:{"update:mdActive":function(t){e.isAddingAnnouncements=t}}},[s("md-card",{staticClass:"col s12"},[s("md-card-header",[s("div",{staticClass:"md-title"},[e._v("Send a announcement")]),e._v(" "),s("md-button",{staticClass:"right",on:{click:function(t){e.isAddingAnnouncements=!1}}},[s("md-icon",[e._v("close")])],1)],1),e._v(" "),s("md-content",[s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.announcement.title,expression:"announcement.title"}],attrs:{id:"ModuleDescription",name:"ModuleDescription",type:"text"},domProps:{value:e.announcement.title},on:{input:function(t){t.target.composing||e.$set(e.announcement,"title",t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"ModuleDescription"}},[e._v("Title")])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.announcement.message,expression:"announcement.message"}],attrs:{id:"ModuleDescription",name:"ModuleDescription",type:"text"},domProps:{value:e.announcement.message},on:{input:function(t){t.target.composing||e.$set(e.announcement,"message",t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"ModuleDescription"}},[e._v("Message")])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 text-center"},[s("label",[e._v("Send to : ")])]),e._v(" "),s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 text-center"},[s("form",{attrs:{action:"#"}},[e._l(e.modules,function(t,a){return s("p",{key:a},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.announcement.module,expression:"announcement.module"}],staticClass:"with-gap",attrs:{name:"group1",type:"radio"},domProps:{value:t._id,checked:e._q(e.announcement.module,t._id)},on:{change:function(s){e.$set(e.announcement,"module",t._id)}}}),e._v(" "),s("span",[e._v(e._s(t.name)+" ("+e._s(t.code)+") students")])])])}),e._v(" "),s("p",[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.announcement.module,expression:"announcement.module"}],staticClass:"with-gap",attrs:{name:"group1",type:"radio",checked:""},domProps:{value:null,checked:e._q(e.announcement.module,null)},on:{change:function(t){e.$set(e.announcement,"module",null)}}}),e._v(" "),s("span",[e._v("All Students")])])])],2)])])])],1),e._v(" "),s("md-card-actions",[e.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e(),e._v(" "),e.isLoading?e._e():s("md-button",{staticClass:"md-primary",on:{click:function(t){e.SendAnnouncement()}}},[e._v("Send announcement")])],1)],1),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s6 offset-s3 center-align"},[s("h5",{staticClass:"center-align"},[e.$store.state.user.isLoggedIn?e._e():s("vue-typer",{staticClass:"center-align",attrs:{text:e.titleText,"erase-style":"backspace"}}),e._v(" "),e.$store.state.user.isLoggedIn?s("span",[e._v("Welcome back "),s("a",{staticClass:"pointer waves-effect"},[e._v(e._s(e.$store.state.user.username))])]):e._e()],1)]),e._v(" "),e._m(0)]),e._v(" "),s("div",{staticClass:"row"},[e.$store.state.user.isLoggedIn?e._e():s("div",{staticClass:"col m6 offset-m3 s12 pointer bigButton center-align waves-effect",on:{click:function(t){e.$router.push("/login")}}},[e._m(1)])]),e._v(" "),e.$store.state.user.isLoggedIn?s("div",{staticClass:"row"},[s("div",{staticClass:"col s12 m6"},[s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[s("md-card-header",{staticClass:"left"},[e._v("Annnouncements")])],1),e._v(" "),s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[e.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e()],1),e._v(" "),s("md-list",{staticClass:"md-triple-line col s12 center-align"},[s("div",{staticClass:"Scroll-first-four"},["LECTURER"==e.$store.state.user.type||"ADMIN"==e.$store.state.user.type?s("md-list-item",{staticClass:"hoverable col s12 m10 pointer white center-align waves-effect",staticStyle:{"margin-bottom":"15px"},on:{click:function(t){e.isAddingAnnouncements=!0}}},[s("md-avatar",[s("md-icon",[e._v("add")])],1),e._v(" "),s("div",{staticClass:"md-list-item-text center-align"},[s("span",[e._v("Add new Announcement")])])],1):e._e(),e._v(" "),e._l(e.announcements,function(t,a){return s("md-list-item",{key:a,staticClass:"hoverable col s12 m10 pointer white center-align waves-effect",staticStyle:{"margin-bottom":"15px"},on:{click:function(s){e.AnnouncementClick(t)}}},[s("md-avatar",[s("img",{attrs:{src:"https://placeimg.com/40/40/people/1",alt:"People"}})]),e._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[e._v(e._s(t.lecturerId?t.lecturerId.lastname+" "+t.lecturerId.firstname:"Admin")+"  • "+e._s(e.getMoment(t.date).fromNow()))]),e._v(" "),s("span",[e._v(e._s(t.title))]),e._v(" "),s("p",[e._v(e._s(t.message))])]),e._v(" "),s("md-button",{staticClass:"md-icon-button md-list-action"},[s("md-icon",{staticClass:"md-primary"},[e._v("thumb_up")])],1)],1)})],2)])],1),e._v(" "),s("div",{staticClass:"col s12 m6 row",staticStyle:{"margin-top":"-6px"}},[s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[s("md-card-header",{staticClass:"left"},[e._v("Portal")])],1),e._v(" "),e._l(e.options.filter(function(t){return null==t.auth||t.auth.indexOf(e.$store.state.user.type)>=0}),function(t,a){return s("div",{key:a,staticClass:"col s12 l8 pointer bigButton waves-effect",on:{click:function(s){e.$router.push(t.link)}}},[s("div",{staticClass:"card-panel hoverable"},[s("h5",{staticClass:"center-align"},[s("i",{staticClass:"material-icons left",staticStyle:{"font-size":"100%"}},[e._v(e._s(t.icon))]),e._v(" "),s("span",[e._v(e._s(t.text))])])])])})],2)]):e._e(),e._v(" "),e.$store.state.user.isLoggedIn?s("div",{staticClass:"row"},[s("div",{staticClass:"col m2 offset-m5 s12 pointer center-align waves-effect",on:{click:function(t){e.Logout()}}},[e._m(2)])]):e._e()],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col s10 offset-s1 m8 offset-m2 center-align"},[t("img",{staticClass:"responsive-img",attrs:{src:s("7Otq")}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-panel hoverable"},[t("h5",{staticClass:"center-align"},[t("i",{staticClass:"material-icons left",staticStyle:{"font-size":"100%"}},[this._v("lock")]),this._v(" "),t("span",[this._v("Login")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-panel hoverable red"},[t("h5",{staticClass:"text-xs-center"},[this._v("Log out "),t("i",{staticClass:"material-icons right"},[this._v("exit_to_app")])])])}]};var m=s("VU/8")(c,u,!1,function(e){s("c9Zd")},"data-v-2e503e21",null).exports,v=s("mtWM"),f={name:"Login",data:function(){return{username:"",password:"",txtError:"",isLoading:!1,pastUsers:[]}},mounted:function(){this.pastUsers=this.$session.get("users")},methods:{SubmitLogin:function(){var e=this;this.isLoading=!0,this.txtError="",0==this.password.length&&(this.txtError="Please enter a valid password"),0==this.username.length&&(this.txtError="Please enter a valid user name"),0==this.txtError.length?v.post(this.$store.state.settings.baseLink+"/acc/login",{username:this.username,password:this.password}).then(function(t){e.isLoading=!1,e.Login(t)}).catch(function(t){e.isLoading=!1,null!=t.response&&512==t.response.status?e.txtError=t.response.data:l()("Unable to log you in","Try again later","error")}):this.isLoading=!1},LoginAsUser:function(e){this.$store.commit("login",e),this.$router.push("/")}}},h={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"screen"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2"},[s("md-button",{staticClass:"right",on:{click:function(t){e.$router.back()}}},[s("md-icon",[e._v("keyboard_backspace")]),e._v(" "),s("span",[e._v("Back")])],1)],1)]),e._v(" "),s("div",{staticClass:"row valign-wrapper",staticStyle:{height:"80vh"}},[s("div",{staticClass:"col m6 offset-m3 col s12 center-align"},[s("div",{staticClass:"card row z-depth-5"},[e._m(0),e._v(" "),s("div",{staticClass:"card-content"},[s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{id:"Username",name:"Username",type:"text"},domProps:{value:e.username},on:{keypress:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.SubmitLogin(t):null},input:function(t){t.target.composing||(e.username=t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Username"}},[e._v("Username")])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{id:"Password",name:"Password",type:"password"},domProps:{value:e.password},on:{keypress:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.SubmitLogin(t):null},input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Password"}},[e._v("Password")])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.txtError.length>0,expression:"txtError.length > 0"}],staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 text-center"},[s("label",{staticClass:"text-center red-text"},[e._v(e._s(e.txtError))])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 center-align text-center"},[e.isLoading?e._e():s("input",{staticClass:"btn center-align tg-btn",attrs:{type:"submit",value:"Login"},on:{click:function(t){e.SubmitLogin()}}}),e._v(" "),e.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e()],1)]),e._v(" "),e.pastUsers.length>0?s("div",{staticClass:"row"},[e._m(1),e._v(" "),e._l(e.pastUsers,function(t,a){return s("div",{key:a,staticClass:"col s2"},[e.isLoading?e._e():s("input",{staticClass:"btn-flat center-align tg-btn",attrs:{type:"submit"},domProps:{value:t.username},on:{click:function(s){e.LoginAsUser(t)}}})])})],2):e._e()])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-image col l8 offset-l2 m6 offset-m3 s12"},[t("img",{staticClass:"img-responsive",attrs:{src:"static/img/coPortalLogo.jpg"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col s12 left-align"},[t("label",[this._v("You can log in as : ")])])}]};var p=s("VU/8")(f,h,!1,function(e){s("Hd9H")},"data-v-5586f208",null).exports,_=s("mtWM"),g={name:"Home",data:function(){return{tests:[],options:[{text:"Set test",link:"/test/set"},{text:"Take test",link:"/test/take"}]}},mounted:function(){var e=this;this.isLoading=!0,_.get(this.$store.state.settings.baseLink+"/l/all/questionaire").then(function(t){e.isLoading=!1,e.tests=t.data}).catch(function(t){e.isLoading=!1,l()("Unable to load questionaires",t.message,"error")})},methods:{TakeTest:function(e){var t=this;"LECTURER"==this.$store.state.user.type?_.get(this.$store.state.settings.baseLink+"/l/get/solution/id/for/"+e._id).then(function(e){t.$router.push({name:"TestMarks",params:{solutionId:e.data.id}})}).catch(function(e){l()("Unable to submit",e.message,"error")}):this.$router.push({name:"TakeTest",params:{dbQuestionaire:e}})}}},w={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2"},[s("md-button",{staticClass:"right",on:{click:function(t){e.$router.back()}}},[s("md-icon",[e._v("keyboard_backspace")]),e._v(" "),s("span",[e._v("Back")])],1)],1)]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[e.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e()],1)]),e._v(" "),e.isLoading?e._e():s("h4",{staticClass:"text-xs-center"},[e._v("Please select a test you want to take.")]),e._v(" "),s("div",{staticClass:"row"},e._l(e.tests,function(t,a){return s("div",{key:a,staticClass:"col m4 offset-m1 s6 pointer",on:{click:function(s){e.TakeTest(t)}}},[s("div",{staticClass:"card-panel hoverable"},[s("h5",{staticClass:"text-xs-center"},[e._v(e._s(t.title))])])])}))])},staticRenderFns:[]};var b=s("VU/8")(g,w,!1,function(e){s("UgmS")},"data-v-47d3e0e0",null).exports,C=s("mtWM"),x={name:"Test",data:function(){return{currentPage:0,solutions:[],Questionaire:null,txtError:"",isLoading:!1}},mounted:function(){var e=this;null==this.dbQuestionaire||null==this.dbQuestionaire.questions||this.dbQuestionaire.questions.length<=0?this.$router.push("/"):(this.solutions=[],this.dbQuestionaire.questions.map(function(t){e.solutions.push(null)}),this.Questionaire=this.dbQuestionaire)},props:["dbQuestionaire","isMemo"],methods:{changePage:function(e){this.txtError="",e?this.currentPage++:this.currentPage--},SubmitQuiz:function(){var e=this;this.isLoading=!0,this.txtError="";var t=!1;this.solutions.map(function(s,a){null==s&&(t=!0,e.txtError="Please provide an answer to this question",e.currentPage=a)}),t?this.isLoading=!1:l()({title:"Submit?",text:"Are you sure you want to submit?",icon:"warning",buttons:[!0,"Yes"]}).then(function(t){if(t){var s={id:e.Questionaire._id,isMemo:e.isMemo,answers:[]};e.solutions.forEach(function(t,a){s.answers.push({answer:t,question:e.Questionaire.questions[a]})}),C.post(e.$store.state.settings.baseLink+"/l/submit/questionaire",{studentId:e.$store.state.user.id,solution:s}).then(function(t){e.isLoading=!1,l()("Submitted!",{icon:"success"}),e.$router.push({name:"TestMarks",params:{solutionId:t.data._id}})}).catch(function(t){e.isLoading=!1,l()("Unable to submit",t.message,"error")})}else e.isLoading=!1})}}},k={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2"},[s("md-button",{staticClass:"right",on:{click:function(t){e.$router.back()}}},[s("md-icon",[e._v("keyboard_backspace")]),e._v(" "),s("span",[e._v("Back")])],1)],1)]),e._v(" "),s("div",{staticClass:"col s10 offset-s1"},[e._l(e.Questionaire.questions,function(t,a){return e.currentPage==a?s("div",{key:a,staticClass:"row"},[s("div",{staticClass:"col s10 offset-s1 row card-panel"},[s("div",{staticClass:"col s12"},[s("h5",{staticClass:"center-align"},[e._v(e._s(t.title))])]),e._v(" "),s("div",{staticClass:"col m8 offset-m2 s12"},[s("form",e._l(t.answers,function(n,i){return s("h6",{key:i,staticClass:"pointer"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.solutions[a],expression:"solutions[i]"}],staticClass:"with-gap",attrs:{id:n+"-"+i,name:t.id,type:"radio"},domProps:{value:n,checked:e._q(e.solutions[a],n)},on:{change:function(t){e.$set(e.solutions,a,n)}}}),e._v(" "),s("span",{attrs:{for:n+"-"+i}},[e._v(e._s(n))])])])}))]),e._v(" "),s("div",{staticClass:"col m8 offset-m2 s12"},[s("p",{directives:[{name:"show",rawName:"v-show",value:e.txtError.length>2,expression:"txtError.length > 2"}],staticClass:"center-align red-text"},[e._v(e._s(e.txtError))])])])]):e._e()}),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s3"},[s("p",[e._v(e._s(e.currentPage+1)+"/"+e._s(e.Questionaire.questions.length))])]),e._v(" "),s("div",{staticClass:"col s9 right-align"},[e.currentPage>0?s("button",{staticClass:"btn red",on:{click:function(t){e.changePage(!1)}}},[e._v("Previous")]):e._e(),e._v(" "),e.currentPage+1<e.Questionaire.questions.length?s("button",{staticClass:"btn",on:{click:function(t){e.changePage(!0)}}},[e._v("Next")]):e._e(),e._v(" "),e.currentPage+1!=e.Questionaire.questions.length||e.isLoading?e._e():s("button",{staticClass:"btn green",on:{click:function(t){e.SubmitQuiz()}}},[e._v("Done")]),e._v(" "),e.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e()],1)])],2)])},staticRenderFns:[]};var y=s("VU/8")(x,k,!1,function(e){s("5+8H")},"data-v-916d06dc",null).exports,L=s("mtWM"),S={name:"SetTest",components:{TakeTest:y},data:function(){return{hasTimeLimit:!1,hasExpiryDatetime:!1,currentPage:0,title:"",questionaire:{title:"",answers:[],expiryDate:null,expiryTime:null,timeLimit:null},addingQuestion:!1,answers:[{value:"Jacob Zuma"}],dbQuestionaire:null,questions:[],timeLimits:["10 minutes","30 minutes","45 minutes","1 hour","1.5 hours","2 hours"],isLoading:!1}},mounted:function(){null==this.moduleID?this.$router.back():this.Reload()},props:["moduleID"],methods:{AddQuestion:function(){this.addingQuestion=!0},AddAnswer:function(){this.answers.push({})},RemoveAnswer:function(){this.answers.pop()},DeleteQuestion:function(e){var t=this;l()({title:"Are you sure?",text:"Once deleted, you will not be able to recover this question",icon:"warning",buttons:!0,dangerMode:!0}).then(function(s){if(s){var a=t.questions.indexOf(e);t.questions.splice(a,1),l()("Question has been deleted!",{icon:"success"})}})},SaveQuestion:function(){this.questionaire.title.length<2?l()("Incomplete question","Please provide a valid question","error"):this.questionaire.answers.length<1?l()("Incomplete question","Please provide atleast one answer to the question","error"):(this.questions.push({id:this.questionaire.title+"-"+Date.now()+"-"+this.questions.length,title:this.questionaire.title,answers:this.questionaire.answers,expiryDate:this.hasExpiryDatetime?this.questionaire.expiryDate:null,expiryTime:this.hasExpiryDatetime?this.questionaire.expiryTime:null,timeLimit:this.hasTimeLimit?this.questionaire.timeLimit:null}),this.questionaire.title="",this.questionaire.answers=[],this.addingQuestion=!1)},SubmitQuestionaire:function(){var e=this;return this.isLoading=!0,this.title.length<3?(l()("Incomplete questionaire","Please provide a title for your questionaire","error"),void(this.isLoading=!1)):this.hasTimeLimit&&(null==this.questionaire.timeLimit||this.questionaire.timeLimit.length<2)?(l()("Invalid time limit","Please provide a valid time limit","error"),void(this.isLoading=!1)):void L.post(this.$store.state.settings.baseLink+"/l/add/questionaire",{title:this.title,lecturerId:this.$store.state.user.id,questions:this.questions,timeLimit:this.questionaire.timeLimit,moduleId:this.moduleID}).then(function(t){e.isLoading=!1,e.dbQuestionaire=t.data,e.currentPage=1}).catch(function(t){e.isLoading=!1,null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()("Unable to submit questionaire",t.message,"error")})}}},A={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hello"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2"},[s("md-button",{staticClass:"right",on:{click:function(t){e.$router.back()}}},[s("md-icon",[e._v("keyboard_backspace")]),e._v(" "),s("span",[e._v("Back")])],1)],1)]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field center-align col s12 m8 offset-m2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],staticClass:"validate",attrs:{id:"title",type:"text"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}}),e._v(" "),s("label",{attrs:{for:"title"}},[e._v("Title")])]),e._v(" "),1==e.currentPage?s("div",{staticClass:"col s12 center-align"},[s("h3",[e._v("Memorandum creation")])]):e._e()]),e._v(" "),e.addingQuestion||0!=e.currentPage?e._e():s("div",{staticClass:"row"},e._l(e.questions,function(t,a){return s("div",{key:a,staticClass:"col s12 m8 offset-m2 card-panel row valign-wrapper pointer"},[s("div",{staticClass:"col s12 row"},[s("div",{staticClass:"col s12 right-align"},[s("button",{staticClass:"btn-flat center-align red-text",on:{click:function(s){e.DeleteQuestion(t)}}},[s("i",{staticClass:"material-icons"},[e._v("delete")])])]),e._v(" "),s("h6",{staticClass:"col s12"},[e._v("\n          "+e._s(t.title)+"\n        ")]),e._v(" "),s("div",{staticClass:"col s12 right-align"},[s("span",{staticClass:"small"},[e._v(e._s(t.answers.length)+" answers")])])])])})),e._v(" "),s("div",{staticClass:"row"},[e.addingQuestion||0!=e.currentPage?e._e():s("div",{staticClass:"col s12 center-align"},[s("button",{staticClass:"btn green",on:{click:function(t){e.AddQuestion()}}},[e._v("Add Question")])])]),e._v(" "),e.addingQuestion&&0==e.currentPage?s("div",{staticClass:"row"},[s("div",{staticClass:"col s12 m8 offset-m2 card-panel"},[s("h4",{staticClass:"right-align"},[s("button",{staticClass:"btn-flat",on:{click:function(t){e.addingQuestion=!1}}},[s("i",{staticClass:"material-icons red-text"},[e._v("close")])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s12 m6 offset-m3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.questionaire.title,expression:"questionaire.title"}],staticClass:"validate",attrs:{placeholder:"Type the question here...",type:"text"},domProps:{value:e.questionaire.title},on:{input:function(t){t.target.composing||e.$set(e.questionaire,"title",t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"row"},[e._l(e.answers,function(t,a){return s("div",{key:a,staticClass:"input-field center-align col s12 m10 offset-m1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.questionaire.answers[a],expression:"questionaire.answers[i]"}],staticClass:"validate",attrs:{id:"answer-"+a,type:"text"},domProps:{value:e.questionaire.answers[a]},on:{input:function(t){t.target.composing||e.$set(e.questionaire.answers,a,t.target.value)}}}),e._v(" "),s("label",{attrs:{for:"answer-"+a}},[e._v("Answer "+e._s(a+1))])])}),e._v(" "),s("div",{staticClass:"col s12 center-align"},[s("button",{staticClass:"btn-flat",on:{click:function(t){e.AddAnswer()}}},[s("i",{staticClass:"material-icons"},[e._v("add")])]),e._v(" "),s("button",{staticClass:"btn-flat",on:{click:function(t){e.RemoveAnswer()}}},[s("i",{staticClass:"material-icons"},[e._v("remove")])])])],2),e._v(" "),s("div",{staticClass:"row"},[s("button",{staticClass:"col s12 btn green",on:{click:function(t){e.SaveQuestion()}}},[e._v("Save Question")])])])]):e._e(),e._v(" "),!e.addingQuestion&&e.questions.length>0&&0==e.currentPage?s("div",{staticClass:"row"},[s("div",{staticClass:"col s12 m8 offset-m2 card-panel row p-10"},[s("div",{staticClass:"col s12 row"},[s("div",{staticClass:"switch"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.hasTimeLimit,expression:"hasTimeLimit"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.hasTimeLimit)?e._i(e.hasTimeLimit,null)>-1:e.hasTimeLimit},on:{change:function(t){var s=e.hasTimeLimit,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=e._i(s,null);a.checked?i<0&&(e.hasTimeLimit=s.concat([null])):i>-1&&(e.hasTimeLimit=s.slice(0,i).concat(s.slice(i+1)))}else e.hasTimeLimit=n}}}),e._v(" "),s("span",{staticClass:"lever"}),e._v("\n                  "+e._s(e.hasTimeLimit?"Has time limit":"No time limit")+"\n                ")])])]),e._v(" "),s("label",{directives:[{name:"show",rawName:"v-show",value:e.hasTimeLimit,expression:"hasTimeLimit"}],staticClass:"col s12"},[e._v("Time limit")]),e._v(" "),e._l(e.timeLimits,function(t){return s("div",{directives:[{name:"show",rawName:"v-show",value:e.hasTimeLimit,expression:"hasTimeLimit"}],key:t,staticClass:"col s4 m2",staticStyle:{padding:"5px"}},[s("div",{staticClass:"chip waves pointer",class:{selectedTag:e.questionaire.timeLimit==t},on:{click:function(s){e.questionaire.timeLimit=t}}},[e._v("\n          "+e._s(t)+"\n        ")])])})],2)]):e._e(),e._v(" "),!e.addingQuestion&&e.questions.length>0&&0==e.currentPage?s("div",{staticClass:"row"},[s("div",{staticClass:"col s12 m8 offset-m2 right-align"},[e.isLoading?e._e():s("button",{staticClass:"btn green",on:{click:function(t){e.SubmitQuestionaire()}}},[s("i",{staticClass:"material-icons"},[e._v("done")])])]),e._v(" "),s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[e.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e()],1)]):e._e(),e._v(" "),1==e.currentPage&&null!=e.dbQuestionaire?s("div",[s("TakeTest",{attrs:{dbQuestionaire:e.dbQuestionaire,isMemo:!0}})],1):e._e()])},staticRenderFns:[]};var M=s("VU/8")(S,A,!1,function(e){s("fLj3")},"data-v-4cd90654",null).exports,N=s("PJh5"),E=s("mtWM"),P={name:"TestMarks",data:function(){return{txtFeedback:"",currentPage:0,Solution:[],feedbacks:[],addingFeedBack:!1,autoRefreshChats:!1,refreshTimer:"",isLoading:!1}},computed:{},mounted:function(){var e=this;null!=this.solutionId?(this.isLoading=!0,E.get(this.$store.state.settings.baseLink+"/l/get/solutions/"+this.solutionId).then(function(t){if(e.isLoading=!1,null!=t){if(e.Solution=t.data,null==e.Solution||null==e.Solution.answers||e.Solution.answers.length<1)throw new Error("Unable to retreive the solution , try again later")}else e.$router.push("/")}).catch(function(t){e.isLoading=!1,l()("Unable to load your results",t.message,"error"),e.$router.push("/")})):this.$router.push("/")},props:["solutionId"],methods:{toggleAutoRefresh:function(){this.autoRefreshChats?this.refreshTimer=setInterval(this.refreshFeedbacks,5e3):clearInterval(this.refreshTimer)},getMoment:function(e){return N(e)},DownloadMarks:function(){window.print()},ViewMemorandum:function(){l()("Memorandum not yet avaliable","Not all students have wrote the test","error")},refreshFeedbacks:function(){var e=this;this.isLoading=!0,E.get(this.$store.state.settings.baseLink+"/l/feedback/reload/"+this.Solution.questionaireId).then(function(t){e.isLoading=!1,e.feedbacks=[],t.data.forEach(function(t){e.feedbacks.push(t)})}).catch(function(t){e.isLoading=!1,e.feedbacks.map(function(e){"sent"!=e.status&&(e.status="not sent")}),l()("Unable to submit questionaire",t.message,"error")})},openCloseFeedbacks:function(){this.addingFeedBack=!this.addingFeedBack,this.addingFeedBack&&this.refreshFeedbacks()},SubmitFeedback:function(){var e=this;if(this.isLoading=!0,!this.$store.state.user.isLoggedIn)return l()("Unable to send","Your session is over please log in again","error"),void(this.isLoading=!1);if(this.txtFeedback.length<1)this.isLoading=!1;else{var t={from:this.$store.state.user.username,message:this.txtFeedback,date:new Date,status:"sending...."};this.feedbacks.push(t),this.txtFeedback="",E.post(this.$store.state.settings.baseLink+"/l/feedback/submit/"+this.Solution.questionaireId,{fromId:this.$store.state.user.id,from:t.from,fromType:this.$store.state.user.type,message:t.message,date:t.date,existingId:this.feedbacks.map(function(e){return e._id})}).then(function(t){e.isLoading=!1,e.feedbacks=[],t.data.forEach(function(t){e.feedbacks.push(t)})}).catch(function(t){e.isLoading=!1,e.feedbacks.map(function(e){"sent"!=e.status&&(e.status="not sent")}),l()("Unable to submit questionaire",t.message,"error")})}}}},T={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2"},[s("md-button",{staticClass:"right",on:{click:function(t){e.$router.back()}}},[s("md-icon",[e._v("keyboard_backspace")]),e._v(" "),s("span",[e._v("Back")])],1)],1)]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[e.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e()],1)]),e._v(" "),s("div",{staticClass:"col s12 center-align card-panel row"},[s("div",{staticClass:"col s12 m8 offset-m2"},[s("h4",[s("a",[e._v(e._s(e.Solution.isMemo?"Memorandum":e.Solution.studentId.firstname+" "+e.Solution.studentId.lastname))])]),e._v(" "),s("h5",[e._v("Your score is "),s("a",{class:{"red-text":2*e.Solution.mark<e.Solution.answers.length}},[e._v(e._s(e.Solution.mark)+"/"+e._s(e.Solution.answers.length))])])]),e._v(" "),s("div",{staticClass:"col s12 right-align"},[s("a",{staticClass:"btn-floating black waves-effect",attrs:{title:"Download"},on:{click:e.DownloadMarks}},[s("i",{staticClass:"material-icons"},[e._v("save")])]),e._v(" "),s("a",{staticClass:"btn-floating black waves-effect",attrs:{title:"Memorandum"},on:{click:e.ViewMemorandum}},[s("i",{staticClass:"material-icons"},[e._v("description")])]),e._v(" "),s("a",{staticClass:"btn-floating black waves-effect",class:{transparent:e.addingFeedBack},attrs:{title:"Feed back"},on:{click:e.openCloseFeedbacks}},[s("i",{staticClass:"material-icons",class:{"black-text":e.addingFeedBack}},[e._v("chat")])])]),e._v(" "),s("div",{staticClass:"col s12 m8 offset-m2"},[s("span",{staticClass:"blue-text"},[e._v("Scroll down to see "+e._s(e.addingFeedBack?"add your feedback":"view your test")+".")])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.addingFeedBack,expression:"addingFeedBack"}],staticClass:"col s12 row card-panel"},[s("div",{staticClass:"col s12 right-align"},[s("a",{staticClass:"btn-floating transparent waves-effect right-align",on:{click:function(t){e.addingFeedBack=!e.addingFeedBack}}},[s("i",{staticClass:"material-icons red-text"},[e._v("close")])])]),e._v(" "),s("div",{staticClass:"row"},e._l(e.feedbacks,function(t,a){return s("div",{key:a,staticClass:"col s10 offset-s1 chat",class:{"right-align":t.from.id==e.$store.state.user.id}},[s("span",{staticClass:"chip message",class:{notSent:"sent"!=t.status,"black white-text":"STUDENT"!=t.from.type}},[s("span",{staticClass:"from",class:{"white-text":"STUDENT"!=t.from.type}},[e._v(e._s(t.from.name))]),e._v(" : "+e._s(t.message)+"\n        ")]),e._v(" "),s("p",{staticClass:"time"},[e._v(e._s("sent"!=t.status?t.status:e.getMoment(t.date).fromNow()))])])})),e._v(" "),s("div",{staticClass:"col s10 switch"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.autoRefreshChats,expression:"autoRefreshChats"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.autoRefreshChats)?e._i(e.autoRefreshChats,null)>-1:e.autoRefreshChats},on:{change:[function(t){var s=e.autoRefreshChats,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=e._i(s,null);a.checked?i<0&&(e.autoRefreshChats=s.concat([null])):i>-1&&(e.autoRefreshChats=s.slice(0,i).concat(s.slice(i+1)))}else e.autoRefreshChats=n},e.toggleAutoRefresh]}}),e._v(" "),s("span",{staticClass:"lever"}),e._v("\n                    "+e._s(e.autoRefreshChats?"Auto refreshing every 5 seconds":"Auto refresh is off, Use the button on the right to get the latest messages")+" \n                  ")])]),e._v(" "),s("div",{staticClass:"col s2 right-align"},[e.isLoading?e._e():s("a",{staticClass:"btn-floating transparent waves-effect right-align",on:{click:e.refreshFeedbacks}},[s("i",{staticClass:"material-icons black-text"},[e._v("refresh")])]),e._v(" "),e.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e()],1),e._v(" "),s("form",{staticClass:"col s12 center-align"},[s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s10 offset-s1 m6 offset-m3"},[s("i",{staticClass:"material-icons prefix"},[e._v("chat")]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.txtFeedback,expression:"txtFeedback"}],staticClass:"materialize-textarea",attrs:{id:"icon_prefix2"},domProps:{value:e.txtFeedback},on:{input:function(t){t.target.composing||(e.txtFeedback=t.target.value)}}}),e._v(" "),s("label",{attrs:{for:"icon_prefix2"}},[e._v("Comment")])]),e._v(" "),s("div",{staticClass:"col s8 offset-s2 center-align"},[e.isLoading?e._e():s("a",{staticClass:"btn green waves-effect-effect",on:{click:e.SubmitFeedback}},[e._v("Comment")]),e._v(" "),e.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e()],1)])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.addingFeedBack,expression:"!addingFeedBack"}],staticClass:"col s10 offset-s1"},[e._l(e.Solution.answers,function(t,a){return s("div",{key:a,staticClass:"row"},[s("div",{staticClass:"col m8 offset-m2 row card-panel hoverable"},[s("div",{staticClass:"col s12"},[s("h5",{staticClass:"center-align"},[e._v(e._s(t.question.title))])]),e._v(" "),s("div",{staticClass:"col m8 offset-m2 s12"},[s("form",e._l(t.question.answers,function(a,n){return s("h6",{key:n,staticClass:"pointer"},[s("label",[s("input",{staticClass:"with-gap",attrs:{disabled:t.answer!=a,id:a+"-"+n,name:t._id,type:"radio"},domProps:{checked:t.answer==a}}),e._v(" "),s("span",{attrs:{for:a+"-"+n}},[e._v(e._s(a))])])])}))])])])}),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 center-align"},[s("button",{staticClass:"btn red",on:{click:function(t){e.$router.push("/")}}},[e._v("Go home")])])])],2)])},staticRenderFns:[]};var $=s("VU/8")(P,T,!1,function(e){s("tyPE")},"data-v-15d6f660",null).exports,U=s("mvHQ"),I=s.n(U),D=s("mtWM"),j={name:"AddStudent",data:function(){return{txtError:"",student:{firstname:"",lastname:"",username:"",password:"",confirmPassword:"",modules:[null],idNumber:"",gender:"",dob:"",isSouthAfrican:!1},done:!1,modules:[],isLoading:!1}},watch:{"student.idNumber":function(e,t){if(e.length>=6&&(this.student.dob=new Date(e.substring(0,2),e.substring(2,4)-1,e.substring(4,6)),e.length>=10)){var s=e.substring(6,10);this.student.gender=parseInt(s)<5e3?"Female":"Male",13==e.length&&(this.student.isSouthAfrican=0==parseInt(e.substring(10,11)))}}},mounted:function(){this.done=!1,this.LoadModules()},methods:{LoadModules:function(){var e=this;this.isLoading=!0,D.get(this.$store.state.settings.baseLink+"/m/modules/all").then(function(t){e.isLoading=!1,e.modules=t.data,e.options=[],e.modules.map(function(t){e.options.push({value:t._id,text:t.name+" ( "+t.code+" )"})})}).catch(function(t){e.isLoading=!1,null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()("Unable to load modules","Try again later","error")})},SubmitStudent:function(){var e=this;this.txtError="",this.isLoading=!0,this.student.lastname.length<2&&(this.txtError="Please enter a valid lastname"),this.student.firstname.length<2&&(this.txtError="Please enter a valid firstname"),this.student.password!=this.student.confirmPassword&&(this.txtError="Passwords do not match"),this.student.password.length<6&&(this.txtError="Please enter a valid password , passwords must be more than 6 charactors long"),this.student.username.length<2&&(this.txtError="Please enter a valid username"),this.student.gender.length<2&&(this.txtError="Please pick a valid gender"),this.student.dob.length<2&&(this.txtError="Please pick a valid date of birth"),this.student.idNumber<6&&(this.txtError="Please enter a valid id number"),this.student.modules.filter(function(e){return null!=e}).length<=0&&(this.txtError="Please select at least one module"),this.txtError.length>2?this.isLoading=!1:D.post(this.$store.state.settings.baseLink+"/a/add/student",{student:this.student}).then(function(t){e.isLoading=!1,e.done=!0,e.$emit("submitted",!0)}).catch(function(t){e.isLoading=!1,null!=t.response&&512==t.response.status?e.txtError=t.response.data:l()("Unable to submit the student",t.message,"error"),e.$emit("submitted",!1)})}}},F={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"row"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.done,expression:"done"}],staticClass:"col s12 center-align card-panel"},[s("md-empty-state",{attrs:{"md-icon":"done","md-label":"Student was successfully added.","md-description":"You can now assign the student to more modules / view the student's progress."}})],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.done,expression:"!done"}],staticClass:"col s12 center-align"},[s("div",{staticClass:"card row"},[e._m(0),e._v(" "),s("div",{staticClass:"card-content"},[s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col m4 offset-m1 s12 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.student.firstname,expression:"student.firstname"}],attrs:{id:"Firstname",name:"Firstname",type:"text"},domProps:{value:e.student.firstname},on:{input:function(t){t.target.composing||e.$set(e.student,"firstname",t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Firstname"}},[e._v("Firstname")])]),e._v(" "),s("div",{staticClass:"input-field col m4 offset-m1 s12 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.student.lastname,expression:"student.lastname"}],attrs:{id:"Lastname",name:"Lastname",type:"text"},domProps:{value:e.student.lastname},on:{input:function(t){t.target.composing||e.$set(e.student,"lastname",t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Lastname"}},[e._v("Lastname")])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.student.username,expression:"student.username"}],attrs:{id:"Username",name:"Username",type:"text"},domProps:{value:e.student.username},on:{input:function(t){t.target.composing||e.$set(e.student,"username",t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Username"}},[e._v("Username")])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col m4 offset-m1 s12 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.student.password,expression:"student.password"}],attrs:{id:"Password",name:"Password",type:"password"},domProps:{value:e.student.password},on:{input:function(t){t.target.composing||e.$set(e.student,"password",t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Password"}},[e._v("Password")])]),e._v(" "),s("div",{staticClass:"input-field col m4 offset-m1 s12 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.student.confirmPassword,expression:"student.confirmPassword"}],attrs:{id:"ConfirmPassword",name:"ConfirmPassword",type:"password"},domProps:{value:e.student.confirmPassword},on:{input:function(t){t.target.composing||e.$set(e.student,"confirmPassword",t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"ConfirmPassword"}},[e._v("Confirm Password")])])]),e._v(" "),e._l(e.student.modules.length,function(t,a){return s("div",{key:t,staticClass:"row"},[s("div",{staticClass:"col s10"},[s("md-field",[s("label",{attrs:{for:"modules-"+a}},[e._v("Module "+e._s(t))]),e._v(" "),s("md-select",{attrs:{name:"modules-"+a,id:"modules-"+a},model:{value:e.student.modules[a],callback:function(t){e.$set(e.student.modules,a,t)},expression:"student.modules[i]"}},e._l(e.modules,function(t){return s("md-option",{key:t._id,attrs:{disabled:e.student.modules.filter(function(e){return e==t._id}).length>0,value:t._id}},[e._v(e._s(t.name)+" ("+e._s(t.code)+")")])}))],1)],1),e._v(" "),s("div",{staticClass:"col s2 bottom-align"},[a==e.student.modules.length-1&&null!=e.student.modules[a]?s("a",{staticClass:"btn btn-floating waves-effect",on:{click:function(t){e.student.modules.push(null)}}},[s("i",{staticClass:"material-icons"},[e._v("add")])]):e._e(),e._v(" "),a!=e.student.modules.length-1?s("a",{staticClass:"btn btn-floating red waves-effect",on:{click:function(t){e.student.modules.splice(a,1)}}},[s("i",{staticClass:"material-icons"},[e._v("close")])]):e._e()])])}),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s12"},[s("md-field",[s("label",[e._v("ID Number")]),e._v(" "),s("md-input",{attrs:{maxlength:"13"},model:{value:e.student.idNumber,callback:function(t){e.$set(e.student,"idNumber",t)},expression:"student.idNumber"}})],1)],1)]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.student.idNumber.length>6,expression:"student.idNumber.length > 6"}],staticClass:"row"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s12"},[s("label",[e._v("\n                                          "+e._s(e.student.isSouthAfrican?"South African Citizen":"Non-South African Citizen")+"\n                                    ")])])]),e._v(" "),s("div",{staticClass:"col s12"},[s("md-field",[s("label",{attrs:{for:"Gender"}},[e._v("Gender")]),e._v(" "),s("md-select",{attrs:{name:"Gender",id:"Gender"},model:{value:e.student.gender,callback:function(t){e.$set(e.student,"gender",t)},expression:"student.gender"}},[s("md-option",{attrs:{disabled:""}},[e._v("Pick a gender")]),e._v(" "),s("md-option",{attrs:{value:"Male"}},[e._v("Male")]),e._v(" "),s("md-option",{attrs:{value:"Female"}},[e._v("Female")])],1)],1)],1),e._v(" "),s("div",{staticClass:"col s12"},[s("md-datepicker",{attrs:{"md-immediately":""},model:{value:e.student.dob,callback:function(t){e.$set(e.student,"dob",t)},expression:"student.dob"}},[s("label",[e._v("Date of birth")])])],1)]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.txtError.length>0,expression:"txtError.length > 0"}],staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 text-center"},[s("label",{staticClass:"text-center red-text"},[e._v(e._s(e.txtError))])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 text-center"},[e.isLoading?e._e():s("input",{staticClass:"btn center-align tg-btn",attrs:{type:"submit",value:"Submit student"},on:{click:function(t){e.SubmitStudent()}}}),e._v(" "),e.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e()],1)])],2)])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header center-align z-depth-3 cardBar"},[t("h5",{staticStyle:{padding:"20px"}},[this._v("Adding a student")])])}]};var R=s("VU/8")(j,F,!1,function(e){s("i4da")},"data-v-590d5249",null).exports,q=s("mtWM"),z={name:"StidentList",data:function(){return{studentModule:{_id:null,username:"",modules:[null],oldModules:[]},txtSearch:"",txtError:"",student:{firstname:"",lastname:"",username:"",password:"",confirmPassword:"",modules:[null],idNumber:"",gender:"",dob:"",isSouthAfrican:!1},addingStudents:!1,students:[],modules:[],selectedStudent:null,showEditProfile:!1,isFullscreen:null,isLoading:!1}},watch:{"student.idNumber":function(e,t){if(e.length>=6&&(this.student.dob=new Date(e.substring(0,2),e.substring(2,4)-1,e.substring(4,6)),e.length>=10)){var s=e.substring(6,10);this.student.gender=parseInt(s)<5e3?"Female":"Male",13==e.length&&(this.student.isSouthAfrican=0==parseInt(e.substring(10,11)))}}},props:["studentIDs"],components:{AddStudent:R},computed:{filteredStudents:function(){var e=this;return this.students.filter(function(t){return e.txtSearch.length<1||I()(t).toLowerCase().indexOf(e.txtSearch.toLowerCase())>=0})}},mounted:function(){this.Reload()},methods:{Reload:function(){var e=this;this.isLoading=!0,null!=this.studentIDs?q.get(this.$store.state.settings.baseLink+"/s/students/of/ids/"+this.studentIDs).then(function(t){e.isLoading=!1,e.students=t.data,1==e.students.length&&(e.isFullscreen=e.students[0]._id)}).catch(function(t){e.isLoading=!1,null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()("Unable to load students","Try again later","error")}):q.get(this.$store.state.settings.baseLink+"/s/students/all").then(function(t){e.isLoading=!1,e.students=t.data,e.students.map(function(e){e.show=!0})}).catch(function(t){e.isLoading=!1,null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()("Unable to load students","Try again later","error")}),this.LoadModules()},AddedNewStudent:function(e){e&&this.Reload()},AddNewModule:function(e){var t=this;if(null==e)this.studentModule._id=null,this.studentModule.username="",this.studentModule.modules=[null],this.studentModule.oldModules=null;else if("submit"==e){this.isLoading=!0;var s=this.studentModule.modules.filter(function(e){return null!=e&&0==t.studentModule.oldModules.filter(function(t){return t._id==e}).length});0==s?l()("No change made","Student is already assigned to the selected modules","success"):q.post(this.$store.state.settings.baseLink+"/m/assign/to/student/"+this.studentModule._id,{modules:s}).then(function(e){t.isLoading=!1;var a=t.modules.filter(function(e){return s.filter(function(t){return t==e._id}).length>0}),n=t.students.find(function(e){return e._id==t.studentModule._id});a.forEach(function(e){n.modules.push(e)}),l()("Modules successfully assigned",s.length+" new modules are now assigned to "+t.studentModule.username,"success"),t.AddNewModule(null)}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()("Unable to load students",e.message,"error")})}else this.studentModule._id=e._id,this.studentModule.username=e.username,this.studentModule.oldModules=e.modules},activeEditProfile:function(e){this.student=null!=e?e:{firstname:"",lastname:"",username:"",password:"",confirmPassword:"",modules:[null],idNumber:"",gender:"",dob:"",isSouthAfrican:!1,isLoading:!0},this.showEditProfile=!this.showEditProfile},DeleteStudent:function(e){var t=this;this.isLoading=!0,q.post(this.$store.state.settings.baseLink+"/s/delete/"+e).then(function(s){t.isLoading=!1;var a=t.students.find(function(t){return t._id==e}),n=t.students.indexOf(a);t.students.splice(n,1),l()("Student was removed from the system","To recover the student you can contact admin","success")}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()("Unable to load students",e.message,"error")})},DeleteModule:function(e,t){var s=this;this.isLoading=!0,q.post(this.$store.state.settings.baseLink+"/m/unassign/module/"+t+"/from/student/"+e).then(function(a){s.isLoading=!1;var n=s.students.find(function(t){return t._id==e}),i=n.modules.indexOf(n.modules.find(function(e){return e._id==t}));i>=0&&s.students[s.students.indexOf(n)].modules.splice(i,1),l()("Module was unassigned successfully","You can reassign the link again","success")}).catch(function(e){s.isLoading=!1,null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()("Unable to load students",e.message,"error")})},DeepSearch:function(){alert("Deep searching for "+this.txtSearch)},goToSolution:function(e){this.$router.push({name:"TestMarks",params:{solutionId:e}})},GetPastTestsFor:function(e){var t=this;q.get(this.$store.state.settings.baseLink+"/s/all/past/tests/for/"+e._id).then(function(s){t.students.map(function(a){a._id==e._id&&(a.pastTests=[],s.data.forEach(function(e){a.pastTests.push({solutionId:e.solutionId,title:e.title,mark:e.mark,date:e.date})}),t.selectedStudent=a)})}).catch(function(e){null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()("Unable to load students",e.message,"error")})},LoadModules:function(){var e=this;q.get(this.$store.state.settings.baseLink+"/m/modules/all").then(function(t){e.modules=t.data,e.options=[],e.modules.map(function(t){e.options.push({value:t._id,text:t.name+" ( "+t.code+" )"})})}).catch(function(e){null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()("Unable to load modules","Try again later","error")})},UpdateStudent:function(){var e=this;this.isLoading=!0,this.txtError="",this.student.lastname.length<2&&(this.txtError="Please enter a valid lastname"),this.student.firstname.length<2&&(this.txtError="Please enter a valid firstname"),this.student.username.length<2&&(this.txtError="Please enter a valid username"),this.student.gender.length<2&&(this.txtError="Please pick a valid gender"),this.student.dob.length<2&&(this.txtError="Please pick a valid date of birth"),this.student.idNumber<6&&(this.txtError="Please enter a valid id number"),this.txtError.length>2?this.isLoading=!1:q.post(this.$store.state.settings.baseLink+"/a/update/student/"+this.student._id,{student:this.student}).then(function(t){e.isLoading=!1,e.students=t.data,e.student={firstname:"",lastname:"",username:"",password:"",confirmPassword:"",modules:[null],idNumber:"",gender:"",dob:"",isSouthAfrican:!1},e.activeEditProfile(null),l()("Profile successfully updated","success")}).catch(function(t){e.isLoading=!1,null!=t.response&&512==t.response.status?e.txtError=t.response.data:l()("Unable to submit the student",t.message,"error")})}}},Q={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2"},[s("md-button",{staticClass:"right",on:{click:function(t){e.addingStudents?e.addingStudents=!1:e.$router.back()}}},[s("md-icon",[e._v("keyboard_backspace")]),e._v(" "),s("span",[e._v("Back")])],1)],1)]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.addingStudents,expression:"!addingStudents"}],staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 center-align"},[s("a",{staticClass:"btn waves-effect",on:{click:function(t){e.addingStudents=!e.addingStudents}}},[e._v("Add new student")])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.addingStudents,expression:"addingStudents"}],staticClass:"row",staticStyle:{height:"80vh"}},[s("div",{staticClass:"col s12 m8 offset-m2 l6 offset-l3"},[s("add-student",{on:{submitted:e.AddedNewStudent}})],1)]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.addingStudents,expression:"!addingStudents"}],staticClass:"row"},[s("md-dialog",{staticClass:"card",staticStyle:{position:"absolute"},attrs:{"md-active":null!=e.studentModule._id},on:{"update:mdActive":function(t){e.$set(e.studentModule,"_id != null",t)}}},[s("md-dialog-title",[e._v("Adding modules for "+e._s(e.studentModule.username))]),e._v(" "),s("md-dialog-content",e._l(e.studentModule.modules.length,function(t,a){return s("div",{key:a,staticClass:"row"},[s("div",{staticClass:"col s10"},[s("md-field",[s("label",{attrs:{for:"mmodules-"+a}},[e._v("Module "+e._s(t))]),e._v(" "),s("md-select",{attrs:{name:"mmodules-"+a,id:"mmodules-"+a},model:{value:e.studentModule.modules[a],callback:function(t){e.$set(e.studentModule.modules,a,t)},expression:"studentModule.modules[i]"}},e._l(e.modules,function(t){return s("md-option",{key:t._id,attrs:{disabled:e.studentModule.modules.filter(function(e){return e==t._id}).length>0,value:t._id}},[e._v(e._s(t.name)+" ("+e._s(t.code)+")")])}))],1)],1),e._v(" "),s("div",{staticClass:"col s2 bottom-align"},[s("a",{directives:[{name:"show",rawName:"v-show",value:a==e.studentModule.modules.length-1&&null!=e.studentModule.modules[a],expression:"i == (studentModule.modules.length - 1) && studentModule.modules[i] != null"}],staticClass:"btn btn-floating waves-effect",on:{click:function(t){e.studentModule.modules.push(null)}}},[s("i",{staticClass:"material-icons"},[e._v("add")])]),e._v(" "),s("a",{directives:[{name:"show",rawName:"v-show",value:a!=e.studentModule.modules.length-1,expression:"i != (studentModule.modules.length - 1)"}],staticClass:"btn btn-floating red waves-effect",on:{click:function(t){e.studentModule.modules.splice(a,1)}}},[s("i",{staticClass:"material-icons"},[e._v("close")])])])])})),e._v(" "),s("md-dialog-actions",[s("md-button",{staticClass:"md-primary",on:{click:function(t){e.AddNewModule(null)}}},[e._v("Close")]),e._v(" "),e.isLoading?e._e():s("md-button",{staticClass:"md-primary",on:{click:function(t){e.AddNewModule("submit")}}},[e._v("Save Changes")]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[e.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e()],1)])],1)],1),e._v(" "),s("md-dialog",{staticClass:"card",staticStyle:{position:"absolute"},attrs:{"md-active":e.showEditProfile},on:{"update:mdActive":function(t){e.showEditProfile=t}}},[s("md-dialog-actions",[s("md-button",{staticClass:"md-icon-button right",on:{click:function(t){e.activeEditProfile(null)}}},[s("md-icon",[e._v("close")])],1)],1),e._v(" "),s("div",{staticClass:"col m8 offset-m2 col s12 center-align",staticStyle:{"overflow-y":"scroll","overflow-x":"hidden"}},[s("div",{staticClass:"card-content row"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s12 center-align"},[s("h5",[e._v("Editting "+e._s(e.student.firstname)+" "+e._s(e.student.lastname)+"'s profile")])]),e._v(" "),s("div",{staticClass:"input-field col s10 offset-s1 m8 offset-m2 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.student.firstname,expression:"student.firstname"}],attrs:{id:"Firstname",name:"Firstname",type:"text"},domProps:{value:e.student.firstname},on:{input:function(t){t.target.composing||e.$set(e.student,"firstname",t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Firstname"}},[e._v("Firstname")])]),e._v(" "),s("div",{staticClass:"input-field col s10 offset-s1 m8 offset-m2 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.student.lastname,expression:"student.lastname"}],attrs:{id:"Lastname",name:"Lastname",type:"text"},domProps:{value:e.student.lastname},on:{input:function(t){t.target.composing||e.$set(e.student,"lastname",t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Lastname"}},[e._v("Lastname")])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s10 offset-s1 m8 offset-m2 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.student.username,expression:"student.username"}],attrs:{id:"Username",name:"Username",type:"text"},domProps:{value:e.student.username},on:{input:function(t){t.target.composing||e.$set(e.student,"username",t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Username"}},[e._v("Username")])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s10 offset-s1 m8 offset-m2"},[s("md-field",[s("label",[e._v("ID Number")]),e._v(" "),s("md-input",{attrs:{maxlength:"13"},model:{value:e.student.idNumber,callback:function(t){e.$set(e.student,"idNumber",t)},expression:"student.idNumber"}})],1)],1)]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.student.idNumber.length>6,expression:"student.idNumber.length > 6"}],staticClass:"row"},[s("div",{staticClass:"col s10 offset-s1 m8 offset-m2"},[s("label",[e._v("\n                                                      "+e._s(e.student.isSouthAfrican?"South African Citizen":"Non-South African Citizen")+"\n                                                ")])]),e._v(" "),s("div",{staticClass:"col s10 offset-s1 m8 offset-m2"},[s("md-field",[s("label",{attrs:{for:"Gender"}},[e._v("Gender")]),e._v(" "),s("md-select",{attrs:{name:"Gender",id:"Gender"},model:{value:e.student.gender,callback:function(t){e.$set(e.student,"gender",t)},expression:"student.gender"}},[s("md-option",{attrs:{disabled:""}},[e._v("Pick a gender")]),e._v(" "),s("md-option",{attrs:{value:"Male"}},[e._v("Male")]),e._v(" "),s("md-option",{attrs:{value:"Female"}},[e._v("Female")])],1)],1)],1),e._v(" "),s("div",{staticClass:"col s10 offset-s1 m8 offset-m2"},[s("md-datepicker",{attrs:{"md-immediately":""},model:{value:e.student.dob,callback:function(t){e.$set(e.student,"dob",t)},expression:"student.dob"}},[s("label",[e._v("Date of birth")])])],1)]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.txtError.length>0,expression:"txtError.length > 0"}],staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 text-center"},[s("label",{staticClass:"text-center red-text"},[e._v(e._s(e.txtError))])])])])]),e._v(" "),s("md-dialog-actions",[s("md-button",{staticClass:"red",on:{click:function(t){e.activeEditProfile(null)}}},[e._v("\n          Cancel\n        ")]),e._v(" "),e.isLoading?e._e():s("md-button",{staticClass:"right",on:{click:function(t){e.UpdateStudent()}}},[e._v("\n          Save changes\n        ")]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[e.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e()],1)])],1)],1),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s10 offset-s1 m8 offset-m3 l6 offset-l3 "},[s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.txtSearch,expression:"txtSearch"}],attrs:{id:"Password",name:"Search",type:"search"},domProps:{value:e.txtSearch},on:{keypress:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.DeepSearch(t):null},input:function(t){t.target.composing||(e.txtSearch=t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Search"}},[e._v("Search")])])]),e._v(" "),s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[e.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e()],1)]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0==e.filteredStudents.length&&!e.isLoading,expression:"filteredStudents.length == 0 && !isLoading"}],staticClass:"col s12 center-align"},[s("p",{staticClass:"red-text"},[e._v("No results found")])]),e._v(" "),e._l(e.filteredStudents,function(t,a){return s("div",{directives:[{name:"show",rawName:"v-show",value:null==e.isFullscreen||e.isFullscreen==t._id,expression:"isFullscreen == null || isFullscreen == student._id"}],key:a,staticClass:"col",class:{"s10 offset-s1 m8 offset-m2 l6 offset-l3":e.isFullscreen==t._id,"m6 l4 xl3":null==e.isFullscreen,hidden:e.isFullscreen!=t._id}},[s("md-card",{staticClass:"hoverable"},[s("md-card-header",[s("md-card-header-text",[s("div",{staticClass:"md-title"},[e._v(e._s(t.lastname)+" "+e._s(t.firstname))]),e._v(" "),s("div",{staticClass:"md-subhead"},[e._v("Takes "+e._s(t.modules.length)+" "+e._s(1==t.modules.length?"module":"modules"))])]),e._v(" "),s("md-menu",{attrs:{"md-size":"big","md-direction":"bottom-end"}},[s("md-button",{staticClass:"md-icon-button waves-effect",on:{click:function(s){e.isFullscreen==t._id?e.isFullscreen=null:e.isFullscreen=t._id}}},[s("md-icon",[e._v(e._s(e.isFullscreen==t._id?"close":"fullscreen"))])],1)],1)],1),e._v(" "),s("md-card-content",[s("md-list",{staticClass:"md-double-line"},[s("md-subheader",[e._v("Details")]),e._v(" "),t.gender?s("md-list-item",{staticClass:"waves-effect"},[s("md-icon",{staticClass:"md-primary"},[e._v("account_circle")]),e._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[e._v(e._s(t.idNumber))]),e._v(" "),s("span",[e._v("ID Number")])])],1):e._e(),e._v(" "),t.gender?s("md-list-item",{staticClass:"waves-effect"},[s("md-icon",{staticClass:"md-primary"},[e._v("wc")]),e._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[e._v(e._s(t.gender))]),e._v(" "),s("span",[e._v("Gender")])])],1):e._e(),e._v(" "),null!=t.isSouthAfrican?s("md-list-item",{staticClass:"waves-effect"},[s("md-icon",{staticClass:"md-primary"},[e._v("flag")]),e._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[e._v(e._s(t.isSouthAfrican?"South African":"Non South African"))]),e._v(" "),s("span",[e._v("Nationality")])])],1):e._e()],1)],1),e._v(" "),s("md-card-expand",[s("md-card-actions",{attrs:{"md-alignment":"space-between"}},[s("div",[s("md-button",{on:{click:function(s){e.activeEditProfile(t)}}},[s("md-icon",[e._v("account_circle")]),e._v(" "+e._s(t.username)+"\n              ")],1)],1),e._v(" "),s("div"),e._v(" "),s("md-card-expand-trigger",[s("md-button",{staticClass:"md-icon-button",on:{click:function(s){e.GetPastTestsFor(t)}}},[s("md-icon",[e._v("keyboard_arrow_down")])],1)],1)],1),e._v(" "),s("md-card-expand-content",[s("md-card-content",[s("md-list",{staticClass:"md-double-line"},[s("md-subheader",[e._v("Modules")]),e._v(" "),e._l(t.modules,function(a){return s("md-list-item",{key:a._id,class:{"waves-effect":!a.removed}},[s("md-icon",{staticClass:"md-primary"},[e._v("book")]),e._v(" "),s("div",{staticClass:"md-list-item-text",on:{click:function(t){!a.removed&&e.goToModule(a._id)}}},[s("span",[e._v(e._s(a.name))]),e._v(" "),s("span",[e._v(e._s(a.removed?"Unassign "+a.code:a.code))])]),e._v(" "),s("md-button",{directives:[{name:"show",rawName:"v-show",value:!a.removed,expression:"!modul.removed"}],staticClass:"md-icon-button md-list-action",on:{click:function(e){a.removed=!0}}},[s("md-icon",[e._v("delete")])],1),e._v(" "),e.isLoading?e._e():s("md-button",{directives:[{name:"show",rawName:"v-show",value:a.removed,expression:"modul.removed"}],staticClass:"md-icon-button md-list-action",on:{click:function(s){e.DeleteModule(t._id,a._id)}}},[s("md-icon",[e._v("done")])],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:a.removed,expression:"modul.removed"}],staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[e.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e()],1)]),e._v(" "),s("md-button",{directives:[{name:"show",rawName:"v-show",value:a.removed,expression:"modul.removed"}],staticClass:"md-icon-button md-list-action",on:{click:function(e){a.removed=!1}}},[s("md-icon",[e._v("close")])],1)],1)}),e._v(" "),s("md-list-item",{staticClass:"waves-effect",on:{click:function(s){e.AddNewModule(t)}}},[s("md-icon",{staticClass:"md-primary"},[e._v("add")]),e._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[e._v("Add new Module")]),e._v(" "),s("span")])],1),e._v(" "),s("md-subheader",[e._v("Past tests")]),e._v(" "),e._l(t.pastTests,function(t,a){return s("md-list-item",{key:a,staticClass:"waves-effect",attrs:{href:"#"},on:{click:function(s){e.goToSolution(t.solutionId)}}},[s("md-icon",{staticClass:"md-primary"},[e._v("account_circle")]),e._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[e._v(e._s(t.mark))]),e._v(" "),s("span",[e._v(e._s(t.title))])])],1)}),e._v(" "),s("md-subheader",[e._v("Student settings")]),e._v(" "),s("md-list-item",{staticClass:"waves-effect",on:{click:function(e){t.removed=!t.removed}}},[s("md-icon",{staticClass:"md-primary"},[e._v("delete")]),e._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[e._v(e._s(t.removed?"Are you sure?":"Delete"))])]),e._v(" "),e.isLoading?e._e():s("md-button",{directives:[{name:"show",rawName:"v-show",value:t.removed,expression:"student.removed"}],staticClass:"md-icon-button md-list-action",on:{click:function(s){e.DeleteStudent(t._id)}}},[s("md-icon",[e._v("done")])],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.removed,expression:"student.removed"}],staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[e.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e()],1)]),e._v(" "),s("md-button",{directives:[{name:"show",rawName:"v-show",value:t.removed,expression:"student.removed"}],staticClass:"md-icon-button md-list-action"},[s("md-icon",[e._v("close")])],1)],1)],2)],1)],1)],1)],1)],1)})],2)])},staticRenderFns:[]};var B=s("VU/8")(z,Q,!1,function(e){s("84tw")},"data-v-141d4882",null).exports,V=s("mtWM"),O={name:"StidentList",data:function(){return{txtSearch:"",txtError:"",module:{name:"",code:"",description:""},addingModules:!1,modules:[],selectedStudent:null,isLoading:!1}},computed:{filteredModules:function(){var e=this;return this.modules.filter(function(t){return e.txtSearch.length<1||I()(t).toLowerCase().indexOf(e.txtSearch.toLowerCase())>=0})}},mounted:function(){var e=this;this.isLoading=!0,V.get(this.$store.state.settings.baseLink+"/m/modules/all/for/"+this.$store.state.user.id+"/"+this.$store.state.user.type).then(function(t){e.isLoading=!1,e.modules=t.data,e.modules.map(function(e){e.show=!0})}).catch(function(t){e.isLoading=!1,null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()("Unable to load modules","Try again later","error")})},methods:{DeepSearch:function(){alert("Deep searching for "+this.txtSearch)},goToSolution:function(e){this.$router.push({name:"TestMarks",params:{solutionId:e}})},SubmitModule:function(){var e=this;this.isLoading=!0,this.txtError="",this.module.name.length<2&&(this.txtError="Please enter a valid module name"),this.module.code.length<2&&(this.txtError="Please enter a valid module code"),this.txtError.length>2?this.isLoading=!1:V.post(this.$store.state.settings.baseLink+"/m/add/new/module",{module:this.module}).then(function(t){e.isLoading=!1,e.modules=t.data,e.addingModules=!1}).catch(function(t){e.isLoading=!1,null!=t.response&&512==t.response.status?e.txtError=t.response.data:l()("Unable to submit the module",t.message,"error")})}}},G={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"screen"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2"},[s("md-button",{staticClass:"right",on:{click:function(t){e.$router.back()}}},[s("md-icon",[e._v("keyboard_backspace")]),e._v(" "),s("span",[e._v("Back")])],1)],1)]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s10 offset-s1 m8 offset-m3 l6 offset-l3 "},[s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.txtSearch,expression:"txtSearch"}],attrs:{id:"Password",name:"Search",type:"search"},domProps:{value:e.txtSearch},on:{keypress:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.DeepSearch(t):null},input:function(t){t.target.composing||(e.txtSearch=t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Search"}},[e._v("Search")])])]),e._v(" "),s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[e.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e()],1)]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 center-align"},[s("a",{staticClass:"btn waves-effect",class:{red:e.addingModules},on:{click:function(t){e.addingModules=!e.addingModules}}},[e._v(e._s(e.addingModules?"Cancel":"Add Module"))])])]),e._v(" "),e.addingModules?s("div",{staticClass:"row valign-wrapper",staticStyle:{height:"80vh"}},[s("div",{staticClass:"col m6 offset-m3 col s12 center-align"},[s("div",{staticClass:"card row"},[s("div",{staticClass:"card-content"},[s("div",{staticClass:"row"},[e._m(0),e._v(" "),s("div",{staticClass:"input-field col m4 offset-m1 s12 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.module.name,expression:"module.name"}],attrs:{id:"ModuleName",name:"ModuleName",type:"text"},domProps:{value:e.module.name},on:{input:function(t){t.target.composing||e.$set(e.module,"name",t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"ModuleName"}},[e._v("Module name")])]),e._v(" "),s("div",{staticClass:"input-field col m4 offset-m1 s12 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.module.code,expression:"module.code"}],attrs:{id:"ModuleCode",name:"ModuleCode",type:"text"},domProps:{value:e.module.code},on:{input:function(t){t.target.composing||e.$set(e.module,"code",t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"ModuleCode"}},[e._v("Module code")])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.module.description,expression:"module.description"}],attrs:{id:"ModuleDescription",name:"ModuleDescription",type:"text"},domProps:{value:e.module.description},on:{input:function(t){t.target.composing||e.$set(e.module,"description",t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"ModuleDescription"}},[e._v("Module description")])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.txtError.length>0,expression:"txtError.length > 0"}],staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 text-center"},[s("label",{staticClass:"text-center red-text"},[e._v(e._s(e.txtError))])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 center-align text-center"},[e.isLoading?e._e():s("input",{staticClass:"btn center-align tg-btn",attrs:{type:"submit",value:"Submit module"},on:{click:function(t){e.SubmitModule()}}}),e._v(" "),e.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e()],1)])])])])]):e._e(),e._v(" "),e.addingModules?e._e():s("div",{staticClass:"row"},[s("div",{staticClass:"col s12"},[s("table",{directives:[{name:"show",rawName:"v-show",value:e.modules&&e.modules.length>0,expression:"modules && modules.length > 0"}],staticClass:"highlight card"},[e._m(1),e._v(" "),s("tbody",e._l(e.filteredModules,function(t,a){return s("tr",{key:a},[s("td",[e._v(e._s(t.name))]),e._v(" "),s("td",[e._v(e._s(t.code))]),e._v(" "),s("td",[e._v(e._s(t.description))]),e._v(" "),s("td",e._l(t.lecturers,function(t){return s("a",{key:t._id,staticClass:"pointer"},[s("p",[e._v(e._s(t.lastname)+" "+e._s(t.firstname))])])})),e._v(" "),s("td",[s("a",{staticClass:"pointer"},[e._v(e._s(t.students.length))])]),e._v(" "),s("td",[s("a",{staticClass:"pointer"},[e._v(e._s(t.questionaires.length))])]),e._v(" "),s("td",[s("a",{staticClass:"pointer btn black",on:{click:function(s){e.goToModule(t._id)}}},[e._v("View")])])])}))])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col s12 center-align"},[t("h5",[this._v("Adding a module")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",[s("th",[e._v("Name")]),e._v(" "),s("th",[e._v("Code")]),e._v(" "),s("th",[e._v("Description")]),e._v(" "),s("th",[e._v("Lecturers")]),e._v(" "),s("th",[e._v("Total students")]),e._v(" "),s("th",[e._v("Total tests")]),e._v(" "),s("th",[e._v("More details")])])])}]};var H=s("VU/8")(O,G,!1,function(e){s("6lsN")},"data-v-1f4b8668",null).exports,W=s("bOdI"),X=s.n(W),Y=(s("4+hh"),s("mtWM")),J={name:"LecturerList",data:function(){return{txtError:"",lecturer:{firstname:"",lastname:"",username:"",password:"",confirmPassword:"",modules:[null],idNumber:"",gender:"",dob:"",isSouthAfrican:!1},done:!1,modules:[],isLoading:!1}},watch:{"lecturer.idNumber":function(e,t){if(e.length>=6&&(this.lecturer.dob=new Date(e.substring(0,2),e.substring(2,4)-1,e.substring(4,6)),e.length>=10)){var s=e.substring(6,10);this.lecturer.gender=parseInt(s)<5e3?"Female":"Male",13==e.length&&(this.lecturer.isSouthAfrican=0==parseInt(e.substring(10,11)))}}},mounted:function(){this.done=!1,this.LoadModules()},methods:{LoadModules:function(){var e=this;this.isLoading=!0,Y.get(this.$store.state.settings.baseLink+"/m/modules/all").then(function(t){e.isLoading=!1,e.modules=t.data}).catch(function(t){e.isLoading=!1,null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()("Unable to load modules","Try again later","error")})},SubmitLecturer:function(){var e=this;this.txtError="",this.isLoading=!0,this.lecturer.lastname.length<2&&(this.txtError="Please enter a valid lastname"),this.lecturer.firstname.length<2&&(this.txtError="Please enter a valid firstname"),this.lecturer.password!=this.lecturer.confirmPassword&&(this.txtError="Passwords do not match"),this.lecturer.password.length<6&&(this.txtError="Please enter a valid password , passwords must be more than 6 charactors long"),this.lecturer.username.length<2&&(this.txtError="Please enter a valid username"),this.lecturer.gender.length<2&&(this.txtError="Please pick a valid gender"),this.lecturer.dob.length<2&&(this.txtError="Please pick a valid date of birth"),this.lecturer.idNumber<6&&(this.txtError="Please enter a valid id number"),this.lecturer.modules.filter(function(e){return null!=e}).length<=0&&(this.txtError="Please select at least one module"),this.txtError.length>2?this.isLoading=!1:Y.post(this.$store.state.settings.baseLink+"/a/add/lecturer",{lecturer:this.lecturer}).then(function(t){e.isLoading=!1,e.done=!0,e.$emit("submitted",!0)}).catch(function(t){e.isLoading=!1,null!=t.response&&512==t.response.status?e.txtError=t.response.data:l()("Unable to submit the lecturer",t.message,"error"),e.$emit("submitted",!1)})}}},Z={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"row"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.done,expression:"done"}],staticClass:"col s12 center-align card-panel"},[s("md-empty-state",{attrs:{"md-icon":"done","md-label":"Lecturer was successfully added.","md-description":"You can now assign the lecturer to more modules / view the lecturer's progress."}})],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.done,expression:"!done"}],staticClass:"col s12 center-align"},[s("div",{staticClass:"card row"},[e._m(0),e._v(" "),s("div",{staticClass:"card-content"},[s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col m4 offset-m1 s12 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.lecturer.firstname,expression:"lecturer.firstname"}],attrs:{id:"Firstname",name:"Firstname",type:"text"},domProps:{value:e.lecturer.firstname},on:{input:function(t){t.target.composing||e.$set(e.lecturer,"firstname",t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Firstname"}},[e._v("Firstname")])]),e._v(" "),s("div",{staticClass:"input-field col m4 offset-m1 s12 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.lecturer.lastname,expression:"lecturer.lastname"}],attrs:{id:"Lastname",name:"Lastname",type:"text"},domProps:{value:e.lecturer.lastname},on:{input:function(t){t.target.composing||e.$set(e.lecturer,"lastname",t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Lastname"}},[e._v("Lastname")])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.lecturer.username,expression:"lecturer.username"}],attrs:{id:"Username",name:"Username",type:"text"},domProps:{value:e.lecturer.username},on:{input:function(t){t.target.composing||e.$set(e.lecturer,"username",t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Username"}},[e._v("Username")])])]),e._v(" "),e._l(e.lecturer.modules.length,function(t,a){return s("div",{key:t,staticClass:"row"},[s("div",{staticClass:"col s10"},[s("md-field",[s("label",{attrs:{for:"modules-"+a}},[e._v("Module "+e._s(t))]),e._v(" "),s("md-select",{attrs:{name:"modules-"+a,id:"modules-"+a},model:{value:e.lecturer.modules[a],callback:function(t){e.$set(e.lecturer.modules,a,t)},expression:"lecturer.modules[i]"}},e._l(e.modules,function(t){return s("md-option",{key:t._id,attrs:{disabled:e.lecturer.modules.filter(function(e){return e==t._id}).length>0,value:t._id}},[e._v(e._s(t.name)+" ("+e._s(t.code)+")")])}))],1)],1),e._v(" "),s("div",{staticClass:"col s2 bottom-align"},[a==e.lecturer.modules.length-1&&null!=e.lecturer.modules[a]?s("a",{staticClass:"btn btn-floating waves-effect",on:{click:function(t){e.lecturer.modules.push(null)}}},[s("i",{staticClass:"material-icons"},[e._v("add")])]):e._e(),e._v(" "),a!=e.lecturer.modules.length-1?s("a",{staticClass:"btn btn-floating red waves-effect",on:{click:function(t){e.lecturer.modules.splice(a,1)}}},[s("i",{staticClass:"material-icons"},[e._v("close")])]):e._e()])])}),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s12"},[s("md-field",[s("label",[e._v("ID Number")]),e._v(" "),s("md-input",{attrs:{maxlength:"13"},model:{value:e.lecturer.idNumber,callback:function(t){e.$set(e.lecturer,"idNumber",t)},expression:"lecturer.idNumber"}})],1)],1)]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.lecturer.idNumber.length>6,expression:"lecturer.idNumber.length > 6"}],staticClass:"row"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s12"},[s("label",[e._v("\n                                                  "+e._s(e.lecturer.isSouthAfrican?"South African Citizen":"Non-South African Citizen")+"\n                                            ")])])]),e._v(" "),s("div",{staticClass:"col s12"},[s("md-field",[s("label",{attrs:{for:"Gender"}},[e._v("Gender")]),e._v(" "),s("md-select",{attrs:{name:"Gender",id:"Gender"},model:{value:e.lecturer.gender,callback:function(t){e.$set(e.lecturer,"gender",t)},expression:"lecturer.gender"}},[s("md-option",{attrs:{disabled:""}},[e._v("Pick a gender")]),e._v(" "),s("md-option",{attrs:{value:"Male"}},[e._v("Male")]),e._v(" "),s("md-option",{attrs:{value:"Female"}},[e._v("Female")])],1)],1)],1),e._v(" "),s("div",{staticClass:"col s12"},[s("md-datepicker",{attrs:{"md-immediately":""},model:{value:e.lecturer.dob,callback:function(t){e.$set(e.lecturer,"dob",t)},expression:"lecturer.dob"}},[s("label",[e._v("Date of birth")])])],1)]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col m4 offset-m1 s12 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.lecturer.password,expression:"lecturer.password"}],attrs:{id:"Password",name:"Password",type:"password"},domProps:{value:e.lecturer.password},on:{input:function(t){t.target.composing||e.$set(e.lecturer,"password",t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Password"}},[e._v("Password")])]),e._v(" "),s("div",{staticClass:"input-field col m4 offset-m1 s12 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.lecturer.confirmPassword,expression:"lecturer.confirmPassword"}],attrs:{id:"ConfirmPassword",name:"ConfirmPassword",type:"password"},domProps:{value:e.lecturer.confirmPassword},on:{input:function(t){t.target.composing||e.$set(e.lecturer,"confirmPassword",t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"ConfirmPassword"}},[e._v("Confirm Password")])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.txtError.length>0,expression:"txtError.length > 0"}],staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 text-center"},[s("label",{staticClass:"text-center red-text"},[e._v(e._s(e.txtError))])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 text-center"},[e.isLoading?e._e():s("input",{staticClass:"btn center-align tg-btn",attrs:{type:"submit",value:"Submit lecturer"},on:{click:function(t){e.SubmitLecturer()}}}),e._v(" "),e.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e()],1)])],2)])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header center-align z-depth-3 cardBar"},[t("h5",{staticStyle:{padding:"20px"}},[this._v("Adding a lecturer")])])}]};var K=s("VU/8")(J,Z,!1,function(e){s("4mxi")},"data-v-a45291da",null).exports,ee=s("mtWM"),te={name:"LecturerList",data:function(){var e;return e={lecturerModule:{_id:null,username:"",modules:[null],oldModules:[]},txtSearch:"",options:[],searchText:"",items:[],lastSelectItem:{},txtError:"",lecturer:{firstname:"",lastname:"",username:"",password:"",confirmPassword:"",modules:[null],idNumber:"",gender:"",dob:"",isSouthAfrican:!1},addingLecturers:!1},X()(e,"txtSearch",""),X()(e,"lecturers",[]),X()(e,"modules",[]),X()(e,"showEditProfile",!1),X()(e,"isFullscreen",null),X()(e,"isLoading",!1),e},watch:{"lecturer.idNumber":function(e,t){if(e.length>=6&&(this.lecturer.dob=new Date(e.substring(0,2),e.substring(2,4)-1,e.substring(4,6)),e.length>=10)){var s=e.substring(6,10);this.lecturer.gender=parseInt(s)<5e3?"Female":"Male",13==e.length&&(this.lecturer.isSouthAfrican=0==parseInt(e.substring(10,11)))}}},props:["lecturerIDs"],components:{AddLecturer:K},computed:{filteredLecturers:function(){var e=this;return this.lecturers.filter(function(t){return e.txtSearch.length<1||I()(t).toLowerCase().indexOf(e.txtSearch.toLowerCase())>=0})}},mounted:function(){this.Reload()},methods:{Reload:function(){var e=this;this.isLoading=!0,null!=this.lecturerIDs?ee.get(this.$store.state.settings.baseLink+"/l/lecturers/of/ids/"+this.lecturerIDs).then(function(t){e.isLoading=!1,e.lecturers=t.data,1==e.lecturers.length&&(e.isFullscreen=e.lecturers[0]._id)}).catch(function(t){e.isLoading=!1,null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()("Unable to load lecturers","Try again later","error")}):ee.get(this.$store.state.settings.baseLink+"/l/lecturers/all").then(function(t){e.isLoading=!1,e.lecturers=t.data}).catch(function(t){e.isLoading=!1,null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()("Unable to load lecturers","Try again later","error")}),this.LoadModules()},AddedNewLecturer:function(e){e&&this.Reload()},AddNewModule:function(e){var t=this;if(null==e)this.lecturerModule._id=null,this.lecturerModule.username="",this.lecturerModule.modules=[null],this.lecturerModule.oldModules=null;else if("submit"==e){this.isLoading=!0;var s=this.lecturerModule.modules.filter(function(e){return null!=e&&0==t.lecturerModule.oldModules.filter(function(t){return t._id==e}).length});0==s?l()("No change made","Student is already assigned to the selected modules","success"):ee.post(this.$store.state.settings.baseLink+"/m/assign/to/lecturer/"+this.lecturerModule._id,{modules:s}).then(function(e){t.isLoading=!1;var a=t.modules.filter(function(e){return s.filter(function(t){return t==e._id}).length>0}),n=t.lecturers.find(function(e){return e._id==t.lecturerModule._id});a.forEach(function(e){n.modules.push(e)}),l()("Modules successfully assigned",s.length+" new modules are now assigned to "+t.lecturerModule.username,"success"),t.AddNewModule(null)}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()("Unable to load lecturers",e.message,"error")})}else this.lecturerModule._id=e._id,this.lecturerModule.username=e.username,this.lecturerModule.oldModules=e.modules},activeEditProfile:function(e){this.lecturer=null!=e?e:{firstname:"",lastname:"",username:"",password:"",confirmPassword:"",modules:[null],idNumber:"",gender:"",dob:"",isSouthAfrican:!1},this.showEditProfile=!this.showEditProfile},onSelect:function(e,t){this.items=e,this.lastSelectItem=t},reset:function(){this.items=[]},selectOption:function(){},DeleteLecturer:function(e){var t=this;this.isLoading=!0,ee.post(this.$store.state.settings.baseLink+"/l/delete/"+e).then(function(s){t.isLoading=!1;var a=t.lecturers.find(function(t){return t._id==e}),n=t.lecturers.indexOf(a);t.lecturers.splice(n,1),l()("Lecturer was removed from the system","To recover the lecturer you can contact admin","success")}).catch(function(e){t.isLoading=!1,l()("An error has occurred",e.message,"error")})},DeleteModule:function(e,t){var s=this;ee.post(this.$store.state.settings.baseLink+"/m/unassign/module/"+t+"/from/lecturer/"+e).then(function(a){var n=s.lecturers.find(function(t){return t._id==e}),i=n.modules.indexOf(n.modules.find(function(e){return e._id==t}));i>=0&&s.lecturers[s.lecturers.indexOf(n)].modules.splice(i,1),l()("Module was unassigned successfully","You can reassign the link again","success")}).catch(function(e){null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()("Unable to load lecturers",e.message,"error")})},LoadModules:function(){var e=this;ee.get(this.$store.state.settings.baseLink+"/m/modules/all").then(function(t){e.modules=t.data,e.options=[],e.modules.map(function(t){e.options.push({value:t._id,text:t.name+" ( "+t.code+" )"})})}).catch(function(e){null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()("Unable to load modules","Try again later","error")})},UpdateLecturer:function(){var e=this;this.isLoading=!0,this.txtError="",this.lecturer.lastname.length<2&&(this.txtError="Please enter a valid lastname"),this.lecturer.firstname.length<2&&(this.txtError="Please enter a valid firstname"),this.lecturer.username.length<2&&(this.txtError="Please enter a valid username"),this.lecturer.gender.length<2&&(this.txtError="Please pick a valid gender"),this.lecturer.dob.length<2&&(this.txtError="Please pick a valid date of birth"),this.lecturer.idNumber<6&&(this.txtError="Please enter a valid id number"),this.txtError.length>2?this.isLoading=!1:ee.post(this.$store.state.settings.baseLink+"/a/update/lecturer/"+this.lecturer._id,{lecturer:this.lecturer}).then(function(t){e.isLoading=!1,e.lecturers=t.data,e.lecturer={firstname:"",lastname:"",username:"",password:"",confirmPassword:"",modules:[null],idNumber:"",gender:"",dob:"",isSouthAfrican:!1},e.activeEditProfile(null),l()("Profile successfully updated","success")}).catch(function(t){e.isLoading=!1,null!=t.response&&512==t.response.status?e.txtError=t.response.data:l()("Unable to submit the lecturer",t.message,"error")})}}},se={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2"},[s("md-button",{staticClass:"right",on:{click:function(t){e.addingLecturers?e.addingLecturers=!1:e.$router.back()}}},[s("md-icon",[e._v("keyboard_backspace")]),e._v(" "),s("span",[e._v("Back")])],1)],1)]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.addingLecturers,expression:"!addingLecturers"}],staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 center-align"},[s("a",{staticClass:"btn waves-effect",on:{click:function(t){e.addingLecturers=!e.addingLecturers}}},[e._v("Add Lecturer")])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.addingLecturers,expression:"addingLecturers"}],staticClass:"row",staticStyle:{height:"80vh"}},[s("div",{staticClass:"col s12 m8 offset-m2 l6 offset-l3"},[s("add-lecturer",{on:{submitted:e.AddedNewLecturer}})],1)]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.addingLecturers,expression:"!addingLecturers"}],staticClass:"row"},[s("md-dialog",{staticClass:"card",staticStyle:{position:"absolute"},attrs:{"md-active":null!=e.lecturerModule._id},on:{"update:mdActive":function(t){e.$set(e.lecturerModule,"_id != null",t)}}},[s("md-dialog-title",[e._v("Adding modules for "+e._s(e.lecturerModule.username))]),e._v(" "),s("md-dialog-content",e._l(e.lecturerModule.modules.length,function(t,a){return s("div",{key:a,staticClass:"row"},[s("div",{staticClass:"col s10"},[s("md-field",[s("label",{attrs:{for:"mmodules-"+a}},[e._v("Module "+e._s(t))]),e._v(" "),s("md-select",{attrs:{name:"mmodules-"+a,id:"mmodules-"+a},model:{value:e.lecturerModule.modules[a],callback:function(t){e.$set(e.lecturerModule.modules,a,t)},expression:"lecturerModule.modules[i]"}},e._l(e.modules,function(t){return s("md-option",{key:t._id,attrs:{disabled:e.lecturerModule.modules.filter(function(e){return e==t._id}).length>0,value:t._id}},[e._v(e._s(t.name)+" ("+e._s(t.code)+")")])}))],1)],1),e._v(" "),s("div",{staticClass:"col s2 bottom-align"},[s("a",{directives:[{name:"show",rawName:"v-show",value:a==e.lecturerModule.modules.length-1&&null!=e.lecturerModule.modules[a],expression:"i == (lecturerModule.modules.length - 1) && lecturerModule.modules[i] != null"}],staticClass:"btn btn-floating waves-effect",on:{click:function(t){e.lecturerModule.modules.push(null)}}},[s("i",{staticClass:"material-icons"},[e._v("add")])]),e._v(" "),s("a",{directives:[{name:"show",rawName:"v-show",value:a!=e.lecturerModule.modules.length-1,expression:"i != (lecturerModule.modules.length - 1)"}],staticClass:"btn btn-floating red waves-effect",on:{click:function(t){e.lecturerModule.modules.splice(a,1)}}},[s("i",{staticClass:"material-icons"},[e._v("close")])])])])})),e._v(" "),s("md-dialog-actions",[s("md-button",{staticClass:"md-primary",on:{click:function(t){e.AddNewModule(null)}}},[e._v("Close")]),e._v(" "),e.isLoading?e._e():s("md-button",{staticClass:"md-primary",on:{click:function(t){e.AddNewModule("submit")}}},[e._v("Save Changes")]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[e.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e()],1)])],1)],1),e._v(" "),s("md-dialog",{staticClass:"card",staticStyle:{position:"absolute"},attrs:{"md-active":e.showEditProfile},on:{"update:mdActive":function(t){e.showEditProfile=t}}},[s("md-dialog-actions",[s("md-button",{staticClass:"md-icon-button right",on:{click:function(t){e.activeEditProfile(null)}}},[s("md-icon",[e._v("close")])],1)],1),e._v(" "),s("div",{staticClass:"col m8 offset-m2 col s12 center-align",staticStyle:{"overflow-y":"scroll","overflow-x":"hidden"}},[s("div",{staticClass:"card-content row"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s12 center-align"},[s("h5",[e._v("Editting "+e._s(e.lecturer.firstname)+" "+e._s(e.lecturer.lastname)+"'s profile")])]),e._v(" "),s("div",{staticClass:"input-field col s10 offset-s1 m8 offset-m2 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.lecturer.firstname,expression:"lecturer.firstname"}],attrs:{id:"Firstname",name:"Firstname",type:"text"},domProps:{value:e.lecturer.firstname},on:{input:function(t){t.target.composing||e.$set(e.lecturer,"firstname",t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Firstname"}},[e._v("Firstname")])]),e._v(" "),s("div",{staticClass:"input-field col s10 offset-s1 m8 offset-m2 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.lecturer.lastname,expression:"lecturer.lastname"}],attrs:{id:"Lastname",name:"Lastname",type:"text"},domProps:{value:e.lecturer.lastname},on:{input:function(t){t.target.composing||e.$set(e.lecturer,"lastname",t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Lastname"}},[e._v("Lastname")])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s10 offset-s1 m8 offset-m2 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.lecturer.username,expression:"lecturer.username"}],attrs:{id:"Username",name:"Username",type:"text"},domProps:{value:e.lecturer.username},on:{input:function(t){t.target.composing||e.$set(e.lecturer,"username",t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Username"}},[e._v("Username")])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s10 offset-s1 m8 offset-m2"},[s("md-field",[s("label",[e._v("ID Number")]),e._v(" "),s("md-input",{attrs:{maxlength:"13"},model:{value:e.lecturer.idNumber,callback:function(t){e.$set(e.lecturer,"idNumber",t)},expression:"lecturer.idNumber"}})],1)],1)]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.lecturer.idNumber.length>6,expression:"lecturer.idNumber.length > 6"}],staticClass:"row"},[s("div",{staticClass:"col s10 offset-s1 m8 offset-m2"},[s("label",[e._v("\n                                              "+e._s(e.lecturer.isSouthAfrican?"South African Citizen":"Non-South African Citizen")+"\n                                        ")])]),e._v(" "),s("div",{staticClass:"col s10 offset-s1 m8 offset-m2"},[s("md-field",[s("label",{attrs:{for:"Gender"}},[e._v("Gender")]),e._v(" "),s("md-select",{attrs:{name:"Gender",id:"Gender"},model:{value:e.lecturer.gender,callback:function(t){e.$set(e.lecturer,"gender",t)},expression:"lecturer.gender"}},[s("md-option",{attrs:{disabled:""}},[e._v("Pick a gender")]),e._v(" "),s("md-option",{attrs:{value:"Male"}},[e._v("Male")]),e._v(" "),s("md-option",{attrs:{value:"Female"}},[e._v("Female")])],1)],1)],1),e._v(" "),s("div",{staticClass:"col s10 offset-s1 m8 offset-m2"},[s("md-datepicker",{attrs:{"md-immediately":""},model:{value:e.lecturer.dob,callback:function(t){e.$set(e.lecturer,"dob",t)},expression:"lecturer.dob"}},[s("label",[e._v("Date of birth")])])],1)]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.txtError.length>0,expression:"txtError.length > 0"}],staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 text-center"},[s("label",{staticClass:"text-center red-text"},[e._v(e._s(e.txtError))])])])])]),e._v(" "),s("md-dialog-actions",[s("md-button",{staticClass:"red",on:{click:function(t){e.activeEditProfile(null)}}},[e._v("\n          Cancel\n        ")]),e._v(" "),e.isLoading?e._e():s("md-button",{staticClass:"right",on:{click:function(t){e.UpdateLecturer()}}},[e._v("\n          Save changes\n        ")]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[e.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e()],1)])],1)],1),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 input-field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.txtSearch,expression:"txtSearch"}],attrs:{id:"Password",name:"Search",type:"search"},domProps:{value:e.txtSearch},on:{keypress:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.DeepSearch(t):null},input:function(t){t.target.composing||(e.txtSearch=t.target.value)}}}),e._v(" "),s("label",{staticClass:"center-align",attrs:{for:"Search"}},[e._v("Search....")])]),e._v(" "),s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[e.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e()],1)]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0==e.filteredLecturers.length&&!e.isLoading,expression:"filteredLecturers.length == 0 && !isLoading"}],staticClass:"col s12 center-align"},[s("p",{staticClass:"red-text"},[e._v("No results found")])]),e._v(" "),e._l(e.filteredLecturers,function(t,a){return s("div",{directives:[{name:"show",rawName:"v-show",value:null==e.isFullscreen||e.isFullscreen==t._id,expression:"isFullscreen == null || isFullscreen == lecturer._id"}],key:a+t._id,staticClass:"col",class:{"s10 offset-s1 m8 offset-m2 l6 offset-l3":e.isFullscreen==t._id,"m6 l4 xl3":null==e.isFullscreen,hidden:e.isFullscreen!=t._id}},[s("div",{staticClass:"col s12"},[s("md-card",{staticClass:"hoverable"},[s("md-card-header",[s("md-card-header-text",[s("div",{staticClass:"md-title"},[e._v(e._s(t.lastname)+" "+e._s(t.firstname))]),e._v(" "),s("div",{staticClass:"md-subhead"},[e._v("Lecturers "+e._s(t.modules.length)+" "+e._s(1==t.modules.length?"module":"modules"))])]),e._v(" "),s("md-menu",{attrs:{"md-size":"big","md-direction":"bottom-end"}},[s("md-button",{staticClass:"md-icon-button waves-effect",on:{click:function(s){e.isFullscreen==t._id?e.isFullscreen=null:e.isFullscreen=t._id}}},[s("md-icon",[e._v(e._s(e.isFullscreen==t._id?"close":"fullscreen"))])],1)],1)],1),e._v(" "),s("md-card-content",[s("md-list",{staticClass:"md-double-line"},[t.idNumber?s("md-list-item",{staticClass:"waves-effect"},[s("md-icon",{staticClass:"md-primary"},[e._v("account_circle")]),e._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[e._v(e._s(t.idNumber))]),e._v(" "),s("span",[e._v("ID number")])])],1):e._e(),e._v(" "),t.dob?s("md-list-item",{staticClass:"waves-effect"},[s("md-icon",{staticClass:"md-primary"},[e._v("cake")]),e._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[e._v(e._s(e.getMoment(t.dob).format("YYYY-MM-DD")))]),e._v(" "),s("span",[e._v("Date of birth")])])],1):e._e(),e._v(" "),t.gender?s("md-list-item",{staticClass:"waves-effect"},[s("md-icon",{staticClass:"md-primary"},[e._v("wc")]),e._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[e._v(e._s(t.gender))]),e._v(" "),s("span",[e._v("Gender")])])],1):e._e(),e._v(" "),null!=t.isSouthAfrican?s("md-list-item",{staticClass:"waves-effect"},[s("md-icon",{staticClass:"md-primary"},[e._v("flag")]),e._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[e._v(e._s(t.isSouthAfrican?"South African":"Non South African"))]),e._v(" "),s("span",[e._v("Nationality")])])],1):e._e()],1)],1),e._v(" "),s("md-card-expand",[s("md-card-actions",{attrs:{"md-alignment":"space-between"}},[s("div",[s("md-button",{on:{click:function(s){e.activeEditProfile(t)}}},[s("md-icon",[e._v("account_circle")]),e._v(" "+e._s(t.username))],1)],1),e._v(" "),s("div"),e._v(" "),s("md-card-expand-trigger",[s("md-button",{staticClass:"md-icon-button"},[s("md-icon",[e._v("keyboard_arrow_down")])],1)],1)],1),e._v(" "),s("md-card-expand-content",[s("md-card-content",[s("md-subheader",[e._v("Modules")]),e._v(" "),s("md-list",[e._l(t.modules,function(a){return s("md-list-item",{key:a._id,class:{"waves-effect":!a.removed}},[s("md-icon",{staticClass:"md-primary"},[e._v("book")]),e._v(" "),s("div",{staticClass:"md-list-item-text",on:{click:function(t){!a.removed&&e.goToModule(a._id)}}},[s("span",[e._v(e._s(a.name))]),e._v(" "),s("span",[e._v(e._s(a.removed?"Unassign "+a.code:a.code))])]),e._v(" "),s("md-button",{directives:[{name:"show",rawName:"v-show",value:!a.removed,expression:"!modul.removed"}],staticClass:"md-icon-button md-list-action",staticStyle:{"z-index":"10"},on:{click:function(e){a.removed=!0}}},[s("md-icon",[e._v("delete")])],1),e._v(" "),s("md-button",{directives:[{name:"show",rawName:"v-show",value:a.removed,expression:"modul.removed"}],staticClass:"md-icon-button md-list-action",staticStyle:{"z-index":"10"},on:{click:function(s){e.DeleteModule(t._id,a._id)}}},[s("md-icon",[e._v("done")])],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:a.removed,expression:"modul.removed"}],staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[e.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e()],1)]),e._v(" "),s("md-button",{directives:[{name:"show",rawName:"v-show",value:a.removed,expression:"modul.removed"}],staticClass:"md-icon-button md-list-action",staticStyle:{"z-index":"10"},on:{click:function(e){a.removed=!1}}},[s("md-icon",[e._v("close")])],1)],1)}),e._v(" "),s("md-list-item",{staticClass:"waves-effect",on:{click:function(s){e.AddNewModule(t)}}},[s("md-icon",{staticClass:"md-primary"},[e._v("add")]),e._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[e._v("Add new Module")]),e._v(" "),s("span")])],1),e._v(" "),s("md-divider"),e._v(" "),s("md-subheader",[e._v("Lecturer settings")]),e._v(" "),s("md-list-item",{staticClass:"waves-effect",on:{click:function(e){t.removed=!t.removed}}},[s("md-icon",{staticClass:"md-primary"},[e._v("delete")]),e._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[e._v(e._s(t.removed?"Are you sure?":"Delete lecturer"))])]),e._v(" "),s("md-button",{directives:[{name:"show",rawName:"v-show",value:t.removed,expression:"lecturer.removed"}],staticClass:"md-icon-button md-list-action",on:{click:function(s){e.DeleteLecturer(t._id)}}},[s("md-icon",[e._v("done")])],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.removed,expression:"lecturer.removed"}],staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[e.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e()],1)]),e._v(" "),s("md-button",{directives:[{name:"show",rawName:"v-show",value:t.removed,expression:"lecturer.removed"}],staticClass:"md-icon-button md-list-action"},[s("md-icon",[e._v("close")])],1)],1)],2)],1)],1)],1)],1)],1),e._v(" "),e._e()])})],2)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("main",[t("section",[t("div",{staticClass:"content"},[t("img",{attrs:{src:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/256492/_mLIxaKY_400x400.jpg",alt:"Profile Image"}}),this._v(" "),t("aside",[t("h1",{staticClass:"white-text valign-wrapper"})])])])])}]};var ae=s("VU/8")(te,se,!1,function(e){s("m2JN")},"data-v-013a3a52",null).exports,ne=s("c/Tr"),ie=s.n(ne),oe=s("//Fk"),re=s.n(oe),le=s("lmbn"),de=s("mtWM"),ce={name:"ModuleView",data:function(){return{module:{students:[],lecturers:[]},announcement:{title:"",message:"",isToAll:!1},announcements:[],txtStudentSearch:"",txtLecturerSearch:"",txtError:"",addStudent:!1,addNotes:!1,notes:{title:"",description:"",file:null},notesFile:null,isLoading:!1,isUploading:!1,isAddingAnnouncements:!1}},components:{AddStudent:R},computed:{filteredLecturers:function(){var e=this;return this.module.lecturers.filter(function(t){return e.txtLecturerSearch.length<1||I()(t).toLowerCase().indexOf(e.txtLecturerSearch.toLowerCase())>=0})},filteredStudents:function(){var e=this;return this.module.students.filter(function(t){return e.txtStudentSearch.length<1||I()(t).toLowerCase().indexOf(e.txtStudentSearch.toLowerCase())>=0})},filteredTests:function(){return this.module.questionaires}},mounted:function(){null==this.moduleID?this.$router.back():this.Reload()},props:["moduleID"],methods:{ChangeTab:function(e){var t=this;"tab-announcement"==e&&de.post(this.$store.state.settings.baseLink+"/n/announcements/get/for/"+this.$store.state.user.id,{userType:this.$store.state.user.type,moduleID:this.moduleID}).then(function(e){t.isLoading=!1,t.announcements=e.data,console.log(e)}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()(e.message,"Try again later","error")})},DownloadNotes:function(e){var t=this;this.isLoading=!0,de.get(this.$store.state.settings.baseLink+"/m/get/lecturer/notes/"+e._id).then(function(e){t.isLoading=!1;var s=e.data.file.base64StringFile,a=e.data.file.fileName,n=e.data.type;le.download(s,a,n)}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()(e.message,"Try again later","error")})},getFile:function(e){var t=new FileReader;return new re.a(function(s,a){t.onerror=function(){t.abort(),a(new Error("Error parsing file"))},t.onload=function(){var t=ie()(new Uint8Array(this.result)),a=btoa(t.map(function(e){return String.fromCharCode(e)}).join(""));s({bytes:new Array,base64StringFile:"data:"+e.type+";base64,"+a,fileName:e.name,fileType:e.type})},t.readAsArrayBuffer(e)})},handleNotesFileUpload:function(){var e=this;this.notes.file.target.files.length>0?(this.isUploading=!0,this.getFile(this.notes.file.target.files[0]).then(function(t){e.isUploading=!1,e.notesFile=t,console.log(t)}).catch(function(t){l()("Unable to upload selected file",t.message,"error"),e.isUploading=!1,e.notesFile=null})):(l()("No file selected","Please select a file","error"),this.notesFile=null)},UploadNotes:function(){var e=this;this.isUploading=!0,this.txtError="",this.notes.title.length<2&&(this.txtError="Please provide a valid title"),this.notes.description.length<2&&(this.txtError="Please provide a valid description"),null==this.notesFile&&(this.txtError="Please select a valid file"),this.txtError.length>2?this.isUploading=!1:de.post(this.$store.state.settings.baseLink+"/m/add/notes/title/"+this.notes.title+"/description/"+this.notes.description,{file:this.notesFile,moduleId:this.moduleID,lecturerId:"ADMIN"==this.$store.state.user.type?"ADMIN":this.$store.state.user.id}).then(function(t){e.isUploading=!1,e.addNotes=!1,l()("Notes successfully uploaded.")}).catch(function(t){e.isUploading=!1,null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()(t.message,"Try again later","error")})},AddedNewStudent:function(e){e&&this.Reload()},Reload:function(){var e=this;this.isLoading=!0,de.get(this.$store.state.settings.baseLink+"/m/get/module/"+this.moduleID).then(function(t){e.isLoading=!1,e.module=t.data}).catch(function(t){e.isLoading=!1,null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()("Unable to load the module","Try again later","error")})},DeepSearch:function(){alert("Deep searching for "+this.txtSearch)},getSolutionFor:function(e){var t=this;this.isLoading=!0,de.get(this.$store.state.settings.baseLink+"/m/get/solution/id/for/"+e._id+"/by/"+this.$store.state.user.type+"/of/id/"+this.$store.state.user.id).then(function(s){t.isLoading=!1,null==s.data.id?t.goToTakeTest(e):t.goToSolution(s.data.id)}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?l()(e.response.data,"Try again later","error"):l()("Unable to load the questionaire","Try again later","error")})},SendAnnouncement:function(){var e=this;this.isUploading=!0,de.post(this.$store.state.settings.baseLink+"/n/announcements/add/for/"+this.moduleID+"/by/"+this.$store.state.user.type+"/of/id/"+this.$store.state.user.id,{announcement:this.announcement}).then(function(t){e.isUploading=!1,l()("Success","Announcement successfully sent.","success")}).catch(function(t){e.isUploading=!1,null!=t.response&&512==t.response.status?l()(t.response.data,"Try again later","error"):l()("Unable to load the questionaire","Try again later","error")})}}},ue={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"screen"},[s("md-dialog",{staticClass:"card",staticStyle:{position:"absolute",top:"25%"},attrs:{"md-active":e.addNotes},on:{"update:mdActive":function(t){e.addNotes=t}}},[s("md-card",{staticClass:"col s12 m8 offset-m2"},[s("md-card-header",[s("div",{staticClass:"md-title"},[e._v("Adding notes")])]),e._v(" "),s("md-card-content",[s("md-field",[s("label",[e._v("Title")]),e._v(" "),s("md-input",{attrs:{required:""},model:{value:e.notes.title,callback:function(t){e.$set(e.notes,"title",t)},expression:"notes.title"}})],1),e._v(" "),s("md-field",[s("label",[e._v("Description")]),e._v(" "),s("md-textarea",{attrs:{required:""},model:{value:e.notes.description,callback:function(t){e.$set(e.notes,"description",t)},expression:"notes.description"}})],1),e._v(" "),s("md-field",[s("label",[e._v("Notes file")]),e._v(" "),s("md-file",{ref:"notesFile",attrs:{type:"notesFile",id:"notesFile",placeholder:"Select the file you want to upload"},on:{change:function(t){e.handleNotesFileUpload()}},model:{value:e.notes.file,callback:function(t){e.$set(e.notes,"file",t)},expression:"notes.file"}})],1),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:e.txtError.length>2,expression:"txtError.length > 2"}],staticClass:"center-align red-text"},[e._v(e._s(e.txtError))])],1)],1),e._v(" "),s("md-dialog-actions",[e.isUploading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e(),e._v(" "),e.isUploading?e._e():s("md-button",{staticClass:"md-primary",on:{click:function(t){e.UploadNotes()}}},[e._v("Upload notes")]),e._v(" "),s("md-button",{staticClass:"md-primary",on:{click:function(t){e.addNotes=!1}}},[e._v("Close")])],1)],1),e._v(" "),s("md-dialog",{staticClass:"card",staticStyle:{position:"absolute"},attrs:{"md-active":e.addStudent},on:{"update:mdActive":function(t){e.addStudent=t}}},[s("md-content",{staticClass:"row",staticStyle:{"overflow-y":"scroll"}},[s("add-student",{on:{submitted:e.AddedNewStudent}})],1),e._v(" "),s("md-dialog-actions",[s("md-button",{staticClass:"md-primary",on:{click:function(t){e.addStudent=!1}}},[e._v("Close")])],1)],1),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2"},[s("md-button",{staticClass:"right",on:{click:function(t){e.$router.back()}}},[s("md-icon",[e._v("keyboard_backspace")]),e._v(" "),s("span",[e._v("Back")])],1)],1)]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s12"},[s("md-card",[s("md-card-header",[s("div",{staticClass:"md-title"},[e._v(e._s(e.module.name))]),e._v(" "),s("div",{staticClass:"md-subhead"},[e._v(e._s(e.module.code))]),e._v(" "),s("div",{staticClass:"md-subhead center-align"},[e._v(e._s(e.module.description))])])],1)],1),e._v(" "),s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[e.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e()],1),e._v(" "),s("div",{staticClass:"col s12"},[s("md-tabs",{on:{"md-changed":e.ChangeTab}},[s("md-tab",{attrs:{id:"tab-home","md-label":"Home"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s12 m6 xl3"},[s("md-card",[s("md-card-header",[s("md-card-header-text",[s("div",{staticClass:"md-subheader"},[e._v("Notes")])]),e._v(" "),s("md-menu",{attrs:{"md-size":"big","md-direction":"bottom-end"}},[s("md-button",{staticClass:"md-icon-button",attrs:{"md-menu-trigger":""}},[s("md-icon",[e._v("more_vert")])],1),e._v(" "),s("md-menu-content",{staticClass:"card"},[s("md-menu-item",{staticClass:"waves-effect",on:{click:function(t){e.addNotes=!0}}},[s("span",[e._v("Add new")]),e._v(" "),s("md-icon",[e._v("add")])],1)],1)],1)],1),e._v(" "),s("md-card-content",[s("md-list",{staticClass:"md-double-line"},e._l(e.module.notes,function(t,a){return s("md-list-item",{key:a,staticClass:"waves-effect",on:{click:function(s){e.DownloadNotes(t)}}},[s("md-icon",{staticClass:"md-primary"},[e._v("library_books")]),e._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[e._v(e._s(t.title))]),e._v(" "),s("span",[e._v(e._s(e.getMoment(t.date).format("YYYY-MM-DD hh:mm")))])])],1)}))],1)],1)],1),e._v(" "),s("div",{staticClass:"col s12 m6 xl3"},[s("md-card",[s("md-card-header",[s("md-card-header-text",[s("div",{staticClass:"md-subheader"},[e._v("Tests")])]),e._v(" "),s("md-menu",{attrs:{"md-size":"big","md-direction":"bottom-end"}},[s("md-button",{staticClass:"md-icon-button",attrs:{"md-menu-trigger":""}},[s("md-icon",[e._v("more_vert")])],1),e._v(" "),s("md-menu-content",{staticClass:"card"},[s("md-menu-item",{staticClass:"waves-effect",on:{click:function(t){e.setATestForModule(e.module._id)}}},[s("span",[e._v("Set a test")]),e._v(" "),s("md-icon",[e._v("add")])],1)],1)],1)],1),e._v(" "),s("md-card-content",[s("md-list",{staticClass:"md-double-line"},e._l(e.filteredTests,function(t){return s("md-list-item",{key:t._id,staticClass:"waves-effect",on:{click:function(s){e.getSolutionFor(t)}}},[s("md-icon",{staticClass:"md-primary"},[e._v("library_books")]),e._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[e._v(e._s(t.title))]),e._v(" "),s("span",[e._v(e._s(t.questions.length)+" "+e._s(1==t.questions.length?"question":"questions"))])]),e._v(" "),s("md-caption",{staticClass:"right"},[e._v(e._s(e.getMoment(t.date).fromNow()))])],1)}))],1)],1)],1),e._v(" "),s("div",{staticClass:"col s12 m6 xl3"},[s("md-card",[s("md-card-header",[s("md-card-header-text",[s("div",{staticClass:"md-subheader"},[e._v(e._s(e.module.students.length)+" "+e._s(1==e.module.students.length?"student":"students"))])]),e._v(" "),s("md-menu",{attrs:{"md-size":"big","md-direction":"bottom-end"}},[s("md-button",{staticClass:"md-icon-button",attrs:{"md-menu-trigger":""}},[s("md-icon",[e._v("more_vert")])],1),e._v(" "),s("md-menu-content",{staticClass:"card"},[s("md-menu-item",{staticClass:"waves-effect",on:{click:function(t){e.Reload()}}},[s("span",[e._v("Reload")]),e._v(" "),s("md-icon",[e._v("reload")])],1),e._v(" "),s("md-menu-item",{staticClass:"waves-effect",on:{click:function(t){e.addStudent=!0}}},[s("span",[e._v("Add new")]),e._v(" "),s("md-icon",[e._v("add")])],1)],1)],1)],1),e._v(" "),s("md-card-content",[s("md-list",{staticClass:"md-double-line"},[s("md-list-item",[s("md-icon",{staticClass:"md-primary"},[e._v("search")]),e._v(" "),s("div",{staticClass:"md-list-item-text input-field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.txtStudentSearch,expression:"txtStudentSearch"}],attrs:{id:"StudentPassword",name:"StudentPassword",type:"search"},domProps:{value:e.txtStudentSearch},on:{input:function(t){t.target.composing||(e.txtStudentSearch=t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"StudentPassword"}},[e._v("Search")])])],1),e._v(" "),e._l(e.filteredStudents,function(t){return s("md-list-item",{key:t._id,staticClass:"waves-effect",on:{click:function(s){e.goToStudent(t._id)}}},[s("md-icon",{staticClass:"md-primary"},[e._v("account_circle")]),e._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[e._v(e._s(t.lastname)+" "+e._s(t.firstname))]),e._v(" "),s("span",[e._v(e._s(t.username))])])],1)})],2)],1)],1)],1),e._v(" "),s("div",{staticClass:"col s12 m6 xl3"},[s("md-card",[s("md-card-header",[s("md-card-header-text",[s("div",{staticClass:"md-subheader"},[e._v(e._s(e.module.lecturers.length)+" "+e._s(1==e.module.lecturers.length?"lecturer":"lecturers"))])]),e._v(" "),s("md-menu",{attrs:{"md-size":"big","md-direction":"bottom-end"}},[s("md-button",{staticClass:"md-icon-button",attrs:{"md-menu-trigger":""}},[s("md-icon",[e._v("more_vert")])],1),e._v(" "),s("md-menu-content",{staticClass:"card"},[s("md-menu-item",{staticClass:"waves-effect"},[s("span",[e._v("Add new")]),e._v(" "),s("md-icon",[e._v("add")])],1)],1)],1)],1),e._v(" "),s("md-card-content",[s("md-list",{staticClass:"md-double-line"},[s("md-list-item",[s("md-icon",{staticClass:"md-primary"},[e._v("search")]),e._v(" "),s("div",{staticClass:"md-list-item-text input-field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.txtLecturerSearch,expression:"txtLecturerSearch"}],attrs:{id:"LecturerPassword",name:"LecturerPassword",type:"search"},domProps:{value:e.txtLecturerSearch},on:{input:function(t){t.target.composing||(e.txtLecturerSearch=t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"LecturerPassword"}},[e._v("Search")])])],1),e._v(" "),e._l(e.filteredLecturers,function(t){return s("md-list-item",{key:t._id,staticClass:"waves-effect",on:{click:function(s){e.goToLecturer(t._id)}}},[s("md-icon",{staticClass:"md-primary"},[e._v("account_circle")]),e._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[e._v(e._s(t.lastname)+" "+e._s(t.firstname))]),e._v(" "),s("span",[e._v(e._s(t.username))])])],1)})],2)],1)],1)],1)])]),e._v(" "),s("md-tab",{attrs:{id:"tab-announcement","md-label":"Announcements"}},[0==e.announcements.length?s("md-empty-state",{attrs:{"md-icon":"announcement","md-label":"No announcements","md-description":"All the announcements about "+e.module.name+" ("+e.module.code+") will be posted here."}},[s("md-button",{staticClass:"md-primary md-raised"},[e._v("Add an announcement")])],1):e._e(),e._v(" "),"STUDENT"==e.$store.state.user.type||e.isAddingAnnouncements?e._e():s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 card card-panel offset-s2 m6 offset-m3 text-center center-align hoverable pointer waves-effect",on:{click:function(t){e.isAddingAnnouncements=!0}}},[s("h5",{staticClass:"center-align center text-center"},[e._v("Send an announcement")])])]),e._v(" "),"STUDENT"!=e.$store.state.user.type&&e.isAddingAnnouncements?s("md-card",[s("md-header",[s("md-button",{staticClass:"md-icon-button right",on:{click:function(t){e.isAddingAnnouncements=!1}}},[s("md-icon",[e._v("close")])],1)],1),e._v(" "),s("md-content",[s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 center-align text-center"},[s("label",{staticClass:"center-align text-center"},[e._v("Sending an announcement")])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.announcement.title,expression:"announcement.title"}],attrs:{id:"ModuleDescription",name:"ModuleDescription",type:"text"},domProps:{value:e.announcement.title},on:{input:function(t){t.target.composing||e.$set(e.announcement,"title",t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"ModuleDescription"}},[e._v("Title")])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.announcement.message,expression:"announcement.message"}],attrs:{id:"ModuleDescription",name:"ModuleDescription",type:"text"},domProps:{value:e.announcement.message},on:{input:function(t){t.target.composing||e.$set(e.announcement,"message",t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"ModuleDescription"}},[e._v("Message")])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 text-center"},[s("label",[e._v("Send to : ")])]),e._v(" "),s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 text-center"},[s("form",{attrs:{action:"#"}},[s("p",[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.announcement.isToAll,expression:"announcement.isToAll"}],staticClass:"with-gap",attrs:{name:"group1",type:"radio",checked:""},domProps:{value:!1,checked:e._q(e.announcement.isToAll,!1)},on:{change:function(t){e.$set(e.announcement,"isToAll",!1)}}}),e._v(" "),s("span",[e._v(e._s(e.module.name)+" ("+e._s(e.module.code)+") students")])])]),e._v(" "),s("p",[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.announcement.isToAll,expression:"announcement.isToAll"}],staticClass:"with-gap",attrs:{name:"group1",type:"radio"},domProps:{value:!0,checked:e._q(e.announcement.isToAll,!0)},on:{change:function(t){e.$set(e.announcement,"isToAll",!0)}}}),e._v(" "),s("span",[e._v("All Students")])])])])])])]),e._v(" "),s("md-card-actions",[e.isUploading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e(),e._v(" "),e.isUploading?e._e():s("md-button",{staticClass:"md-primary",on:{click:function(t){e.SendAnnouncement()}}},[e._v("Send announcement")])],1)],1):e._e(),e._v(" "),e._l(e.announcements,function(t,a){return s("md-card",{directives:[{name:"show",rawName:"v-show",value:!e.isAddingAnnouncements,expression:"!isAddingAnnouncements"}],key:a,staticClass:"hoverable"},[s("md-list",{staticClass:"md-triple-line"},[s("md-list-item",[s("md-avatar",[s("img",{attrs:{src:"https://placeimg.com/40/40/people/1",alt:"People"}})]),e._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[e._v(e._s(t.lecturerId?t.lecturerId.lastname+" "+t.lecturerId.firstname:"Admin")+"  • "+e._s(e.getMoment(t.date).fromNow()))]),e._v(" "),s("span",[e._v(e._s(t.title))]),e._v(" "),s("p",[e._v(e._s(t.message))])]),e._v(" "),s("md-button",{staticClass:"md-icon-button md-list-action"},[s("md-icon",{staticClass:"md-primary"},[e._v("thumb_up")])],1)],1)],1)],1)})],2)],1)],1)])],1)},staticRenderFns:[]};var me=s("VU/8")(ce,ue,!1,function(e){s("vo3S")},"data-v-b061409e",null).exports,ve=s("mtWM"),fe={name:"StidentList",data:function(){return{txtSearch:"",txtError:"",module:{name:"",code:"",description:""},selectedModuleIndex:null,modules:[],feedbacks:[{from:"Mr Tshepi",message:"You have to improve on your tests",date:new Date,status:"sent"},{from:"Student",message:"I am trying sir, i study eco everyday",date:new Date,fromType:"STUDENT",status:"sent"}],selectedStudent:null,isLoading:!1}},computed:{filteredModules:function(){var e=this;return this.modules.filter(function(t){return e.txtSearch.length<1||I()(t).toLowerCase().indexOf(e.txtSearch.toLowerCase())>=0})},currentModule:function(){return null==this.selectedModuleIndex?null:this.filteredModules[this.selectedModuleIndex]}},mounted:function(){var e=this;this.isLoading=!0,ve.get(this.$store.state.settings.baseLink+"/m/modules/all/for/"+this.$store.state.user.id+"/"+this.$store.state.user.type).then(function(t){e.isLoading=!1,e.modules=t.data,e.modules.map(function(e){e.show=!0})}).catch(function(t){e.isLoading=!1,null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()("Unable to load modules","Try again later","error")})},methods:{DeepSearch:function(){alert("Deep searching for "+this.txtSearch)},goToSolution:function(e){this.$router.push({name:"TestMarks",params:{solutionId:e}})}}},he={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"screen"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2"},[s("md-button",{staticClass:"right",on:{click:function(t){e.$router.back()}}},[s("md-icon",[e._v("keyboard_backspace")]),e._v(" "),s("span",[e._v("Back")])],1)],1)]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s10 offset-s1 m8 offset-m3 l6 offset-l3"},[s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.txtSearch,expression:"txtSearch"}],attrs:{id:"Password",name:"Search",type:"search"},domProps:{value:e.txtSearch},on:{keypress:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.DeepSearch(t):null},input:function(t){t.target.composing||(e.txtSearch=t.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Search"}},[e._v("Search")])])]),e._v(" "),s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[e.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e()],1)]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s2 m3 row"},[s("div",{staticClass:"col s12 center"},[s("md-subheader",[s("label",{staticClass:"markValue"},[e._v("Modules")])])],1),e._v(" "),e._l(e.filteredModules,function(t,a){return s("div",{key:a,staticClass:"col s12 pointer center-align waves-effect",on:{click:function(t){e.selectedModuleIndex=a}}},[s("div",{staticClass:"hoverable card-panel",class:{black:e.selectedModuleIndex==a}},[s("h6",{staticClass:"center-align"},[s("span",[e._v(e._s(t.name)+" \n                    "),s("br"),s("label",{staticClass:"center-align"},[e._v(e._s(t.code))])])])])])})],2),e._v(" "),null==e.currentModule?s("div",{staticClass:"col s10 m9 row"},[s("md-empty-state",{attrs:{"md-icon":"","md-label":"No module selected","md-description":"Please click on a module"}})],1):e._e(),e._v(" "),null!=e.currentModule?s("div",{staticClass:"col s10 m9 row center-align"},[s("md-card",{staticClass:"white col s12 m10 offset-m1 center"},[s("md-card-header",[s("md-card-header-text",[s("div",{staticClass:"md-title"},[e._v(e._s(e.currentModule.name))]),e._v(" "),s("div",{staticClass:"md-subhead"},[e._v(e._s(e.currentModule.code))])]),e._v(" "),s("md-menu",{attrs:{"md-size":"big","md-direction":"bottom-end"}},[s("md-button",{staticClass:"md-icon-button",on:{click:function(t){e.selectedModuleIndex=null}}},[s("md-icon",[e._v("close")])],1)],1)],1),e._v(" "),s("md-card-expand",[s("md-card-content",[s("div",{staticClass:"row"},[s("md-list",{staticClass:"col s12 m4 md-double-line",staticStyle:{"border-right":"3px solid #eeeeee"}},[s("md-subheader",[s("label",{staticClass:"markValue"},[e._v("Tests and Practicals")])]),e._v(" "),e._l(3,function(t){return s("md-list-item",{key:t,staticClass:"pointer  waves-effect",staticStyle:{"border-bottom":"2px solid #eeeeee"}},[s("div",{staticClass:"md-list-item-text"},[s("span",[e._v("Practical test "+e._s(t)+"   • 03/09/2018")]),e._v(" "),s("span",{staticClass:"text-center"},[e._v("Position 3")])]),e._v(" "),s("div",{staticClass:"md-list-action"},[s("label",{staticClass:"md-primary"},[s("span",{staticClass:"markValue"},[e._v("90 /")]),e._v(" "),s("span",[e._v("100")])])])])}),e._v(" "),s("md-list-item",[s("div",{staticClass:"md-list-item-text"},[s("label",[e._v("Total")])]),e._v(" "),s("div",{staticClass:"md-list-action"},[s("label",{staticClass:"md-primary"},[s("span",{staticClass:"markValue"},[e._v("70 /")]),e._v(" "),s("span",[e._v("100")])])])])],2),e._v(" "),s("md-list",{staticClass:"col s12 m4 md-double-line",staticStyle:{"border-right":"3px solid #eeeeee"}},[s("md-subheader",[s("label",{staticClass:"markValue"},[e._v("Class tests and Homeworks")])]),e._v(" "),e._l(3,function(t){return s("md-list-item",{key:t,staticClass:"pointer  waves-effect",staticStyle:{"border-bottom":"2px solid #eeeeee"}},[s("div",{staticClass:"md-list-item-text"},[s("span",[e._v("Class test "+e._s(t)+"   • 03/09/2018")]),e._v(" "),s("span",{staticClass:"text-center"},[e._v("Position 1")])]),e._v(" "),s("div",{staticClass:"md-list-action"},[s("label",{staticClass:"md-primary"},[s("span",{staticClass:"markValue"},[e._v("90 /")]),e._v(" "),s("span",[e._v("100")])])])])}),e._v(" "),s("md-list-item",[s("div",{staticClass:"md-list-item-text"},[s("label",[e._v("Total")])]),e._v(" "),s("div",{staticClass:"md-list-action"},[s("label",{staticClass:"md-primary"},[s("span",{staticClass:"markValue"},[e._v("70 /")]),e._v(" "),s("span",[e._v("100")])])])])],2),e._v(" "),s("md-list",{staticClass:"col s12 m4 md-double-line"},[s("md-subheader",[s("label",{staticClass:"markValue"},[e._v("Online tests")])]),e._v(" "),e._l(3,function(t){return s("md-list-item",{key:t,staticClass:"pointer  waves-effect",staticStyle:{"border-bottom":"2px solid #eeeeee"}},[s("div",{staticClass:"md-list-item-text"},[s("span",[e._v("Life test   • 03/09/2018")]),e._v(" "),s("span",{staticClass:"text-center"},[e._v("Position 3")])]),e._v(" "),s("div",{staticClass:"md-list-action"},[s("label",{staticClass:"md-primary"},[s("span",{staticClass:"markValue"},[e._v("90 /")]),e._v(" "),s("span",[e._v("100")])])])])}),e._v(" "),s("md-list-item",[s("div",{staticClass:"md-list-item-text"},[s("label",[e._v("Total")])]),e._v(" "),s("div",{staticClass:"md-list-action"},[s("label",{staticClass:"md-primary"},[s("span",{staticClass:"markValue"},[e._v("70 /")]),e._v(" "),s("span",[e._v("100")])])])])],2)],1)]),e._v(" "),s("md-card-actions",{attrs:{"md-alignment":"space-between"}},[s("div",[s("md-button",[e._v("Download")]),e._v(" "),s("md-button",[e._v("Share")])],1),e._v(" "),s("md-card-expand-trigger",[s("md-button",[e._v("Comments")])],1)],1),e._v(" "),s("md-card-expand-content",[e._e()],1)],1)],1)],1):e._e()])])},staticRenderFns:[]};var pe=s("VU/8")(fe,he,!1,function(e){s("GteP")},"data-v-cc296694",null).exports,_e=s("mtWM"),ge=function(e){return e.toString().toLowerCase()},we={name:"StidentList",data:function(){return{printing:!1,markSheet:{id:"",title:"",type:"PracticalTest",moduleID:"",lecturerID:"",error:"",date:new Date},search:null,searched:[],addingRecord:!1,markSheetIds:[214,2121,312,521,432,4543,643,6435,15,2134,235,346,4575,46,235,32532,634654,865,7634,4523,56236],users:[],txtSearch:"",txtSearchSheet:"",txtError:"",module:{name:"",code:"",description:""},selectedModuleIndex:0,selectedMarkSheetAction:0,markSheetId:null,sheetActions:["View/Update","Create new"],modules:[],sheets:[],selectedMarkSheet:null,feedbacks:[{from:"Mr Tshepi",message:"You have to improve on your tests",date:new Date,status:"sent"},{from:"Student",message:"I am trying sir, i study eco everyday",date:new Date,fromType:"STUDENT",status:"sent"}],selectedStudent:null,isLoading:!1}},computed:{filteredModules:function(){var e=this;return this.modules.filter(function(t){return e.txtSearch.length<1||I()(t).toLowerCase().indexOf(e.txtSearch.toLowerCase())>=0})},filteredSheets:function(){var e=this;return this.sheets.filter(function(t){return e.currentModule&&t.moduleID==e.currentModule._id})},currentModule:function(){return null==this.selectedModuleIndex?null:this.filteredModules[this.selectedModuleIndex]}},mounted:function(){var e=this;this.isLoading=!0,_e.get(this.$store.state.settings.baseLink+"/m/modules/all/for/"+this.$store.state.user.id+"/"+this.$store.state.user.type).then(function(t){e.isLoading=!1,e.modules=t.data,e.modules.map(function(e){e.show=!0}),e.SwitchModule(0)}).catch(function(t){e.isLoading=!1,null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()("Unable to load modules",t.message,"error")}),_e.get(this.$store.state.settings.baseLink+"/l/sheet/get/all/for/"+this.$store.state.user.id).then(function(t){e.sheets=t.data}).catch(function(e){null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()("Unable to load mark sheets","Try again later","error")})},methods:{PrintMarkSheet:function(){var e=this;this.printing=!0,setTimeout(function(){window.print(),e.printing=!1},100)},SwitchModule:function(e){var t=this;this.selectedModuleIndex=e,this.selectedMarkSheet=null,this.markSheetId=null,this.txtSearchSheet="",_e.get(this.$store.state.settings.baseLink+"/s/students/all/for/module/"+this.currentModule._id).then(function(e){e.data.map(function(e){return e.mark=null,e.editting=!0,e}),t.users=e.data,t.searchOnTable()}).catch(function(e){null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()("Unable load students for "+t.currentModule.name,e.message,"error")})},UpdateMarkFor:function(e){var t=this;isNaN(e.mark)||_e.post(this.$store.state.settings.baseLink+"/l/sheet/update/mark/by/"+this.$store.state.user.id,{markSheetID:this.selectedMarkSheet._id,studentID:e._id,mark:e.mark}).then(function(e){t.sheets.filter(function(t){return t._id==e.data._id}).map(function(t){return e.data}),t.SelectMarkSheetById(e.data),t.searchOnTable()}).catch(function(t){e.editting=!1,null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()("Unable update marks for student",t.message,"error")})},CreateMarkSheet:function(){var e=this;return this.markSheet.error="",this.isLoading=!0,this.markSheet.id.length<2?(this.markSheet.error="Marksheet id is too short",void(this.isLoading=!1)):this.markSheet.title.length<2?(this.markSheet.error="Marksheet title is too short",void(this.isLoading=!1)):(this.markSheet.lecturerID=this.$store.state.user.id,this.markSheet.moduleID=this.currentModule._id,void _e.post(this.$store.state.settings.baseLink+"/l/sheet/add",{markSheet:this.markSheet}).then(function(t){e.isLoading=!1,e.sheets.push(t.data),e.selectedMarkSheetAction=0,e.selectedMarkSheet=t.data,e.markSheetId=e.txtSearchSheet=t.data.id}).catch(function(t){e.isLoading=!1,null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()("Unable to save mark sheet",t.message,"error")}))},goToSolution:function(e){this.$router.push({name:"TestMarks",params:{solutionId:e}})},SelectMarkSheetById:function(e){var t=this;this.selectedMarkSheet=e,this.markSheetId=this.txtSearchSheet=e.id,this.users.map(function(e){var s=e._id,a=t.selectedMarkSheet.studentMarks.filter(function(e){return e.studentID==s});return a&&0!=a.length?(e.mark=a[0].mark,e.editting=!1):(e.mark=null,e.editting=!0),e})},searchOnTable:function(){var e,t;this.searched=(e=this.users,(t=this.search)?e.filter(function(e){return ge(e.name).includes(ge(t))}):e)}}},be={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"screen"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!e.printing,expression:"!printing"}],staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2"},[s("md-button",{staticClass:"right",on:{click:function(t){e.$router.back()}}},[s("md-icon",[e._v("keyboard_backspace")]),e._v(" "),s("span",[e._v("Back")])],1)],1)]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[e.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e()],1)]),e._v(" "),s("div",{staticClass:"row"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!e.printing,expression:"!printing"}],staticClass:"col s2 m3 row"},[s("div",{staticClass:"col s12 center"},[s("md-subheader",[s("label",{staticClass:"markValue"},[e._v("Modules")])])],1),e._v(" "),e._l(e.filteredModules,function(t,a){return s("div",{key:a,staticClass:"col s12 pointer center-align waves-effect",on:{click:function(t){e.SwitchModule(a)}}},[s("div",{staticClass:"hoverable card-panel",class:{black:e.selectedModuleIndex==a}},[s("h6",{staticClass:"center-align"},[s("span",[e._v(e._s(t.name)+" \n                          "),s("br"),s("label",{staticClass:"center-align"},[e._v(e._s(t.code))])])])])])})],2),e._v(" "),s("div",{staticClass:"col s10 m9 row center-align",class:{"s12 m12":e.printing}},[s("md-card",{staticClass:"white col s12 m10 offset-m1 center"},[s("md-card-header",[s("md-card-header-text",[s("div",{staticClass:"md-title"},[e._v(e._s(e.currentModule.name))]),e._v(" "),s("div",{staticClass:"md-subhead"},[e._v(e._s(e.currentModule.code))])])],1),e._v(" "),s("md-card-expand",[s("md-card-content",[null==e.markSheetId?s("div",{staticClass:"row"},[s("div",{staticClass:"col s12"},[s("md-tabs",{attrs:{"md-alignment":"fixed"}},e._l(e.sheetActions,function(t,a){return s("md-tab",{key:a,class:{"md-active":e.selectedMarkSheetAction==a},attrs:{id:"tab-"+a,"md-label":t},on:{click:function(t){e.selectedMarkSheetAction=a}}})}))],1)]):e._e(),e._v(" "),0==e.selectedMarkSheetAction?s("div",{staticClass:"row"},[null==e.markSheetId?s("div",{staticClass:"col s10 offset-s1 m8 offset-m3 l6 offset-l3"},[s("md-field",[s("md-icon",[e._v("search")]),e._v(" "),s("label",[e._v("Marksheet search....")]),e._v(" "),s("md-input",{attrs:{type:"search"},model:{value:e.txtSearchSheet,callback:function(t){e.txtSearchSheet=t},expression:"txtSearchSheet"}})],1),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s12"},[s("p",[e._v("Pick a marksheet to view/update")])]),e._v(" "),e._l(e.filteredSheets.filter(function(t){return e.txtSearchSheet.length<2||JSON.stringify(t).toString().indexOf(e.txtSearchSheet)>=0}),function(t,a){return s("div",{key:a,staticClass:"col s6 m4"},[s("div",{staticClass:"card-panel center-align pointer waves-effect",on:{click:function(s){e.SelectMarkSheetById(t)}}},[e._v(e._s(t.id)+" - "+e._s(t.title))])])})],2)],1):e._e(),e._v(" "),null!=e.markSheetId?s("div",{staticClass:"col s12 row",staticStyle:{"overflow-y":"visible"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!e.printing,expression:"!printing"}],staticClass:"col s12"},[s("md-button",{staticClass:"right md-icon-button",on:{click:function(t){e.markSheetId=null}}},[s("md-icon",[e._v("close")])],1)],1),e._v(" "),s("div",[s("h6",{staticClass:"md-title center-align text-xs-center"},[e._v("Mark sheet : "),s("a",[e._v(e._s(e.markSheetId))])])]),e._v(" "),s("md-table",{staticClass:"col s12",attrs:{"md-sort":"name","md-sort-order":"asc","md-fixed-header":""},scopedSlots:e._u([{key:"md-table-row",fn:function(t){var a=t.item;return s("md-table-row",{},[s("md-table-cell",{attrs:{"md-label":"Username","md-sort-by":"username","md-numeric":""}},[e._v(e._s(a.username))]),e._v(" "),s("md-table-cell",{attrs:{"md-label":"Full Name","md-sort-by":"lastname + firstname"}},[e._v(e._s(a.lastname)+" "+e._s(a.firstname))]),e._v(" "),s("md-table-cell",{attrs:{"md-label":"Gender","md-sort-by":"gender"}},[e._v(e._s(a.gender))]),e._v(" "),s("md-table-cell",{attrs:{"md-label":"mark","md-sort-by":"mark"}},[s("span",{directives:[{name:"show",rawName:"v-show",value:!a.editting,expression:"!item.editting"}]},[e._v(e._s(a.mark))]),e._v(" "),s("md-input",{directives:[{name:"show",rawName:"v-show",value:a.editting,expression:"item.editting"}],attrs:{type:"number",placeholder:"mark obtained"},model:{value:a.mark,callback:function(t){e.$set(a,"mark",t)},expression:"item.mark"}})],1),e._v(" "),s("md-table-cell",{directives:[{name:"show",rawName:"v-show",value:!e.printing,expression:"!printing"}],attrs:{"md-label":"Actions"}},[s("div",[s("md-button",{directives:[{name:"show",rawName:"v-show",value:a.editting,expression:"item.editting"}],staticClass:"md-icon-button md-mini",on:{click:function(t){e.UpdateMarkFor(a)}}},[s("md-icon",[e._v("done")])],1),e._v(" "),s("md-button",{directives:[{name:"show",rawName:"v-show",value:a.editting,expression:"item.editting"}],staticClass:"md-icon-button md-mini",on:{click:function(e){a.editting=!1}}},[s("md-icon",[e._v("close")])],1),e._v(" "),s("md-button",{directives:[{name:"show",rawName:"v-show",value:!a.editting,expression:"!item.editting"}],staticClass:"md-icon-button md-mini",on:{click:function(e){a.editting=!0}}},[s("md-icon",[e._v("edit")])],1)],1)])],1)}}]),model:{value:e.searched,callback:function(t){e.searched=t},expression:"searched"}},[s("md-table-toolbar",{directives:[{name:"show",rawName:"v-show",value:!e.printing,expression:"!printing"}]},[s("md-field",{staticClass:"md-toolbar-section-end",attrs:{"md-clearable":""}},[s("md-input",{attrs:{placeholder:"Search by name..."},on:{input:e.searchOnTable},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),s("md-field",{staticClass:"md-toolbar-section-end",attrs:{"md-clearable":""}},[s("md-button",{staticClass:"md-icon-button",on:{click:e.PrintMarkSheet}},[s("md-icon",[e._v("print")])],1)],1)],1),e._v(" "),s("md-table-empty-state",{attrs:{"md-label":"No users found","md-description":"No record found for student with the name '"+e.search+"' . Try a different search term or create a new record."}})],1),e._v(" "),s("md-card-actions",{directives:[{name:"show",rawName:"v-show",value:!e.printing,expression:"!printing"}]},[s("md-button",{staticClass:"btn-flat"},[e._v("Save changes")])],1)],1):e._e()]):e._e(),e._v(" "),1==e.selectedMarkSheetAction?s("div",{staticClass:"row",staticStyle:{border:"3px solid #eeeeee"}},[s("md-list",{staticClass:"col s12 md-double-line"},[s("md-list-item",[s("md-field",[s("md-icon",[e._v("lock")]),e._v(" "),s("label",[e._v("Id")]),e._v(" "),s("md-input",{model:{value:e.markSheet.id,callback:function(t){e.$set(e.markSheet,"id",t)},expression:"markSheet.id"}})],1)],1),e._v(" "),s("md-list-item",[s("md-field",[s("md-icon",[e._v("title")]),e._v(" "),s("label",[e._v("Title")]),e._v(" "),s("md-input",{model:{value:e.markSheet.title,callback:function(t){e.$set(e.markSheet,"title",t)},expression:"markSheet.title"}})],1)],1),e._v(" "),s("md-list-item",[s("md-field",{staticClass:"white"},[s("md-icon",[e._v("note")]),e._v(" "),s("label",{attrs:{for:"movie"}},[e._v("Test Type")]),e._v(" "),s("md-select",{staticClass:"white",attrs:{name:"movie",id:"movie"},model:{value:e.markSheet.type,callback:function(t){e.$set(e.markSheet,"type",t)},expression:"markSheet.type"}},[s("md-option",{attrs:{value:"PracticalTest"}},[e._v("Practical Test")]),e._v(" "),s("md-option",{attrs:{value:"TheoryTest"}},[e._v("Theory Test")]),e._v(" "),s("md-option",{attrs:{value:"HomeClassTest"}},[e._v("Home/class Test")]),e._v(" "),s("md-option",{attrs:{value:"Exam"}},[e._v("Exam")])],1)],1)],1),e._v(" "),s("md-list-item",[s("md-field",{staticClass:"white"},[s("md-datepicker",{attrs:{"md-immediately":""},model:{value:e.markSheet.date,callback:function(t){e.$set(e.markSheet,"date",t)},expression:"markSheet.date"}},[s("label",[e._v("Date")])])],1)],1),e._v(" "),s("md-list-item",[s("md-field",{staticClass:"col s8 offset-s2 m6 offset-m3 center-align text-center center-align"},[s("p",{staticClass:"red-text"},[e._v(e._s(e.markSheet.error))])])],1)],1),e._v(" "),s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 center-align text-center center-align"},[e.isLoading?e._e():s("input",{staticClass:"btn black center-align tg-btn",attrs:{type:"submit",value:"Save"},on:{click:e.CreateMarkSheet}}),e._v(" "),e.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):e._e()],1)],1):e._e()]),e._v(" "),s("md-card-expand-content",[e._e()],1)],1)],1)],1)])])},staticRenderFns:[]};var Ce=s("VU/8")(we,be,!1,function(e){s("NiCl")},"data-v-12a8b85e",null).exports,xe=s("mtWM"),ke={name:"Test",watch:{surveyAnswers:function(e,t){this.$forceUpdate()}},data:function(){return{txtError:"",Questionare:[],surveyAnswers:[{QuestionId:String,Answer:String,Answer2:String}],Survey:[{Question:"Name",Answer:null},{Question:"Surname",Answer:null},{Question:"Email",Answer:null},{Question:"Province",Answer:null}],currentPage:0,provinces:[{name:"Eastern Cape",code:"ZA-EC"},{name:"Free State",code:"ZA-FS"},{name:"Gauteng",code:"ZA-GT"},{name:"KwaZulu-Natal",code:"ZA-NL"},{name:"Limpopo",code:"ZA-LP"},{name:"Mpumalanga",code:"ZA-MP"},{name:"North West",code:"ZA-NW"},{name:"Northern Cape",code:"ZA-NC"},{name:"Western Cape",code:"ZA-WC"}]}},mounted:function(){var e=this;xe.get(this.$store.state.settings.baseLink+"/survey/get/all/surveyquestions").then(function(t){e.Questionare=t.data,e.surveyAnswers=[],e.Questionare.forEach(function(t){e.surveyAnswers.push({QuestionId:t._id,Answer:null})})}).catch(function(e){null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()("Unable to load Survey","Try again later","error")})},methods:{GoToNextPage:function(e){var t=this;if(this.txtError="",e)alert("We are uploading...."),xe.post(this.$store.state.settings.baseLink+"/survey/submit",{user:this.Survey,survey:this.surveyAnswers}).then(function(e){l()("Thank you!","We got your feedback!","success").then(function(e){t.$router.push("/")})}).catch(function(e){null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()("Unable to submit your Survey","Try again later","error")});else{this.Survey.reverse().forEach(function(e){!e.Optional&&(null==e.Answer||e.Answer.length<2)&&(t.txtError="Please fill in  your "+e.Question)});this.Survey.reverse();if(this.txtError.length>2)return;this.currentPage=1}}}},ye={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[0==e.currentPage?s("div",{staticClass:"row"},[s("div",{staticClass:"col s10 offset-s1 m8 offset-m2 row card-panel"},[e._m(0),e._v(" "),s("div",{staticClass:"col s12"},e._l(e.Survey,function(t,a){return s("div",{key:a,staticClass:"row"},["Province"!=t.Question?s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.Answer,expression:"survey.Answer"}],attrs:{type:"text"},domProps:{value:t.Answer},on:{input:function(s){s.target.composing||e.$set(t,"Answer",s.target.value)}}}),e._v(" "),s("label",{staticClass:"text-center"},[e._v("Please enter your "+e._s(t.Question)+" "),s("span",{staticClass:"red-text"},[e._v(e._s(t.Optional?"":" *"))])])]):e._e(),e._v(" "),"Province"==t.Question?s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 text-center"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.Answer,expression:"survey.Answer"}],staticClass:"black-text",on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(t,"Answer",s.target.multiple?a:a[0])}}},[s("option",{attrs:{disabled:"",selected:""},domProps:{value:null}},[e._v("Choose your province")]),e._v(" "),e._l(e.provinces,function(t){return s("option",{key:t.code,staticClass:"grey",domProps:{value:t.name}},[e._v(e._s(t.name))])})],2)]):e._e()])})),e._v(" "),s("div",{staticClass:"col m8 offset-m2 s12"},[s("p",{directives:[{name:"show",rawName:"v-show",value:e.txtError.length>2,expression:"txtError.length > 2"}],staticClass:"center-align red-text"},[e._v(e._s(e.txtError))])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col m4 offset-m4 s12 pointer center-align waves-effect",on:{click:function(t){e.GoToNextPage(!1)}}},[e._m(1)])])])]):e._e(),e._v(" "),1==e.currentPage?s("div",{staticClass:"row"},[s("div",{staticClass:"col s10 offset-s1 m8 offset-m2 row card-panel"},[e._m(2),e._v(" "),e._l(e.Questionare,function(t,a){return t?s("div",{key:a,staticClass:"col s10 offset-s1 z-depth-1 row"},[s("div",{staticClass:"col s12"},[s("h5",{staticClass:"center-align"},[e._v(e._s(t.question))])]),e._v(" "),s("div",{staticClass:"col m8 offset-m2 s12"},[s("form",["STRING"!=t.type&&null!=t.options?s("div",e._l(t.options,function(n,i){return s("h6",{key:i,staticClass:"pointer"},[s("label",["checkbox"==("STRING"==t.type?"text":"radio")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.surveyAnswers[a].Answer,expression:"surveyAnswers[i].Answer"}],staticClass:"with-gap",attrs:{name:t._id,type:"checkbox"},domProps:{value:n,checked:Array.isArray(e.surveyAnswers[a].Answer)?e._i(e.surveyAnswers[a].Answer,n)>-1:e.surveyAnswers[a].Answer},on:{change:function(t){var s=e.surveyAnswers[a].Answer,i=t.target,o=!!i.checked;if(Array.isArray(s)){var r=n,l=e._i(s,r);i.checked?l<0&&e.$set(e.surveyAnswers[a],"Answer",s.concat([r])):l>-1&&e.$set(e.surveyAnswers[a],"Answer",s.slice(0,l).concat(s.slice(l+1)))}else e.$set(e.surveyAnswers[a],"Answer",o)}}}):"radio"==("STRING"==t.type?"text":"radio")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.surveyAnswers[a].Answer,expression:"surveyAnswers[i].Answer"}],staticClass:"with-gap",attrs:{name:t._id,type:"radio"},domProps:{value:n,checked:e._q(e.surveyAnswers[a].Answer,n)},on:{change:function(t){e.$set(e.surveyAnswers[a],"Answer",n)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.surveyAnswers[a].Answer,expression:"surveyAnswers[i].Answer"}],staticClass:"with-gap",attrs:{name:t._id,type:"STRING"==t.type?"text":"radio"},domProps:{value:n,value:e.surveyAnswers[a].Answer},on:{input:function(t){t.target.composing||e.$set(e.surveyAnswers[a],"Answer",t.target.value)}}}),e._v(" "),s("span",[e._v(e._s(n))])])])})):s("div",[s("h6",{staticClass:"pointer"},[s("label",["checkbox"==("STRING"==t.type?"text":"radio")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.surveyAnswers[a].Answer,expression:"surveyAnswers[i].Answer"}],staticClass:"with-gap center-align",attrs:{placeholder:"Enter Response",type:"checkbox"},domProps:{checked:Array.isArray(e.surveyAnswers[a].Answer)?e._i(e.surveyAnswers[a].Answer,null)>-1:e.surveyAnswers[a].Answer},on:{change:function(t){var s=e.surveyAnswers[a].Answer,n=t.target,i=!!n.checked;if(Array.isArray(s)){var o=e._i(s,null);n.checked?o<0&&e.$set(e.surveyAnswers[a],"Answer",s.concat([null])):o>-1&&e.$set(e.surveyAnswers[a],"Answer",s.slice(0,o).concat(s.slice(o+1)))}else e.$set(e.surveyAnswers[a],"Answer",i)}}}):"radio"==("STRING"==t.type?"text":"radio")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.surveyAnswers[a].Answer,expression:"surveyAnswers[i].Answer"}],staticClass:"with-gap center-align",attrs:{placeholder:"Enter Response",type:"radio"},domProps:{checked:e._q(e.surveyAnswers[a].Answer,null)},on:{change:function(t){e.$set(e.surveyAnswers[a],"Answer",null)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.surveyAnswers[a].Answer,expression:"surveyAnswers[i].Answer"}],staticClass:"with-gap center-align",attrs:{placeholder:"Enter Response",type:"STRING"==t.type?"text":"radio"},domProps:{value:e.surveyAnswers[a].Answer},on:{input:function(t){t.target.composing||e.$set(e.surveyAnswers[a],"Answer",t.target.value)}}})])])]),e._v(" "),t.optional&&t.optional.answer==e.surveyAnswers[a].Answer?s("div",[s("h6",{staticClass:"pointer"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.surveyAnswers[a].Answer2,expression:"surveyAnswers[i].Answer2"}],staticClass:"with-gap center-align",attrs:{placeholder:t.optional.question,type:"text"},domProps:{value:e.surveyAnswers[a].Answer2},on:{input:function(t){t.target.composing||e.$set(e.surveyAnswers[a],"Answer2",t.target.value)}}})])])]):e._e()])]),e._v(" "),s("div",{staticClass:"col m8 offset-m2 s12"},[s("p",{directives:[{name:"show",rawName:"v-show",value:e.txtError.length>2,expression:"txtError.length > 2"}],staticClass:"center-align red-text"},[e._v(e._s(e.txtError))])])]):e._e()}),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col m4 offset-m4 s12 pointer center-align waves-effect",on:{click:function(t){e.GoToNextPage(!0)}}},[e._m(3)])])],2)]):e._e()])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col s12"},[t("h4",[this._v("Co-Portal Feedback Survey")]),this._v(" "),t("div",{staticClass:"card-image col l8 offset-l2 m6 offset-m3 s12"},[t("img",{staticClass:"img-responsive",attrs:{src:"static/img/coPortalLogo.jpg"}})])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-panel hoverable"},[t("h5",{staticClass:"text-xs-center"},[this._v("Next "),t("i",{staticClass:"material-icons right"},[this._v("exit_to_app")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col s12"},[t("h4",[this._v("Co-Portal Feedback Survey")]),this._v(" "),t("div",{staticClass:"card-image col l8 offset-l2 m6 offset-m3 s12"},[t("img",{staticClass:"img-responsive",attrs:{src:"static/img/coPortalLogo.jpg"}})])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-panel hoverable"},[t("h5",{staticClass:"text-xs-center"},[this._v("Submit "),t("i",{staticClass:"material-icons right"},[this._v("done")])])])}]};var Le=s("VU/8")(ke,ye,!1,function(e){s("i5jB")},"data-v-adeb4a3e",null).exports,Se=(s("mtWM"),{name:"StidentList",data:function(){return{studentModule:{_id:null,username:"",modules:[null],oldModules:[]},txtSearch:"",txtError:"",student:{firstname:"",lastname:"",username:"",password:"",confirmPassword:"",modules:[null],idNumber:"",gender:"",dob:"",isSouthAfrican:!1},addingStudents:!1,students:[],modules:[],selectedStudent:null,showEditProfile:!1,isFullscreen:null}},watch:{"student.idNumber":function(e,t){if(e.length>=6&&(this.student.dob=new Date(e.substring(0,2),e.substring(2,4)-1,e.substring(4,6)),e.length>=10)){var s=e.substring(6,10);this.student.gender=parseInt(s)<5e3?"Female":"Male",13==e.length&&(this.student.isSouthAfrican=0==parseInt(e.substring(10,11)))}}},props:["studentIDs"],components:{AddStudent:R},computed:{filteredStudents:function(){var e=this;return this.students.filter(function(t){return e.txtSearch.length<1||I()(t).toLowerCase().indexOf(e.txtSearch.toLowerCase())>=0})}},mounted:function(){},methods:{AddedNewStudent:function(e){e&&this.Reload()}}}),Ae={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2"},[s("md-button",{staticClass:"right",on:{click:function(t){e.Logout()}}},[s("md-icon",[e._v("done")]),e._v(" "),s("span",[e._v("Done")])],1)],1)]),e._v(" "),s("div",{staticClass:"row",staticStyle:{height:"80vh"}},[s("div",{staticClass:"col s12 m8 offset-m2 l6 offset-l3"},[s("add-student",{on:{submitted:e.AddedNewStudent}})],1)])])},staticRenderFns:[]};var Me=s("VU/8")(Se,Ae,!1,function(e){s("eTmu")},"data-v-df394216",null).exports,Ne=s("NYxO"),Ee={state:{username:"admin",id:"",password:"admin",email:"admin@gmail.com",numbers:"0760487292",type:null,profilePic:null,isLoggedIn:!1,isAdmin:!1},mutations:{login:function(e,t){e.id=t.id,e.username=t.username,e.password=t.password,e.email=t.email,e.numbers=t.numbers,e.profilePic=t.profilePic,e.type=t.type,e.isLoggedIn=t.isLoggedIn},logout:function(e,t){e.id=null,e.username=null,e.password=null,e.email=null,e.numbers=null,e.profilePic=null,e.type=null,e.isLoggedIn=!1,e.isAdmin=!1}},actions:{login:function(e){return(0,e.commit)("login")},logout:function(e){return(0,e.commit)("logout")}}},Pe={state:{baseLink:"https://jmrsquared.com/api/coportal/dev",defaultProfilePic:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADLCAMAAAAcEiwCAAAAM1BMVEX///8KME6El6bw8vQZPVlHZHpmfpHCy9Ojsbzg5ekpSmTR2N44V29XcYayvsd2i5yTpLEIJKsKAAAIYklEQVR4nO1d2Zq0KgyccUPtdnn/p/3bVlxBSFKA53xTV30xo5RkJ8DPzx/+8F9DrlSdfTCUH0w/slqpPPWoKGhUVpXtrwXvchifzyfvs7KwUdijKLPHssn7yjoNlskZ+tSDvuA1vmkkNLqxST32Da+BOBWniXkGl5w7F3uUdWqFUZWcxRdF9UrHIq9FInVGWSeikXkZWgraBBIWgMaEIotLJRCNmUpEHuFoTGhj6UoPVXETShWBRlOGpjGhCq4qYaVqQxFWvl4AL+6LMmDgksWj8UExBqLRRJyOGV0QTakjacceRQDzhYoOiUC7x/hipYEVr1cCsdJ4A+P7Oh2NX6SiDEl5fAByjonUfA+EyuddahYTKjmPZObqCCmTp/CQMnkODxmTJ/EQMXkUDwGTB9jdI4b/CQ+mZxxTj9oExjpEn3rMRhTkCDJlvHuHlhjV58FrV1yUNCKPCLDMIJmuuOUSIggKr1KP9RaFd8HruQoyw1tNQApSDL1S6idXI3Xd2gXPPAvjQY6LA00NJePlTXKEBzHVoF8jjMvbhwhCsAaL2xKuyG/wEC6Axbqt34C4OC0XwGKVriiiBqwVOS2X3BX6pD+ABXqHW2zEmu6XxuXiop8jehQnU97pqJJ+slt9F2s6Ia2WLuMVd1Mi1cI3JVuQ1mhuPpp0Qoj5mzR5s5tg6YRQa83CD2edEumEtEQe4gUL25RIJ4RerBHGdZYpiT8hYv9rti1SH8KpA+ayVxqVshHy8EsSzpDF2oXpkdKgwfhQJ4TrrCa1lIYMxILTAqEcGDIs8RI0s+gv/H5XeRbnCMyVV+F7L59PrOqJiFw0U76IwCQizeTOCZY8ZUtEpDs+7iXmkYrIybsDqtapiBxlC7B+yyQiLqMd7JbcZnEdotzsH+wWoiGLSUQuC/tyIKJMyoniP5C/eC/TkJVPFg+AuXxDn/brUY41ASHUmwHG9AawWg8RbYabAcYsUbE6wBF9O5uSYJoDWI4E8eLVXiK8yC+z4wXyZv0wzKIhL7GCtOLq7ArTHsBr/RaWUWZobYfoOtOxQ2RLaydkUS8lkRL4LL8V40BElndj/DovQgFZzPlZoBYa3u4IzMvn6AjU08TbUoB5uUIS4fkRzPbM+SOCmoF4+Qjm3Rnwo/DCeFAvK5ZI5xi0CaB3z44E1hhLV3dU7+RMBPQwxgoJJNCaACZC1hJYEyiaCLVzHdeVCyZCXQ7F7fEHEyEGjjAVgRMhKglwQwSaCM0AAxvw0URIsgWULDgRkmwhdxLAiRBCYEijtAacyG1/3hHIPVwFnIh/uRE6IWjP/kvY3AHdazMTwe6J8NQSUJl2wUwEfBiQ3+oC9qVdCCJeG+zAuzVnzURvZfUQLlApbcVMBL7FzRmowDdx9SGm2d3HjN8mP+slfrOewwbjt2XPaom1hF/c9sgH2F6+PBn/4N+3dU7yAEe/6aA7xIkINj0JcpqSrqgF2WFsPkSuD7K7XAd4YPurx3o9UKoJtClbV2+wZqt46X0hp/M8t+M2K/C8aIVE5pxf5Xhph1cMq6r0q7EqevDpgluFE+hoZyXfmaa2+x65vv3F16BBj1baquc4y74ermjVO62YCmeGt2QOdaLZ3lKZjwrdnSKZw2zMljhggtHzWb3Xb94dc5UGJAm7RwKUxHTk8GGDsekw8gZhv/atCuJP09pOTn7VWVV+9N16bn8tVvt9n5hQSWTHcufC3dT7YEjiSdpBfgxsk/GF+7iazP0mRYW6HoE9LcfMmpUl4lh88eJp6nEMjOSqw19Vkdf00OW8Akt9QhfofGSywz/XbGh2qw14jPhIcy3nkZDsVpiTkTVISeS1A4agafLzOO9BCY2v1X//lUlOzwmRif+cGFTV1yUR1nLY8I5iTR/V15WEOgT9AF9BN7kAzyUk5n4XIkSD8fsKka6i8Gs1Nw/Gy7vHmRDPwdjU1WdKol1zIhmMz1eIduWUR7HNbj/dXyG8D1nhdgd26XBPScQbmpzqfufQXFPCO9eBB6dTvFNX15RElCynbN2vHjuKZlHv/nLI1v1YHB416m1Z93bL1Rp2m2BxN7swcUvEmdrdpZrMw7W5uEtL3DnRnbGIfDPmTTzuk0vc6Hvku/FulMTrk1rTs8gqcqMkfm7AKlyRVcSur75Jqk24ot8gafMk3rpqEa7ot3pafIF/FcdyEGjAIZthFnLK0fHG2hB3E6sAcsEwSWfoupwBJm0naqrhETEv81xgSCuon9PQrRfj/ssTrvaT7suuB40muIr44tupd0RMuCg8fpxOnM0W/daOCScrHj1AmYCR7qOEJrC+53SXHVocjEb0SGtCCeFxZJLA+h4HIAr1dg+KnFXNyEA89kwSuJF9kigOvVcmSW60VzAeW9glfxIDCsdj9SfR06oJszwUIP1crgYOf0P3GUuPJ8+fm7DEXciLYX2gZndo77OnY1n4DnzX+AmL6cW2WeRViKfeQXepwv3woigovXNhaa0JcYu2bgMP1eB0eNcyHWEum9eXnwS7AH59kQ5MgoV3evfHO2i4ou+9CWkk1wakMHM+YW2hCxxtK53qVEGorB314X3W1puPp7I2ywdXw/l1XRgqW1+m7WIyOLZXljC3snXKhtM/A/q1KtBmgPc2w1pFK2MncLvLwbpaJAr7tuXoNCbseo2Lissl32+76JKk0z+nbvbOsNHF9f/jbkmpCGPQPZEfLmtsq9rb/L/Gbl9dfsvEEwF13F5UlFnvYKPq4bhq0Q5JKhtX9JetUu9yyHp1FPlcqTobyvN6BXjzhhS9/eLJtiytrTrvp8zFHtSbWt9sUxcBTZ/ZP/9ukjr7NrgHIVdjZhGnouyyOpW34EN9MGZfjNPv1OP5wx/o+Aeiz2x+kFA7YwAAAABJRU5ErkJggg=="},mutations:{},actions:{}},Te={state:{notifications:{all:[],lastUpdated:null},transactions:{all:[],lastUpdated:null},documents:{all:[],lastUpdated:null},tasks:{all:[],lastUpdated:null},lastUpdated:null},mutations:{PopulateNotifications:function(e,t){e.notifications.all=t.notifications,e.notifications.lastUpdated=Date.now()},PopulateTransactions:function(e,t){e.transactions.all=t.transactions,e.transactions.lastUpdated=Date.now()},PopulateTasks:function(e,t){e.tasks.all=t.tasks,e.tasks.lastUpdated=Date.now()}},actions:{PopulateNotifications:function(e,t){var s=e.commit;return e.state,s("PopulateNotifications",t)},PopulateTransactions:function(e,t){var s=e.commit;return e.state,s("PopulateTransactions",t)},PopulateTasks:function(e,t){var s=e.commit;return e.state,s("PopulateTasks",t)}}};a.default.use(Ne.a);var $e=new Ne.a.Store({modules:{user:Ee,settings:Pe,collections:Te},strict:!1});a.default.prototype.$store=$e;var Ue=$e;a.default.use(o.a);var Ie=new o.a({routes:[{path:"/",name:"Home",meta:{authLevel:null,showNav:!1},component:m},{path:"/login",name:"Login",meta:{authLevel:null,showNav:!1},component:p},{path:"/test/list",name:"TestList",meta:{authLevel:["STUDENT","ADMIN","LECTURER"],showNav:!0},component:b},{path:"/test/take",name:"TakeTest",meta:{authLevel:["STUDENT","ADMIN","LECTURER"],showNav:!0},props:!0,component:y},{path:"/test/marks",name:"TestMarks",meta:{authLevel:["STUDENT","ADMIN","LECTURER"],showNav:!0},props:!0,component:$},{path:"/test/set",name:"SetTest",meta:{authLevel:["LECTURER"],showNav:!0},props:!0,component:M},{path:"/student/list",name:"StudentList",meta:{authLevel:["LECTURER","ADMIN"],showNav:!0},props:!0,component:B},{path:"/lecturer/list",name:"LecturerList",meta:{authLevel:["ADMIN"],showNav:!0},props:!0,component:ae},{path:"/module/list",name:"ModuleList",meta:{authLevel:["ADMIN","LECTURER","STUDENT"],showNav:!0},component:H},{path:"/module/view",name:"ModuleView",meta:{authLevel:["ADMIN","LECTURER","STUDENT"],showNav:!0},props:!0,component:me},{path:"/temp/add/student",name:"TempAddStudent",meta:{authLevel:["ADMIN"],showNav:!0},props:!0,component:Me},{path:"/marks/all",name:"AllMarks",meta:{authLevel:["STUDENT"],showNav:!0},props:!0,component:pe},{path:"/marks/sheet",name:"MarkSheet",meta:{authLevel:["LECTURER","ADMIN"],showNav:!0},props:!0,component:Ce},{path:"/survey",name:"Survey",meta:{authLevel:null,showNav:!1},props:!0,component:Le}]});Ie.beforeEach(function(e,t,s){var a=Ue.state.user.type;if(null==a&&Ie.app.$session.has("user")){var n=Ie.app.$session.get("user");Ue.commit("login",n),a=Ue.state.user.type}if("ADMIN"!=a||"TempAddStudent"==e.name||"tempadmin"!=Ue.state.user.username){if(null!=e.meta.authLevel){if(null==a)return void l()("You are not Authorized to access this page!","You must be logged in to access this page.","error").then(function(e){s("/")});if(e.meta.authLevel.indexOf(a)<0)return void l()("You are not Authorized to access this page!","If you feel this is unfair, please contact admin.","error").then(function(e){s("/")})}s()}else s("/temp/add/student")});var De=Ie,je=s("Ubyc"),Fe=s.n(je),Re=s("Lgyv"),qe=s.n(Re),ze=s("CYu0"),Qe=s("18Sv"),Be=s.n(Qe),Ve=(s("gkYU"),s("ImpT"),s("v8QE"),s("KMaP")),Oe=(s("UK5d"),s("U54J"));a.default.component("picker",Ve.Picker),a.default.component("emoji",Ve.Emoji),a.default.config.productionTip=!1,a.default.use(Fe.a),a.default.use(qe.a),a.default.use(ze),a.default.use(Be.a,{persist:!0}),a.default.prototype.$materialize=Oe,a.default.prototype.$emoji=Ve.Emoji,a.default.mixin({methods:{getMoment:function(e){return N(e)},goToModule:function(e){this.$router.push({name:"ModuleView",params:{moduleID:e}})},goToLecturer:function(e){this.$router.push({name:"LecturerList",params:{lecturerIDs:e}})},goToStudent:function(e){this.$router.push({name:"StudentList",params:{studentIDs:e}})},goToSolution:function(e){this.$router.push({name:"TestMarks",params:{solutionId:e}})},goToTakeTest:function(e){this.$router.push({name:"TakeTest",params:{dbQuestionaire:e}})},setATestForModule:function(e){this.$router.push({name:"SetTest",params:{moduleID:e}})},Login:function(e){switch(e.data.userType){case"ADMIN":this.$store.commit("login",{id:e.data.user._id,username:e.data.user.username,password:e.data.user.password,type:"ADMIN",isLoggedIn:!0}),this.$router.push("/");break;case"LECTURER":this.$store.commit("login",{id:e.data.user._id,username:e.data.user.username,password:e.data.user.password,type:"LECTURER",isLoggedIn:!0}),this.$router.push("/");break;case"STUDENT":this.$store.commit("login",{id:e.data.user._id,username:e.data.user.username,password:e.data.user.password,type:"STUDENT",isLoggedIn:!0}),this.$router.push("/")}this.$session.start();var t={id:e.data.user._id,username:e.data.user.username,type:e.data.userType,isLoggedIn:!0};this.$session.set("user",t);var s=this.$session.get("users");null==s&&(s=new Array),(s=s.filter(function(e){return e.id!=t.id})).push(t),this.$session.set("users",s)},Logout:function(){this.$session.remove("user"),this.$store.commit("logout"),this.$router.push("/login")}}}),new a.default({el:"#app",router:De,store:Ue,components:{App:i},mounted:function(){Oe.AutoInit()},template:"<App/>"})},NiCl:function(e,t){},UK5d:function(e,t){},UgmS:function(e,t){},c9Zd:function(e,t){},eTmu:function(e,t){},eu3R:function(e,t){},fLj3:function(e,t){},gkYU:function(e,t){},i4da:function(e,t){},i5jB:function(e,t){},lmbn:function(e,t,s){"use strict";(function(e){var t,a,n=s("pFYg"),i=s.n(n);t=this,a=function(){return function e(t,s,a){var n,i,o=window,r="application/octet-stream",l=a||r,d=t,c=!s&&!a&&d,u=document.createElement("a"),m=function(e){return String(e)},v=o.Blob||o.MozBlob||o.WebKitBlob||m,f=s||"download";if(v=v.call?v.bind(o):Blob,"true"===String(this)&&(l=(d=[d,l])[0],d=d[1]),c&&c.length<2048&&(f=c.split("/").pop().split("?")[0],u.href=c,-1!==u.href.indexOf(c))){var h=new XMLHttpRequest;return h.open("GET",c,!0),h.responseType="blob",h.onload=function(t){e(t.target.response,f,r)},setTimeout(function(){h.send()},0),h}if(/^data\:[\w+\-]+\/[\w+\-]+[,;]/.test(d)){if(!(d.length>2096103.424&&v!==m))return navigator.msSaveBlob?navigator.msSaveBlob(p(d),f):_(d);l=(d=p(d)).type||r}function p(e){for(var t=e.split(/[:;,]/),s=t[1],a=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),n=a.length,i=0,o=new Uint8Array(n);i<n;++i)o[i]=a.charCodeAt(i);return new v([o],{type:s})}function _(e,t){if("download"in u)return u.href=e,u.setAttribute("download",f),u.className="download-js-link",u.innerHTML="downloading...",u.style.display="none",document.body.appendChild(u),setTimeout(function(){u.click(),document.body.removeChild(u),!0===t&&setTimeout(function(){o.URL.revokeObjectURL(u.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return e=e.replace(/^data:([\w\/\-\+]+)/,r),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var s=document.createElement("iframe");document.body.appendChild(s),t||(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,r)),s.src=e,setTimeout(function(){document.body.removeChild(s)},333)}if(n=d instanceof v?d:new v([d],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(n,f);if(o.URL)_(o.URL.createObjectURL(n),!0);else{if("string"==typeof n||n.constructor===m)try{return _("data:"+l+";base64,"+o.btoa(n))}catch(e){return _("data:"+l+","+encodeURIComponent(n))}(i=new FileReader).onload=function(e){_(this.result)},i.readAsDataURL(n)}return!0}},"function"==typeof define&&s("nErl")?define([],a):"object"===("undefined"==typeof exports?"undefined":i()(exports))?e.exports=a():t.download=a()}).call(t,s("f1Eh")(e))},m2JN:function(e,t){},tyPE:function(e,t){},uslO:function(e,t,s){var a={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function n(e){return s(i(e))}function i(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}n.keys=function(){return Object.keys(a)},n.resolve=i,e.exports=n,n.id="uslO"},v8QE:function(e,t){},vo3S:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.d868bfc1277a7f90d404.js.map