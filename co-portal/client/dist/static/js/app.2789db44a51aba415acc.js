webpackJsonp([1],{"0Z3g":function(t,e){},"4+hh":function(t,e){},"4mxi":function(t,e){},"5+8H":function(t,e){},"7Otq":function(t,e,s){t.exports=s.p+"static/img/logo.1328452.png"},"84tw":function(t,e){},F3oz:function(t,e){},Hd9H:function(t,e){},ImpT:function(t,e){},KlEE:function(t,e){},MmTn:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[t.$route.meta.showNav?s("nav",{staticClass:"navFixed z-depth-2"},[s("div",{staticClass:"nav-wrapper"},[s("div",{staticClass:"row brand-logo"},[s("div",{staticClass:"col s6"},[s("a",{staticClass:"pointer waves-effect",on:{click:function(e){t.$router.push("/")}}},[s("md-avatar",[s("img",{staticClass:"img-responsive",attrs:{src:"static/img/co-portalIcon.png"}})])],1)]),t._v(" "),s("div",{staticClass:"col s6"})]),t._v(" "),s("ul",{staticClass:"right"},[t.$store.state.user.isLoggedIn?s("li",[s("a",{staticClass:"center-align pointer waves-effect black-text"},[s("span",[t._v(t._s(t.$store.state.user.username))])])]):t._e(),t._v(" "),t.$store.state.user.isLoggedIn?s("li",{staticClass:"hide-on-med-and-down"},[s("a",{staticClass:"black-text",on:{click:function(e){t.$router.push("/module/list")}}},[s("i",{staticClass:"material-icons"},[t._v("books")])])]):t._e(),t._v(" "),!t.$store.state.user.isLoggedIn||"LECTURER"!=t.$store.state.user.type&&"ADMIN"!=t.$store.state.user.type?t._e():s("li",{staticClass:"hide-on-med-and-down"},[s("a",{staticClass:"black-text",on:{click:function(e){t.$router.push("/student/list")}}},[s("i",{staticClass:"material-icons"},[t._v("people")])])]),t._v(" "),t.$store.state.user.isLoggedIn&&"ADMIN"==t.$store.state.user.type?s("li",{staticClass:"hide-on-med-and-down"},[s("a",{staticClass:"black-text",on:{click:function(e){t.$router.push("/lecturer/list")}}},[s("i",{staticClass:"material-icons"},[t._v("supervised_user_circle")])])]):t._e(),t._v(" "),t.$store.state.user.isLoggedIn&&"STUDENT"==t.$store.state.user.type?s("li",{staticClass:"hide-on-med-and-down"},[s("a",{staticClass:"black-text",on:{click:function(e){t.$router.push("/marks/all")}}},[s("i",{staticClass:"material-icons"},[t._v("done_all")])])]):t._e(),t._v(" "),!t.$store.state.user.isLoggedIn||"LECTURER"!=t.$store.state.user.type&&"ADMIN"!=t.$store.state.user.type?t._e():s("li",{staticClass:"hide-on-med-and-down"},[s("a",{staticClass:"black-text",on:{click:function(e){t.$router.push("/marks/sheet")}}},[s("i",{staticClass:"material-icons"},[t._v("done_all")])])]),t._v(" "),s("li",[s("a",{staticClass:"black-text",on:{click:function(e){t.$router.back()}}},[s("md-icon",[t._v("keyboard_backspace")]),t._v(" "),s("span",[t._v("Back")])],1)])])])]):t._e(),t._v(" "),s("router-view",{staticStyle:{"padding-top":"15px"}})],1)},staticRenderFns:[]};var i=s("VU/8")({name:"App"},n,!1,function(t){s("F3oz")},null,null).exports,r=s("/ocq"),o=s("thjQ"),l=s.n(o),d=s("mtWM"),c={name:"Home",data:function(){return{announcement:{title:"",message:"",isToAll:!0,moduleID:null},announcements:[],modules:[],isAddingAnnouncements:!1,showEmoji:!1,isLoading:!1,txtSearch:"",titleText:["Welcome to Co-Portal.","Please login","Contact admin for your login info"],options:[{text:"My profile",icon:"person",link:"/",auth:["STUDENT","LECTURER","ADMIN"]},{text:"Students",icon:"people",link:"/student/list",auth:["LECTURER","ADMIN"]},{text:"Edit profile",icon:"account_circle",link:"/student/update",auth:["STUDENT"]},{text:"Lecturers",icon:"supervised_user_circle",link:"/lecturer/list",auth:["ADMIN"]},{text:"Modules",icon:"books",link:"/module/list",auth:["ADMIN","LECTURER","STUDENT"]},{text:"Marks",icon:"done_all",link:"/marks/all",auth:["STUDENT"]},{text:"Assessment results",icon:"done_all",link:"/marks/sheet",auth:["LECTURER","ADMIN"]},{text:"Report a student",icon:"timeline",link:"/Student/Report",auth:["LECTURER","ADMIN"]}]}},mounted:function(){var t=this;this.$store.state.user.isLoggedIn&&(this.isLoading=!0,d.post(this.$store.state.settings.baseLink+"/n/announcements/get/for/"+this.$store.state.user.id,{userType:this.$store.state.user.type,moduleID:null}).then(function(e){t.isLoading=!1,console.log(e.data),t.announcements=e.data.reverse()}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()(e.message,"Try again later","error")}),"LECTURER"!=this.$store.state.user.type&&"ADMIN"!=this.$store.state.user.type||(this.isLoading=!0,d.get(this.$store.state.settings.baseLink+"/m/modules/all/for/"+this.$store.state.user.id+"/"+this.$store.state.user.type).then(function(e){t.isLoading=!1,t.modules=e.data,t.modules.map(function(t){t.show=!0})}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()("Unable to load modules","Try again later","error")})))},methods:{AnnouncementClick:function(t){l()({title:t.title,text:t.message})},SendAnnouncement:function(){var t=this;this.isLoading=!0,this.announcement.isToAll=null==this.announcement.module,d.post(this.$store.state.settings.baseLink+"/n/announcements/add/for/"+this.announcement.module+"/by/"+this.$store.state.user.type+"/of/id/"+this.$store.state.user.id,{announcement:this.announcement}).then(function(e){t.isLoading=!1,t.isAddingAnnouncements=!1,l()("Success","Announcement successfully sent.","success")}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?l()(e.response.data,"Try again later","error"):l()("Unable to send announcement","Try again later","error")})}}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"screen"},[!t.$store.state.user.isLoggedIn||"LECTUERE"!=t.$store.state.user.type&&"ADMIN"!=t.$store.state.user.type?t._e():s("md-dialog",{staticClass:"card",staticStyle:{position:"absolute",top:"25%",width:"100%"},attrs:{"md-active":t.isAddingAnnouncements},on:{"update:mdActive":function(e){t.isAddingAnnouncements=e}}},[s("md-card",{staticClass:"col s12"},[s("md-card-header",[s("div",{staticClass:"md-title"},[t._v("Send a announcement")]),t._v(" "),s("md-button",{staticClass:"right",on:{click:function(e){t.isAddingAnnouncements=!1}}},[s("md-icon",[t._v("close")])],1)],1),t._v(" "),s("md-content",[s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.announcement.title,expression:"announcement.title"}],attrs:{id:"ModuleDescription",name:"ModuleDescription",type:"text"},domProps:{value:t.announcement.title},on:{input:function(e){e.target.composing||t.$set(t.announcement,"title",e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"ModuleDescription"}},[t._v("Title")])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.announcement.message,expression:"announcement.message"}],attrs:{id:"ModuleDescription",name:"ModuleDescription",type:"text"},domProps:{value:t.announcement.message},on:{input:function(e){e.target.composing||t.$set(t.announcement,"message",e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"ModuleDescription"}},[t._v("Message")])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 text-center"},[s("label",[t._v("Send to : ")])]),t._v(" "),s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 text-center"},[s("form",{attrs:{action:"#"}},[t._l(t.modules,function(e,a){return s("p",{key:a},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.announcement.module,expression:"announcement.module"}],staticClass:"with-gap",attrs:{name:"group1",type:"radio"},domProps:{value:e._id,checked:t._q(t.announcement.module,e._id)},on:{change:function(s){t.$set(t.announcement,"module",e._id)}}}),t._v(" "),s("span",[t._v(t._s(e.name)+" ("+t._s(e.code)+") students")])])])}),t._v(" "),s("p",[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.announcement.module,expression:"announcement.module"}],staticClass:"with-gap",attrs:{name:"group1",type:"radio",checked:""},domProps:{value:null,checked:t._q(t.announcement.module,null)},on:{change:function(e){t.$set(t.announcement,"module",null)}}}),t._v(" "),s("span",[t._v("All Students")])])])],2)])])])],1),t._v(" "),s("md-card-actions",[t.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e(),t._v(" "),t.isLoading?t._e():s("md-button",{staticClass:"md-primary",on:{click:function(e){t.SendAnnouncement()}}},[t._v("Send announcement")])],1)],1),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s6 offset-s3 m8 offset-m2 center-align"},[s("h5",{staticClass:"center-align"},[t.$store.state.user.isLoggedIn?t._e():s("vue-typer",{staticClass:"center-align",attrs:{text:t.titleText,"erase-style":"backspace"}}),t._v(" "),t.$store.state.user.isLoggedIn?s("span",[t._v("Welcome back "),s("a",{staticClass:"pointer waves-effect"},[t._v(t._s(t.$store.state.user.username))])]):t._e()],1)]),t._v(" "),t._m(0)]),t._v(" "),s("div",{staticClass:"row"},[t.$store.state.user.isLoggedIn?t._e():s("div",{staticClass:"col m6 offset-m3 s12 pointer bigButton center-align waves-effect",on:{click:function(e){t.$router.push("/login")}}},[t._m(1)])]),t._v(" "),t.$store.state.user.isLoggedIn?s("div",{staticClass:"row"},[s("div",{staticClass:"col s12 m6 xl4 push-xl2"},[s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[s("md-card-header",{staticClass:"left"},[t._v("Annnouncements")])],1),t._v(" "),s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[t.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e()],1),t._v(" "),s("md-list",{staticClass:"md-triple-line col s12 center-align"},[s("div",{staticClass:"Scroll-first-four"},["LECTURER"==t.$store.state.user.type||"ADMIN"==t.$store.state.user.type?s("md-list-item",{staticClass:"hoverable col s12 m10 pointer white center-align waves-effect",staticStyle:{"margin-bottom":"15px"},on:{click:function(e){t.isAddingAnnouncements=!0}}},[s("md-avatar",[s("md-icon",[t._v("add")])],1),t._v(" "),s("div",{staticClass:"md-list-item-text center-align"},[s("span",[t._v("Add new Announcement")])])],1):t._e(),t._v(" "),t._l(t.announcements,function(e,a){return s("md-list-item",{key:a,staticClass:"hoverable col s12 m10 pointer white center-align waves-effect",staticStyle:{"margin-bottom":"15px"},on:{click:function(s){t.AnnouncementClick(e)}}},[s("md-avatar",[s("img",{attrs:{src:"https://placeimg.com/40/40/people/1",alt:"People"}})]),t._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[t._v(t._s(e.lecturerId?e.lecturerId.lastname+" "+e.lecturerId.firstname:"Admin")+"  • "+t._s(t.getMoment(e.date).fromNow()))]),t._v(" "),s("span",[t._v(t._s(e.title))]),t._v(" "),s("p",[t._v(t._s(e.message))])])],1)})],2)])],1),t._v(" "),s("div",{staticClass:"col s12 m6 xl4 push-xl2 row",staticStyle:{"margin-top":"-6px"}},[s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[s("md-card-header",{staticClass:"left"},[t._v("Portal")])],1),t._v(" "),t._l(t.options.filter(function(e){return null==e.auth||e.auth.indexOf(t.$store.state.user.type)>=0}),function(e,a){return s("div",{key:a,staticClass:"col s12 pointer bigButton waves-effect",on:{click:function(s){t.$router.push(e.link)}}},[s("div",{staticClass:"card-panel hoverable"},[s("h5",{staticClass:"center-align"},[s("i",{staticClass:"material-icons left",staticStyle:{"font-size":"100%"}},[t._v(t._s(e.icon))]),t._v(" "),s("span",[t._v(t._s(e.text))])])])])})],2)]):t._e(),t._v(" "),t.$store.state.user.isLoggedIn?s("div",{staticClass:"row"},[s("div",{staticClass:"col m2 offset-m5 s12 pointer center-align waves-effect",on:{click:function(e){t.Logout()}}},[t._m(2)])]):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col s10 offset-s1 m8 offset-m2 center-align"},[e("img",{staticClass:"responsive-img",attrs:{src:s("7Otq")}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-panel hoverable"},[e("h5",{staticClass:"center-align"},[e("i",{staticClass:"material-icons left",staticStyle:{"font-size":"100%"}},[this._v("lock")]),this._v(" "),e("span",[this._v("Login")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-panel hoverable red"},[e("h5",{staticClass:"text-xs-center"},[this._v("Log out "),e("i",{staticClass:"material-icons right"},[this._v("exit_to_app")])])])}]};var m=s("VU/8")(c,u,!1,function(t){s("MmTn")},"data-v-a52f43b2",null).exports,v=s("mtWM"),f={name:"Login",data:function(){return{username:"",password:"",txtError:"",isLoading:!1,pastUsers:[]}},mounted:function(){this.pastUsers=this.$session.get("users")},methods:{SubmitLogin:function(){var t=this;this.isLoading=!0,this.txtError="",0==this.password.length&&(this.txtError="Please enter a valid password"),0==this.username.length&&(this.txtError="Please enter a valid user name"),0==this.txtError.length?v.post(this.$store.state.settings.baseLink+"/acc/login",{username:this.username,password:this.password}).then(function(e){t.isLoading=!1,t.Login(e)}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?t.txtError=e.response.data:l()("Unable to log you in","Try again later","error")}):this.isLoading=!1},LoginAsUser:function(t){this.$store.commit("login",t),this.$router.push("/")}}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"screen"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2"},[s("md-button",{staticClass:"right",on:{click:function(e){t.$router.back()}}},[s("md-icon",[t._v("keyboard_backspace")]),t._v(" "),s("span",[t._v("Back")])],1)],1)]),t._v(" "),s("div",{staticClass:"row valign-wrapper",staticStyle:{height:"80vh"}},[s("div",{staticClass:"col m6 offset-m3 col s12 center-align"},[s("div",{staticClass:"card row z-depth-5"},[t._m(0),t._v(" "),s("div",{staticClass:"card-content"},[s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{id:"Username",name:"Username",type:"text"},domProps:{value:t.username},on:{keypress:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.SubmitLogin(e):null},input:function(e){e.target.composing||(t.username=e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Username"}},[t._v("Username")])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"Password",name:"Password",type:"password"},domProps:{value:t.password},on:{keypress:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.SubmitLogin(e):null},input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Password"}},[t._v("Password")])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.txtError.length>0,expression:"txtError.length > 0"}],staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 text-center"},[s("label",{staticClass:"text-center red-text"},[t._v(t._s(t.txtError))])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 center-align text-center"},[t.isLoading?t._e():s("input",{staticClass:"btn center-align tg-btn",attrs:{type:"submit",value:"Login"},on:{click:function(e){t.SubmitLogin()}}}),t._v(" "),t.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e()],1)]),t._v(" "),t.pastUsers.length>0?s("div",{staticClass:"row"},[t._m(1),t._v(" "),t._l(t.pastUsers,function(e,a){return s("div",{key:a,staticClass:"col s2"},[t.isLoading?t._e():s("input",{staticClass:"btn-flat center-align tg-btn",attrs:{type:"submit"},domProps:{value:e.username},on:{click:function(s){t.LoginAsUser(e)}}})])})],2):t._e()])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-image col l8 offset-l2 m6 offset-m3 s12"},[e("img",{staticClass:"img-responsive",attrs:{src:"static/img/coPortalLogo.jpg"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col s12 left-align"},[e("label",[this._v("You can log in as : ")])])}]};var p=s("VU/8")(f,h,!1,function(t){s("Hd9H")},"data-v-5586f208",null).exports,g=s("mtWM"),_={name:"Home",data:function(){return{tests:[],options:[{text:"Set test",link:"/test/set"},{text:"Take test",link:"/test/take"}]}},mounted:function(){var t=this;this.isLoading=!0,g.get(this.$store.state.settings.baseLink+"/l/all/questionaire").then(function(e){t.isLoading=!1,t.tests=e.data}).catch(function(e){t.isLoading=!1,l()("Unable to load questionaires",e.message,"error")})},methods:{TakeTest:function(t){var e=this;"LECTURER"==this.$store.state.user.type?g.get(this.$store.state.settings.baseLink+"/l/get/solution/id/for/"+t._id).then(function(t){e.$router.push({name:"TestMarks",params:{solutionId:t.data.id}})}).catch(function(t){l()("Unable to submit",t.message,"error")}):this.$router.push({name:"TakeTest",params:{dbQuestionaire:t}})}}},w={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2"},[s("md-button",{staticClass:"right",on:{click:function(e){t.$router.back()}}},[s("md-icon",[t._v("keyboard_backspace")]),t._v(" "),s("span",[t._v("Back")])],1)],1)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[t.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e()],1)]),t._v(" "),t.isLoading?t._e():s("h4",{staticClass:"text-xs-center"},[t._v("Please select a test you want to take.")]),t._v(" "),s("div",{staticClass:"row"},t._l(t.tests,function(e,a){return s("div",{key:a,staticClass:"col m4 offset-m1 s6 pointer",on:{click:function(s){t.TakeTest(e)}}},[s("div",{staticClass:"card-panel hoverable"},[s("h5",{staticClass:"text-xs-center"},[t._v(t._s(e.title))])])])}))])},staticRenderFns:[]};var C=s("VU/8")(_,w,!1,function(t){s("UgmS")},"data-v-47d3e0e0",null).exports,b=s("mtWM"),x={name:"Test",data:function(){return{currentPage:0,solutions:[],Questionaire:null,txtError:"",isLoading:!1}},mounted:function(){var t=this;null==this.dbQuestionaire||null==this.dbQuestionaire.questions||this.dbQuestionaire.questions.length<=0?this.$router.push("/"):(this.solutions=[],this.dbQuestionaire.questions.map(function(e){t.solutions.push(null)}),this.Questionaire=this.dbQuestionaire)},props:["dbQuestionaire","isMemo"],methods:{changePage:function(t){this.txtError="",t?this.currentPage++:this.currentPage--},SubmitQuiz:function(){var t=this;this.isLoading=!0,this.txtError="";var e=!1;this.solutions.map(function(s,a){null==s&&(e=!0,t.txtError="Please provide an answer to this question",t.currentPage=a)}),e?this.isLoading=!1:l()({title:"Submit?",text:"Are you sure you want to submit?",icon:"warning",buttons:[!0,"Yes"]}).then(function(e){if(e){var s={id:t.Questionaire._id,isMemo:t.isMemo,answers:[]};t.solutions.forEach(function(e,a){s.answers.push({answer:e,question:t.Questionaire.questions[a]})}),b.post(t.$store.state.settings.baseLink+"/l/submit/questionaire",{studentId:t.$store.state.user.id,solution:s}).then(function(e){t.isLoading=!1,l()("Submitted!",{icon:"success"}),t.$router.push({name:"TestMarks",params:{solutionId:e.data._id}})}).catch(function(e){t.isLoading=!1,l()("Unable to submit",e.message,"error")})}else t.isLoading=!1})}}},k={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2"},[s("md-button",{staticClass:"right",on:{click:function(e){t.$router.back()}}},[s("md-icon",[t._v("keyboard_backspace")]),t._v(" "),s("span",[t._v("Back")])],1)],1)]),t._v(" "),s("div",{staticClass:"col s10 offset-s1"},[t._l(t.Questionaire.questions,function(e,a){return t.currentPage==a?s("div",{key:a,staticClass:"row"},[s("div",{staticClass:"col s10 offset-s1 row card-panel"},[s("div",{staticClass:"col s12"},[s("h5",{staticClass:"center-align"},[t._v(t._s(e.title))])]),t._v(" "),s("div",{staticClass:"col m8 offset-m2 s12"},[s("form",t._l(e.answers,function(n,i){return s("h6",{key:i,staticClass:"pointer"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.solutions[a],expression:"solutions[i]"}],staticClass:"with-gap",attrs:{id:n+"-"+i,name:e.id,type:"radio"},domProps:{value:n,checked:t._q(t.solutions[a],n)},on:{change:function(e){t.$set(t.solutions,a,n)}}}),t._v(" "),s("span",{attrs:{for:n+"-"+i}},[t._v(t._s(n))])])])}))]),t._v(" "),s("div",{staticClass:"col m8 offset-m2 s12"},[s("p",{directives:[{name:"show",rawName:"v-show",value:t.txtError.length>2,expression:"txtError.length > 2"}],staticClass:"center-align red-text"},[t._v(t._s(t.txtError))])])])]):t._e()}),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s3"},[s("p",[t._v(t._s(t.currentPage+1)+"/"+t._s(t.Questionaire.questions.length))])]),t._v(" "),s("div",{staticClass:"col s9 right-align"},[t.currentPage>0?s("button",{staticClass:"btn red",on:{click:function(e){t.changePage(!1)}}},[t._v("Previous")]):t._e(),t._v(" "),t.currentPage+1<t.Questionaire.questions.length?s("button",{staticClass:"btn",on:{click:function(e){t.changePage(!0)}}},[t._v("Next")]):t._e(),t._v(" "),t.currentPage+1!=t.Questionaire.questions.length||t.isLoading?t._e():s("button",{staticClass:"btn green",on:{click:function(e){t.SubmitQuiz()}}},[t._v("Done")]),t._v(" "),t.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e()],1)])],2)])},staticRenderFns:[]};var y=s("VU/8")(x,k,!1,function(t){s("5+8H")},"data-v-916d06dc",null).exports,S=s("mtWM"),L={name:"SetTest",components:{TakeTest:y},data:function(){return{hasTimeLimit:!1,hasExpiryDatetime:!1,currentPage:0,title:"",questionaire:{title:"",answers:[],expiryDate:null,expiryTime:null,timeLimit:null},addingQuestion:!1,answers:[{value:"Jacob Zuma"}],dbQuestionaire:null,questions:[],timeLimits:["10 minutes","30 minutes","45 minutes","1 hour","1.5 hours","2 hours"],isLoading:!1}},mounted:function(){null==this.moduleID?this.$router.back():this.Reload()},props:["moduleID"],methods:{AddQuestion:function(){this.addingQuestion=!0},AddAnswer:function(){this.answers.push({})},RemoveAnswer:function(){this.answers.pop()},DeleteQuestion:function(t){var e=this;l()({title:"Are you sure?",text:"Once deleted, you will not be able to recover this question",icon:"warning",buttons:!0,dangerMode:!0}).then(function(s){if(s){var a=e.questions.indexOf(t);e.questions.splice(a,1),l()("Question has been deleted!",{icon:"success"})}})},SaveQuestion:function(){this.questionaire.title.length<2?l()("Incomplete question","Please provide a valid question","error"):this.questionaire.answers.length<1?l()("Incomplete question","Please provide atleast one answer to the question","error"):(this.questions.push({id:this.questionaire.title+"-"+Date.now()+"-"+this.questions.length,title:this.questionaire.title,answers:this.questionaire.answers,expiryDate:this.hasExpiryDatetime?this.questionaire.expiryDate:null,expiryTime:this.hasExpiryDatetime?this.questionaire.expiryTime:null,timeLimit:this.hasTimeLimit?this.questionaire.timeLimit:null}),this.questionaire.title="",this.questionaire.answers=[],this.addingQuestion=!1)},SubmitQuestionaire:function(){var t=this;return this.isLoading=!0,this.title.length<3?(l()("Incomplete questionaire","Please provide a title for your questionaire","error"),void(this.isLoading=!1)):this.hasTimeLimit&&(null==this.questionaire.timeLimit||this.questionaire.timeLimit.length<2)?(l()("Invalid time limit","Please provide a valid time limit","error"),void(this.isLoading=!1)):void S.post(this.$store.state.settings.baseLink+"/l/add/questionaire",{title:this.title,lecturerId:this.$store.state.user.id,questions:this.questions,timeLimit:this.questionaire.timeLimit,moduleId:this.moduleID}).then(function(e){var s={lecturerID:t.$store.state.user.id,moduleID:t.moduleID,title:t.title,total:t.questions.length,id:e.data._id,type:"ONLINETEST"},a=t;S.post(t.$store.state.settings.baseLink+"/l/sheet/add",{markSheet:s}).then(function(t){a.isLoading=!1,a.dbQuestionaire=e.data,a.currentPage=1}).catch(function(t){a.isLoading=!1,null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()("Unable to save mark sheet",t.message,"error")})}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()("Unable to submit questionaire",e.message,"error")})}}},A={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2"},[s("md-button",{staticClass:"right",on:{click:function(e){t.$router.back()}}},[s("md-icon",[t._v("keyboard_backspace")]),t._v(" "),s("span",[t._v("Back")])],1)],1)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field center-align col s12 m8 offset-m2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"validate",attrs:{id:"title",type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),s("label",{attrs:{for:"title"}},[t._v("Title")])]),t._v(" "),1==t.currentPage?s("div",{staticClass:"col s12 center-align"},[s("h3",[t._v("Memorandum creation")])]):t._e()]),t._v(" "),t.addingQuestion||0!=t.currentPage?t._e():s("div",{staticClass:"row"},t._l(t.questions,function(e,a){return s("div",{key:a,staticClass:"col s12 m8 offset-m2 card-panel row valign-wrapper pointer"},[s("div",{staticClass:"col s12 row"},[s("div",{staticClass:"col s12 right-align"},[s("button",{staticClass:"btn-flat center-align red-text",on:{click:function(s){t.DeleteQuestion(e)}}},[s("i",{staticClass:"material-icons"},[t._v("delete")])])]),t._v(" "),s("h6",{staticClass:"col s12"},[t._v("\n          "+t._s(e.title)+"\n        ")]),t._v(" "),s("div",{staticClass:"col s12 right-align"},[s("span",{staticClass:"small"},[t._v(t._s(e.answers.length)+" answers")])])])])})),t._v(" "),s("div",{staticClass:"row"},[t.addingQuestion||0!=t.currentPage?t._e():s("div",{staticClass:"col s12 center-align"},[s("button",{staticClass:"btn green",on:{click:function(e){t.AddQuestion()}}},[t._v("Add Question")])])]),t._v(" "),t.addingQuestion&&0==t.currentPage?s("div",{staticClass:"row"},[s("div",{staticClass:"col s12 m8 offset-m2 card-panel"},[s("h4",{staticClass:"right-align"},[s("button",{staticClass:"btn-flat",on:{click:function(e){t.addingQuestion=!1}}},[s("i",{staticClass:"material-icons red-text"},[t._v("close")])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s12 m6 offset-m3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.questionaire.title,expression:"questionaire.title"}],staticClass:"validate",attrs:{placeholder:"Type the question here...",type:"text"},domProps:{value:t.questionaire.title},on:{input:function(e){e.target.composing||t.$set(t.questionaire,"title",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"row"},[t._l(t.answers,function(e,a){return s("div",{key:a,staticClass:"input-field center-align col s12 m10 offset-m1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.questionaire.answers[a],expression:"questionaire.answers[i]"}],staticClass:"validate",attrs:{id:"answer-"+a,type:"text"},domProps:{value:t.questionaire.answers[a]},on:{input:function(e){e.target.composing||t.$set(t.questionaire.answers,a,e.target.value)}}}),t._v(" "),s("label",{attrs:{for:"answer-"+a}},[t._v("Answer "+t._s(a+1))])])}),t._v(" "),s("div",{staticClass:"col s12 center-align"},[s("button",{staticClass:"btn-flat",on:{click:function(e){t.AddAnswer()}}},[s("i",{staticClass:"material-icons"},[t._v("add")])]),t._v(" "),s("button",{staticClass:"btn-flat",on:{click:function(e){t.RemoveAnswer()}}},[s("i",{staticClass:"material-icons"},[t._v("remove")])])])],2),t._v(" "),s("div",{staticClass:"row"},[s("button",{staticClass:"col s12 btn green",on:{click:function(e){t.SaveQuestion()}}},[t._v("Save Question")])])])]):t._e(),t._v(" "),!t.addingQuestion&&t.questions.length>0&&0==t.currentPage?s("div",{staticClass:"row"},[s("div",{staticClass:"col s12 m8 offset-m2 card-panel row p-10"},[s("div",{staticClass:"col s12 row"},[s("div",{staticClass:"switch"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.hasTimeLimit,expression:"hasTimeLimit"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.hasTimeLimit)?t._i(t.hasTimeLimit,null)>-1:t.hasTimeLimit},on:{change:function(e){var s=t.hasTimeLimit,a=e.target,n=!!a.checked;if(Array.isArray(s)){var i=t._i(s,null);a.checked?i<0&&(t.hasTimeLimit=s.concat([null])):i>-1&&(t.hasTimeLimit=s.slice(0,i).concat(s.slice(i+1)))}else t.hasTimeLimit=n}}}),t._v(" "),s("span",{staticClass:"lever"}),t._v("\n                  "+t._s(t.hasTimeLimit?"Has time limit":"No time limit")+"\n                ")])])]),t._v(" "),s("label",{directives:[{name:"show",rawName:"v-show",value:t.hasTimeLimit,expression:"hasTimeLimit"}],staticClass:"col s12"},[t._v("Time limit")]),t._v(" "),t._l(t.timeLimits,function(e){return s("div",{directives:[{name:"show",rawName:"v-show",value:t.hasTimeLimit,expression:"hasTimeLimit"}],key:e,staticClass:"col s4 m2",staticStyle:{padding:"5px"}},[s("div",{staticClass:"chip waves pointer",class:{selectedTag:t.questionaire.timeLimit==e},on:{click:function(s){t.questionaire.timeLimit=e}}},[t._v("\n          "+t._s(e)+"\n        ")])])})],2)]):t._e(),t._v(" "),!t.addingQuestion&&t.questions.length>0&&0==t.currentPage?s("div",{staticClass:"row"},[s("div",{staticClass:"col s12 m8 offset-m2 right-align"},[t.isLoading?t._e():s("button",{staticClass:"btn green",on:{click:function(e){t.SubmitQuestionaire()}}},[s("i",{staticClass:"material-icons"},[t._v("done")])])]),t._v(" "),s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[t.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e()],1)]):t._e(),t._v(" "),1==t.currentPage&&null!=t.dbQuestionaire?s("div",[s("TakeTest",{attrs:{dbQuestionaire:t.dbQuestionaire,isMemo:!0}})],1):t._e()])},staticRenderFns:[]};var E=s("VU/8")(L,A,!1,function(t){s("wGBx")},"data-v-65f789ef",null).exports,M=s("PJh5"),N=s("mtWM"),P={name:"TestMarks",data:function(){return{txtFeedback:"",currentPage:0,Solution:[],feedbacks:[],addingFeedBack:!1,autoRefreshChats:!1,refreshTimer:"",isLoading:!1}},computed:{},mounted:function(){var t=this;null!=this.solutionId?(this.isLoading=!0,N.get(this.$store.state.settings.baseLink+"/l/get/solutions/"+this.solutionId).then(function(e){if(t.isLoading=!1,null!=e){if(t.Solution=e.data,null==t.Solution||null==t.Solution.answers||t.Solution.answers.length<1)throw new Error("Unable to retreive the solution , try again later")}else t.$router.push("/")}).catch(function(e){t.isLoading=!1,l()("Unable to load your results",e.message,"error"),t.$router.push("/")})):this.$router.push("/")},props:["solutionId"],methods:{toggleAutoRefresh:function(){this.autoRefreshChats?this.refreshTimer=setInterval(this.refreshFeedbacks,5e3):clearInterval(this.refreshTimer)},getMoment:function(t){return M(t)},DownloadMarks:function(){window.print()},ViewMemorandum:function(){l()("Memorandum not yet avaliable","Not all students have wrote the test","error")},refreshFeedbacks:function(){var t=this;this.isLoading=!0,N.get(this.$store.state.settings.baseLink+"/l/feedback/reload/"+this.Solution.questionaireId).then(function(e){t.isLoading=!1,t.feedbacks=[],e.data.forEach(function(e){t.feedbacks.push(e)})}).catch(function(e){t.isLoading=!1,t.feedbacks.map(function(t){"sent"!=t.status&&(t.status="not sent")}),l()("Unable to submit questionaire",e.message,"error")})},openCloseFeedbacks:function(){this.addingFeedBack=!this.addingFeedBack,this.addingFeedBack&&this.refreshFeedbacks()},SubmitFeedback:function(){var t=this;if(this.isLoading=!0,!this.$store.state.user.isLoggedIn)return l()("Unable to send","Your session is over please log in again","error"),void(this.isLoading=!1);if(this.txtFeedback.length<1)this.isLoading=!1;else{var e={from:this.$store.state.user.username,message:this.txtFeedback,date:new Date,status:"sending...."};this.feedbacks.push(e),this.txtFeedback="",N.post(this.$store.state.settings.baseLink+"/l/feedback/submit/"+this.Solution.questionaireId,{fromId:this.$store.state.user.id,from:e.from,fromType:this.$store.state.user.type,message:e.message,date:e.date,existingId:this.feedbacks.map(function(t){return t._id})}).then(function(e){t.isLoading=!1,t.feedbacks=[],e.data.forEach(function(e){t.feedbacks.push(e)})}).catch(function(e){t.isLoading=!1,t.feedbacks.map(function(t){"sent"!=t.status&&(t.status="not sent")}),l()("Unable to submit questionaire",e.message,"error")})}}}},T={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2"},[s("md-button",{staticClass:"right",on:{click:function(e){t.$router.back()}}},[s("md-icon",[t._v("keyboard_backspace")]),t._v(" "),s("span",[t._v("Back")])],1)],1)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[t.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e()],1)]),t._v(" "),s("div",{staticClass:"col s12 center-align card-panel row"},[s("div",{staticClass:"col s12 m8 offset-m2"},[s("h4",[s("a",[t._v(t._s(t.Solution.isMemo?"Memorandum":t.Solution.studentId.firstname+" "+t.Solution.studentId.lastname))])]),t._v(" "),s("h5",[t._v("Your score is "),s("a",{class:{"red-text":2*t.Solution.mark<t.Solution.answers.length}},[t._v(t._s(t.Solution.mark)+"/"+t._s(t.Solution.answers.length))])])]),t._v(" "),s("div",{staticClass:"col s12 right-align"},[s("a",{staticClass:"btn-floating black waves-effect",attrs:{title:"Download"},on:{click:t.DownloadMarks}},[s("i",{staticClass:"material-icons"},[t._v("save")])]),t._v(" "),s("a",{staticClass:"btn-floating black waves-effect",attrs:{title:"Memorandum"},on:{click:t.ViewMemorandum}},[s("i",{staticClass:"material-icons"},[t._v("description")])]),t._v(" "),s("a",{staticClass:"btn-floating black waves-effect",class:{transparent:t.addingFeedBack},attrs:{title:"Feed back"},on:{click:t.openCloseFeedbacks}},[s("i",{staticClass:"material-icons",class:{"black-text":t.addingFeedBack}},[t._v("chat")])])]),t._v(" "),s("div",{staticClass:"col s12 m8 offset-m2"},[s("span",{staticClass:"blue-text"},[t._v("Scroll down to see "+t._s(t.addingFeedBack?"add your feedback":"view your test")+".")])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.addingFeedBack,expression:"addingFeedBack"}],staticClass:"col s12 row card-panel"},[s("div",{staticClass:"col s12 right-align"},[s("a",{staticClass:"btn-floating transparent waves-effect right-align",on:{click:function(e){t.addingFeedBack=!t.addingFeedBack}}},[s("i",{staticClass:"material-icons red-text"},[t._v("close")])])]),t._v(" "),s("div",{staticClass:"row"},t._l(t.feedbacks,function(e,a){return s("div",{key:a,staticClass:"col s10 offset-s1 chat",class:{"right-align":e.from.id==t.$store.state.user.id}},[s("span",{staticClass:"chip message",class:{notSent:"sent"!=e.status,"black white-text":"STUDENT"!=e.from.type}},[s("span",{staticClass:"from",class:{"white-text":"STUDENT"!=e.from.type}},[t._v(t._s(e.from.name))]),t._v(" : "+t._s(e.message)+"\n        ")]),t._v(" "),s("p",{staticClass:"time"},[t._v(t._s("sent"!=e.status?e.status:t.getMoment(e.date).fromNow()))])])})),t._v(" "),s("div",{staticClass:"col s10 switch"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.autoRefreshChats,expression:"autoRefreshChats"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.autoRefreshChats)?t._i(t.autoRefreshChats,null)>-1:t.autoRefreshChats},on:{change:[function(e){var s=t.autoRefreshChats,a=e.target,n=!!a.checked;if(Array.isArray(s)){var i=t._i(s,null);a.checked?i<0&&(t.autoRefreshChats=s.concat([null])):i>-1&&(t.autoRefreshChats=s.slice(0,i).concat(s.slice(i+1)))}else t.autoRefreshChats=n},t.toggleAutoRefresh]}}),t._v(" "),s("span",{staticClass:"lever"}),t._v("\n                    "+t._s(t.autoRefreshChats?"Auto refreshing every 5 seconds":"Auto refresh is off, Use the button on the right to get the latest messages")+" \n                  ")])]),t._v(" "),s("div",{staticClass:"col s2 right-align"},[t.isLoading?t._e():s("a",{staticClass:"btn-floating transparent waves-effect right-align",on:{click:t.refreshFeedbacks}},[s("i",{staticClass:"material-icons black-text"},[t._v("refresh")])]),t._v(" "),t.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e()],1),t._v(" "),s("form",{staticClass:"col s12 center-align"},[s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s10 offset-s1 m6 offset-m3"},[s("i",{staticClass:"material-icons prefix"},[t._v("chat")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.txtFeedback,expression:"txtFeedback"}],staticClass:"materialize-textarea",attrs:{id:"icon_prefix2"},domProps:{value:t.txtFeedback},on:{input:function(e){e.target.composing||(t.txtFeedback=e.target.value)}}}),t._v(" "),s("label",{attrs:{for:"icon_prefix2"}},[t._v("Comment")])]),t._v(" "),s("div",{staticClass:"col s8 offset-s2 center-align"},[t.isLoading?t._e():s("a",{staticClass:"btn green waves-effect-effect",on:{click:t.SubmitFeedback}},[t._v("Comment")]),t._v(" "),t.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e()],1)])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.addingFeedBack,expression:"!addingFeedBack"}],staticClass:"col s10 offset-s1"},[t._l(t.Solution.answers,function(e,a){return s("div",{key:a,staticClass:"row"},[s("div",{staticClass:"col m8 offset-m2 row card-panel hoverable"},[s("div",{staticClass:"col s12"},[s("h5",{staticClass:"center-align"},[t._v(t._s(e.question.title))])]),t._v(" "),s("div",{staticClass:"col m8 offset-m2 s12"},[s("form",t._l(e.question.answers,function(a,n){return s("h6",{key:n,staticClass:"pointer"},[s("label",[s("input",{staticClass:"with-gap",attrs:{disabled:e.answer!=a,id:a+"-"+n,name:e._id,type:"radio"},domProps:{checked:e.answer==a}}),t._v(" "),s("span",{attrs:{for:a+"-"+n}},[t._v(t._s(a))])])])}))])])])}),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 center-align"},[s("button",{staticClass:"btn red",on:{click:function(e){t.$router.push("/")}}},[t._v("Go home")])])])],2)])},staticRenderFns:[]};var $=s("VU/8")(P,T,!1,function(t){s("tyPE")},"data-v-15d6f660",null).exports,U=s("mvHQ"),I=s.n(U),R=s("mtWM"),D={name:"AddStudent",data:function(){return{txtError:"",student:{firstname:"",lastname:"",username:"",password:"",confirmPassword:"",modules:[null],idNumber:"",gender:"",dob:"",isSouthAfrican:!1},done:!1,modules:[],isLoading:!1}},watch:{"student.idNumber":function(t,e){if(t.length>=6&&(this.student.dob=new Date(t.substring(0,2),t.substring(2,4)-1,t.substring(4,6)),t.length>=10)){var s=t.substring(6,10);this.student.gender=parseInt(s)<5e3?"Female":"Male",13==t.length&&(this.student.isSouthAfrican=0==parseInt(t.substring(10,11)))}}},mounted:function(){this.done=!1,this.LoadModules()},methods:{LoadModules:function(){var t=this;this.isLoading=!0,R.get(this.$store.state.settings.baseLink+"/m/modules/all").then(function(e){t.isLoading=!1,t.modules=e.data,t.options=[],t.modules.map(function(e){t.options.push({value:e._id,text:e.name+" ( "+e.code+" )"})})}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()("Unable to load modules","Try again later","error")})},SubmitStudent:function(){var t=this;this.txtError="",this.isLoading=!0,this.student.lastname.length<2&&(this.txtError="Please enter a valid lastname"),this.student.firstname.length<2&&(this.txtError="Please enter a valid firstname"),this.student.password!=this.student.confirmPassword&&(this.txtError="Passwords do not match"),this.student.password.length<6&&(this.txtError="Please enter a valid password , passwords must be more than 6 charactors long"),this.student.username.length<2&&(this.txtError="Please enter a valid username"),this.student.gender.length<2&&(this.txtError="Please pick a valid gender"),this.student.dob.length<2&&(this.txtError="Please pick a valid date of birth"),this.student.idNumber<6&&(this.txtError="Please enter a valid id number"),this.student.modules.filter(function(t){return null!=t}).length<=0&&(this.txtError="Please select at least one module"),this.txtError.length>2?this.isLoading=!1:R.post(this.$store.state.settings.baseLink+"/a/add/student",{student:this.student}).then(function(e){t.isLoading=!1,t.done=!0,t.$emit("submitted",!0)}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?t.txtError=e.response.data:l()("Unable to submit the student",e.message,"error"),t.$emit("submitted",!1)})}}},j={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.done,expression:"done"}],staticClass:"col s12 center-align card-panel"},[s("md-empty-state",{attrs:{"md-icon":"done","md-label":"Student was successfully added.","md-description":"You can now assign the student to more modules / view the student's progress."}})],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.done,expression:"!done"}],staticClass:"col s12 center-align"},[s("div",{staticClass:"card row"},[t._m(0),t._v(" "),s("div",{staticClass:"card-content"},[s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col m4 offset-m1 s12 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.firstname,expression:"student.firstname"}],attrs:{id:"Firstname",name:"Firstname",type:"text"},domProps:{value:t.student.firstname},on:{input:function(e){e.target.composing||t.$set(t.student,"firstname",e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Firstname"}},[t._v("Firstname")])]),t._v(" "),s("div",{staticClass:"input-field col m4 offset-m1 s12 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.lastname,expression:"student.lastname"}],attrs:{id:"Lastname",name:"Lastname",type:"text"},domProps:{value:t.student.lastname},on:{input:function(e){e.target.composing||t.$set(t.student,"lastname",e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Lastname"}},[t._v("Lastname")])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.username,expression:"student.username"}],attrs:{id:"Username",name:"Username",type:"text"},domProps:{value:t.student.username},on:{input:function(e){e.target.composing||t.$set(t.student,"username",e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Username"}},[t._v("Username")])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col m4 offset-m1 s12 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.password,expression:"student.password"}],attrs:{id:"Password",name:"Password",type:"password"},domProps:{value:t.student.password},on:{input:function(e){e.target.composing||t.$set(t.student,"password",e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Password"}},[t._v("Password")])]),t._v(" "),s("div",{staticClass:"input-field col m4 offset-m1 s12 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.confirmPassword,expression:"student.confirmPassword"}],attrs:{id:"ConfirmPassword",name:"ConfirmPassword",type:"password"},domProps:{value:t.student.confirmPassword},on:{input:function(e){e.target.composing||t.$set(t.student,"confirmPassword",e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"ConfirmPassword"}},[t._v("Confirm Password")])])]),t._v(" "),t._l(t.student.modules.length,function(e,a){return s("div",{key:e,staticClass:"row"},[s("div",{staticClass:"col s10"},[s("md-field",[s("label",{attrs:{for:"modules-"+a}},[t._v("Module "+t._s(e))]),t._v(" "),s("md-select",{attrs:{name:"modules-"+a,id:"modules-"+a},model:{value:t.student.modules[a],callback:function(e){t.$set(t.student.modules,a,e)},expression:"student.modules[i]"}},t._l(t.modules,function(e){return s("md-option",{key:e._id,attrs:{disabled:t.student.modules.filter(function(t){return t==e._id}).length>0,value:e._id}},[t._v(t._s(e.name)+" ("+t._s(e.code)+")")])}))],1)],1),t._v(" "),s("div",{staticClass:"col s2 bottom-align"},[a==t.student.modules.length-1&&null!=t.student.modules[a]?s("a",{staticClass:"btn btn-floating waves-effect",on:{click:function(e){t.student.modules.push(null)}}},[s("i",{staticClass:"material-icons"},[t._v("add")])]):t._e(),t._v(" "),a!=t.student.modules.length-1?s("a",{staticClass:"btn btn-floating red waves-effect",on:{click:function(e){t.student.modules.splice(a,1)}}},[s("i",{staticClass:"material-icons"},[t._v("close")])]):t._e()])])}),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s12"},[s("md-field",[s("label",[t._v("ID Number")]),t._v(" "),s("md-input",{attrs:{maxlength:"13"},model:{value:t.student.idNumber,callback:function(e){t.$set(t.student,"idNumber",e)},expression:"student.idNumber"}})],1)],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.student.idNumber.length>6,expression:"student.idNumber.length > 6"}],staticClass:"row"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s12"},[s("label",[t._v("\n                                          "+t._s(t.student.isSouthAfrican?"South African Citizen":"Non-South African Citizen")+"\n                                    ")])])]),t._v(" "),s("div",{staticClass:"col s12"},[s("md-field",[s("label",{attrs:{for:"Gender"}},[t._v("Gender")]),t._v(" "),s("md-select",{attrs:{name:"Gender",id:"Gender"},model:{value:t.student.gender,callback:function(e){t.$set(t.student,"gender",e)},expression:"student.gender"}},[s("md-option",{attrs:{disabled:""}},[t._v("Pick a gender")]),t._v(" "),s("md-option",{attrs:{value:"Male"}},[t._v("Male")]),t._v(" "),s("md-option",{attrs:{value:"Female"}},[t._v("Female")])],1)],1)],1),t._v(" "),s("div",{staticClass:"col s12"},[s("md-datepicker",{attrs:{"md-immediately":""},model:{value:t.student.dob,callback:function(e){t.$set(t.student,"dob",e)},expression:"student.dob"}},[s("label",[t._v("Date of birth")])])],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.txtError.length>0,expression:"txtError.length > 0"}],staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 text-center"},[s("label",{staticClass:"text-center red-text"},[t._v(t._s(t.txtError))])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 text-center"},[t.isLoading?t._e():s("input",{staticClass:"btn center-align tg-btn",attrs:{type:"submit",value:"Submit student"},on:{click:function(e){t.SubmitStudent()}}}),t._v(" "),t.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e()],1)])],2)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header center-align z-depth-3 cardBar"},[e("h5",{staticStyle:{padding:"20px"}},[this._v("Adding a student")])])}]};var F=s("VU/8")(D,j,!1,function(t){s("i4da")},"data-v-590d5249",null).exports,q=s("mtWM"),z={name:"StidentList",data:function(){return{studentModule:{_id:null,username:"",modules:[null],oldModules:[]},txtSearch:"",txtError:"",student:{firstname:"",lastname:"",username:"",password:"",confirmPassword:"",modules:[null],idNumber:"",gender:"",dob:"",isSouthAfrican:!1},addingStudents:!1,students:[],modules:[],selectedStudent:null,showEditProfile:!1,isFullscreen:null,isLoading:!1}},watch:{"student.idNumber":function(t,e){if(t.length>=6&&(this.student.dob=new Date(t.substring(0,2),t.substring(2,4)-1,t.substring(4,6)),t.length>=10)){var s=t.substring(6,10);this.student.gender=parseInt(s)<5e3?"Female":"Male",13==t.length&&(this.student.isSouthAfrican=0==parseInt(t.substring(10,11)))}}},props:["studentIDs"],components:{AddStudent:F},computed:{filteredStudents:function(){var t=this;return this.students.filter(function(e){return t.txtSearch.length<1||I()(e).toLowerCase().indexOf(t.txtSearch.toLowerCase())>=0})}},mounted:function(){this.Reload()},methods:{Reload:function(){var t=this;this.isLoading=!0,null!=this.studentIDs?q.get(this.$store.state.settings.baseLink+"/s/students/of/ids/"+this.studentIDs).then(function(e){t.isLoading=!1,t.students=e.data,1==t.students.length&&(t.isFullscreen=t.students[0]._id)}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()("Unable to load students","Try again later","error")}):q.get(this.$store.state.settings.baseLink+"/s/students/all").then(function(e){t.isLoading=!1,t.students=e.data,t.students.map(function(t){t.show=!0})}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()("Unable to load students","Try again later","error")}),this.LoadModules()},AddedNewStudent:function(t){t&&this.Reload()},AddNewModule:function(t){var e=this;if(null==t)this.studentModule._id=null,this.studentModule.username="",this.studentModule.modules=[null],this.studentModule.oldModules=null;else if("submit"==t){this.isLoading=!0;var s=this.studentModule.modules.filter(function(t){return null!=t&&0==e.studentModule.oldModules.filter(function(e){return e._id==t}).length});0==s?l()("No change made","Student is already assigned to the selected modules","success"):q.post(this.$store.state.settings.baseLink+"/m/assign/to/student/"+this.studentModule._id,{modules:s}).then(function(t){e.isLoading=!1;var a=e.modules.filter(function(t){return s.filter(function(e){return e==t._id}).length>0}),n=e.students.find(function(t){return t._id==e.studentModule._id});a.forEach(function(t){n.modules.push(t)}),l()("Modules successfully assigned",s.length+" new modules are now assigned to "+e.studentModule.username,"success"),e.AddNewModule(null)}).catch(function(t){e.isLoading=!1,null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()("Unable to load students",t.message,"error")})}else this.studentModule._id=t._id,this.studentModule.username=t.username,this.studentModule.oldModules=t.modules},activeEditProfile:function(t){this.student=null!=t?t:{firstname:"",lastname:"",username:"",password:"",confirmPassword:"",modules:[null],idNumber:"",gender:"",dob:"",isSouthAfrican:!1,isLoading:!0},this.showEditProfile=!this.showEditProfile},DeleteStudent:function(t){var e=this;this.isLoading=!0,q.post(this.$store.state.settings.baseLink+"/s/delete/"+t).then(function(s){e.isLoading=!1;var a=e.students.find(function(e){return e._id==t}),n=e.students.indexOf(a);e.students.splice(n,1),l()("Student was removed from the system","To recover the student you can contact admin","success")}).catch(function(t){e.isLoading=!1,null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()("Unable to load students",t.message,"error")})},DeleteModule:function(t,e){var s=this;this.isLoading=!0,q.post(this.$store.state.settings.baseLink+"/m/unassign/module/"+e+"/from/student/"+t).then(function(a){s.isLoading=!1;var n=s.students.find(function(e){return e._id==t}),i=n.modules.indexOf(n.modules.find(function(t){return t._id==e}));i>=0&&s.students[s.students.indexOf(n)].modules.splice(i,1),l()("Module was unassigned successfully","You can reassign the link again","success")}).catch(function(t){s.isLoading=!1,null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()("Unable to load students",t.message,"error")})},DeepSearch:function(){alert("Deep searching for "+this.txtSearch)},goToSolution:function(t){this.$router.push({name:"TestMarks",params:{solutionId:t}})},GetPastTestsFor:function(t){var e=this;q.get(this.$store.state.settings.baseLink+"/s/all/past/tests/for/"+t._id).then(function(s){e.students.map(function(a){a._id==t._id&&(a.pastTests=[],s.data.forEach(function(t){a.pastTests.push({solutionId:t.solutionId,title:t.title,mark:t.mark,date:t.date})}),e.selectedStudent=a)})}).catch(function(t){null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()("Unable to load students",t.message,"error")})},LoadModules:function(){var t=this;q.get(this.$store.state.settings.baseLink+"/m/modules/all").then(function(e){t.modules=e.data,t.options=[],t.modules.map(function(e){t.options.push({value:e._id,text:e.name+" ( "+e.code+" )"})})}).catch(function(t){null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()("Unable to load modules","Try again later","error")})},UpdateStudent:function(){var t=this;this.isLoading=!0,this.txtError="",this.student.lastname.length<2&&(this.txtError="Please enter a valid lastname"),this.student.firstname.length<2&&(this.txtError="Please enter a valid firstname"),this.student.username.length<2&&(this.txtError="Please enter a valid username"),this.student.gender.length<2&&(this.txtError="Please pick a valid gender"),this.student.dob.length<2&&(this.txtError="Please pick a valid date of birth"),this.student.idNumber<6&&(this.txtError="Please enter a valid id number"),this.txtError.length>2?this.isLoading=!1:q.post(this.$store.state.settings.baseLink+"/a/update/student/"+this.student._id,{student:this.student}).then(function(e){t.isLoading=!1,t.students=e.data,t.student={firstname:"",lastname:"",username:"",password:"",confirmPassword:"",modules:[null],idNumber:"",gender:"",dob:"",isSouthAfrican:!1},t.activeEditProfile(null),l()("Profile successfully updated","success")}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?t.txtError=e.response.data:l()("Unable to submit the student",e.message,"error")})}}},Q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2"},[s("md-button",{staticClass:"right",on:{click:function(e){t.addingStudents?t.addingStudents=!1:t.$router.back()}}},[s("md-icon",[t._v("keyboard_backspace")]),t._v(" "),s("span",[t._v("Back")])],1)],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.addingStudents,expression:"!addingStudents"}],staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 center-align"},[s("a",{staticClass:"btn waves-effect",on:{click:function(e){t.addingStudents=!t.addingStudents}}},[t._v("Add new student")])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.addingStudents,expression:"addingStudents"}],staticClass:"row",staticStyle:{height:"80vh"}},[s("div",{staticClass:"col s12 m8 offset-m2 l6 offset-l3"},[s("add-student",{on:{submitted:t.AddedNewStudent}})],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.addingStudents,expression:"!addingStudents"}],staticClass:"row"},[s("md-dialog",{staticClass:"card",staticStyle:{position:"absolute"},attrs:{"md-active":null!=t.studentModule._id},on:{"update:mdActive":function(e){t.$set(t.studentModule,"_id != null",e)}}},[s("md-dialog-title",[t._v("Adding modules for "+t._s(t.studentModule.username))]),t._v(" "),s("md-dialog-content",t._l(t.studentModule.modules.length,function(e,a){return s("div",{key:a,staticClass:"row"},[s("div",{staticClass:"col s10"},[s("md-field",[s("label",{attrs:{for:"mmodules-"+a}},[t._v("Module "+t._s(e))]),t._v(" "),s("md-select",{attrs:{name:"mmodules-"+a,id:"mmodules-"+a},model:{value:t.studentModule.modules[a],callback:function(e){t.$set(t.studentModule.modules,a,e)},expression:"studentModule.modules[i]"}},t._l(t.modules,function(e){return s("md-option",{key:e._id,attrs:{disabled:t.studentModule.modules.filter(function(t){return t==e._id}).length>0,value:e._id}},[t._v(t._s(e.name)+" ("+t._s(e.code)+")")])}))],1)],1),t._v(" "),s("div",{staticClass:"col s2 bottom-align"},[s("a",{directives:[{name:"show",rawName:"v-show",value:a==t.studentModule.modules.length-1&&null!=t.studentModule.modules[a],expression:"i == (studentModule.modules.length - 1) && studentModule.modules[i] != null"}],staticClass:"btn btn-floating waves-effect",on:{click:function(e){t.studentModule.modules.push(null)}}},[s("i",{staticClass:"material-icons"},[t._v("add")])]),t._v(" "),s("a",{directives:[{name:"show",rawName:"v-show",value:a!=t.studentModule.modules.length-1,expression:"i != (studentModule.modules.length - 1)"}],staticClass:"btn btn-floating red waves-effect",on:{click:function(e){t.studentModule.modules.splice(a,1)}}},[s("i",{staticClass:"material-icons"},[t._v("close")])])])])})),t._v(" "),s("md-dialog-actions",[s("md-button",{staticClass:"md-primary",on:{click:function(e){t.AddNewModule(null)}}},[t._v("Close")]),t._v(" "),t.isLoading?t._e():s("md-button",{staticClass:"md-primary",on:{click:function(e){t.AddNewModule("submit")}}},[t._v("Save Changes")]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[t.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e()],1)])],1)],1),t._v(" "),s("md-dialog",{staticClass:"card",staticStyle:{position:"absolute"},attrs:{"md-active":t.showEditProfile},on:{"update:mdActive":function(e){t.showEditProfile=e}}},[s("md-dialog-actions",[s("md-button",{staticClass:"md-icon-button right",on:{click:function(e){t.activeEditProfile(null)}}},[s("md-icon",[t._v("close")])],1)],1),t._v(" "),s("div",{staticClass:"col m8 offset-m2 col s12 center-align",staticStyle:{"overflow-y":"scroll","overflow-x":"hidden"}},[s("div",{staticClass:"card-content row"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s12 center-align"},[s("h5",[t._v("Editting "+t._s(t.student.firstname)+" "+t._s(t.student.lastname)+"'s profile")])]),t._v(" "),s("div",{staticClass:"input-field col s10 offset-s1 m8 offset-m2 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.firstname,expression:"student.firstname"}],attrs:{id:"Firstname",name:"Firstname",type:"text"},domProps:{value:t.student.firstname},on:{input:function(e){e.target.composing||t.$set(t.student,"firstname",e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Firstname"}},[t._v("Firstname")])]),t._v(" "),s("div",{staticClass:"input-field col s10 offset-s1 m8 offset-m2 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.lastname,expression:"student.lastname"}],attrs:{id:"Lastname",name:"Lastname",type:"text"},domProps:{value:t.student.lastname},on:{input:function(e){e.target.composing||t.$set(t.student,"lastname",e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Lastname"}},[t._v("Lastname")])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s10 offset-s1 m8 offset-m2 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.username,expression:"student.username"}],attrs:{id:"Username",name:"Username",type:"text"},domProps:{value:t.student.username},on:{input:function(e){e.target.composing||t.$set(t.student,"username",e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Username"}},[t._v("Username")])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s10 offset-s1 m8 offset-m2"},[s("md-field",[s("label",[t._v("ID Number")]),t._v(" "),s("md-input",{attrs:{maxlength:"13"},model:{value:t.student.idNumber,callback:function(e){t.$set(t.student,"idNumber",e)},expression:"student.idNumber"}})],1)],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.student.idNumber.length>6,expression:"student.idNumber.length > 6"}],staticClass:"row"},[s("div",{staticClass:"col s10 offset-s1 m8 offset-m2"},[s("label",[t._v("\n                                                      "+t._s(t.student.isSouthAfrican?"South African Citizen":"Non-South African Citizen")+"\n                                                ")])]),t._v(" "),s("div",{staticClass:"col s10 offset-s1 m8 offset-m2"},[s("md-field",[s("label",{attrs:{for:"Gender"}},[t._v("Gender")]),t._v(" "),s("md-select",{attrs:{name:"Gender",id:"Gender"},model:{value:t.student.gender,callback:function(e){t.$set(t.student,"gender",e)},expression:"student.gender"}},[s("md-option",{attrs:{disabled:""}},[t._v("Pick a gender")]),t._v(" "),s("md-option",{attrs:{value:"Male"}},[t._v("Male")]),t._v(" "),s("md-option",{attrs:{value:"Female"}},[t._v("Female")])],1)],1)],1),t._v(" "),s("div",{staticClass:"col s10 offset-s1 m8 offset-m2"},[s("md-datepicker",{attrs:{"md-immediately":""},model:{value:t.student.dob,callback:function(e){t.$set(t.student,"dob",e)},expression:"student.dob"}},[s("label",[t._v("Date of birth")])])],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.txtError.length>0,expression:"txtError.length > 0"}],staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 text-center"},[s("label",{staticClass:"text-center red-text"},[t._v(t._s(t.txtError))])])])])]),t._v(" "),s("md-dialog-actions",[s("md-button",{staticClass:"red",on:{click:function(e){t.activeEditProfile(null)}}},[t._v("\n          Cancel\n        ")]),t._v(" "),t.isLoading?t._e():s("md-button",{staticClass:"right",on:{click:function(e){t.UpdateStudent()}}},[t._v("\n          Save changes\n        ")]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[t.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e()],1)])],1)],1),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s10 offset-s1 m8 offset-m3 l6 offset-l3 "},[s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.txtSearch,expression:"txtSearch"}],attrs:{id:"Password",name:"Search",type:"search"},domProps:{value:t.txtSearch},on:{keypress:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.DeepSearch(e):null},input:function(e){e.target.composing||(t.txtSearch=e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Search"}},[t._v("Search")])])]),t._v(" "),s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[t.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e()],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0==t.filteredStudents.length&&!t.isLoading,expression:"filteredStudents.length == 0 && !isLoading"}],staticClass:"col s12 center-align"},[s("p",{staticClass:"red-text"},[t._v("No results found")])]),t._v(" "),t._l(t.filteredStudents,function(e,a){return s("div",{directives:[{name:"show",rawName:"v-show",value:null==t.isFullscreen||t.isFullscreen==e._id,expression:"isFullscreen == null || isFullscreen == student._id"}],key:a,staticClass:"col",class:{"s10 offset-s1 m8 offset-m2 l6 offset-l3":t.isFullscreen==e._id,"m6 l4 xl3":null==t.isFullscreen,hidden:t.isFullscreen!=e._id}},[s("md-card",{staticClass:"hoverable"},[s("md-card-header",[s("md-card-header-text",[s("div",{staticClass:"md-title"},[t._v(t._s(e.lastname)+" "+t._s(e.firstname))]),t._v(" "),s("div",{staticClass:"md-subhead"},[t._v("Takes "+t._s(e.modules.length)+" "+t._s(1==e.modules.length?"module":"modules"))])]),t._v(" "),s("md-menu",{attrs:{"md-size":"big","md-direction":"bottom-end"}},[s("md-button",{staticClass:"md-icon-button waves-effect",on:{click:function(s){t.isFullscreen==e._id?t.isFullscreen=null:t.isFullscreen=e._id}}},[s("md-icon",[t._v(t._s(t.isFullscreen==e._id?"close":"fullscreen"))])],1)],1)],1),t._v(" "),s("md-card-content",[s("md-list",{staticClass:"md-double-line"},[s("md-subheader",[t._v("Details")]),t._v(" "),e.gender?s("md-list-item",{staticClass:"waves-effect"},[s("md-icon",{staticClass:"md-primary"},[t._v("account_circle")]),t._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[t._v(t._s(e.idNumber))]),t._v(" "),s("span",[t._v("ID Number")])])],1):t._e(),t._v(" "),e.gender?s("md-list-item",{staticClass:"waves-effect"},[s("md-icon",{staticClass:"md-primary"},[t._v("wc")]),t._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[t._v(t._s(e.gender))]),t._v(" "),s("span",[t._v("Gender")])])],1):t._e(),t._v(" "),null!=e.isSouthAfrican?s("md-list-item",{staticClass:"waves-effect"},[s("md-icon",{staticClass:"md-primary"},[t._v("flag")]),t._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[t._v(t._s(e.isSouthAfrican?"South African":"Non South African"))]),t._v(" "),s("span",[t._v("Nationality")])])],1):t._e()],1)],1),t._v(" "),s("md-card-expand",[s("md-card-actions",{attrs:{"md-alignment":"space-between"}},[s("div",[s("md-button",{on:{click:function(s){t.activeEditProfile(e)}}},[s("md-icon",[t._v("account_circle")]),t._v(" "+t._s(e.username)+"\n              ")],1)],1),t._v(" "),s("div"),t._v(" "),s("md-card-expand-trigger",[s("md-button",{staticClass:"md-icon-button",on:{click:function(s){t.GetPastTestsFor(e)}}},[s("md-icon",[t._v("keyboard_arrow_down")])],1)],1)],1),t._v(" "),s("md-card-expand-content",[s("md-card-content",[s("md-list",{staticClass:"md-double-line"},[s("md-subheader",[t._v("Modules")]),t._v(" "),t._l(e.modules,function(a){return s("md-list-item",{key:a._id,class:{"waves-effect":!a.removed}},[s("md-icon",{staticClass:"md-primary"},[t._v("book")]),t._v(" "),s("div",{staticClass:"md-list-item-text",on:{click:function(e){!a.removed&&t.goToModule(a._id)}}},[s("span",[t._v(t._s(a.name))]),t._v(" "),s("span",[t._v(t._s(a.removed?"Unassign "+a.code:a.code))])]),t._v(" "),s("md-button",{directives:[{name:"show",rawName:"v-show",value:!a.removed,expression:"!modul.removed"}],staticClass:"md-icon-button md-list-action",on:{click:function(t){a.removed=!0}}},[s("md-icon",[t._v("delete")])],1),t._v(" "),t.isLoading?t._e():s("md-button",{directives:[{name:"show",rawName:"v-show",value:a.removed,expression:"modul.removed"}],staticClass:"md-icon-button md-list-action",on:{click:function(s){t.DeleteModule(e._id,a._id)}}},[s("md-icon",[t._v("done")])],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:a.removed,expression:"modul.removed"}],staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[t.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e()],1)]),t._v(" "),s("md-button",{directives:[{name:"show",rawName:"v-show",value:a.removed,expression:"modul.removed"}],staticClass:"md-icon-button md-list-action",on:{click:function(t){a.removed=!1}}},[s("md-icon",[t._v("close")])],1)],1)}),t._v(" "),s("md-list-item",{staticClass:"waves-effect",on:{click:function(s){t.AddNewModule(e)}}},[s("md-icon",{staticClass:"md-primary"},[t._v("add")]),t._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[t._v("Add new Module")]),t._v(" "),s("span")])],1),t._v(" "),s("md-subheader",[t._v("Past tests")]),t._v(" "),t._l(e.pastTests,function(e,a){return s("md-list-item",{key:a,staticClass:"waves-effect",attrs:{href:"#"},on:{click:function(s){t.goToSolution(e.solutionId)}}},[s("md-icon",{staticClass:"md-primary"},[t._v("account_circle")]),t._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[t._v(t._s(e.mark))]),t._v(" "),s("span",[t._v(t._s(e.title))])])],1)}),t._v(" "),s("md-subheader",[t._v("Student settings")]),t._v(" "),s("md-list-item",{staticClass:"waves-effect",on:{click:function(t){e.removed=!e.removed}}},[s("md-icon",{staticClass:"md-primary"},[t._v("delete")]),t._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[t._v(t._s(e.removed?"Are you sure?":"Delete"))])]),t._v(" "),t.isLoading?t._e():s("md-button",{directives:[{name:"show",rawName:"v-show",value:e.removed,expression:"student.removed"}],staticClass:"md-icon-button md-list-action",on:{click:function(s){t.DeleteStudent(e._id)}}},[s("md-icon",[t._v("done")])],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.removed,expression:"student.removed"}],staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[t.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e()],1)]),t._v(" "),s("md-button",{directives:[{name:"show",rawName:"v-show",value:e.removed,expression:"student.removed"}],staticClass:"md-icon-button md-list-action"},[s("md-icon",[t._v("close")])],1)],1)],2)],1)],1)],1)],1)],1)})],2)])},staticRenderFns:[]};var B=s("VU/8")(z,Q,!1,function(t){s("84tw")},"data-v-141d4882",null).exports,O=s("mtWM"),V={name:"StidentList",data:function(){return{txtSearch:"",txtError:"",module:{name:"",code:"",description:""},addingModules:!1,modules:[],selectedStudent:null,isLoading:!1}},computed:{filteredModules:function(){var t=this;return this.modules.filter(function(e){return t.txtSearch.length<1||I()(e).toLowerCase().indexOf(t.txtSearch.toLowerCase())>=0})}},mounted:function(){var t=this;this.isLoading=!0,O.get(this.$store.state.settings.baseLink+"/m/modules/all/for/"+this.$store.state.user.id+"/"+this.$store.state.user.type).then(function(e){t.isLoading=!1,t.modules=e.data,t.modules.map(function(t){t.show=!0})}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()("Unable to load modules","Try again later","error")})},methods:{DeepSearch:function(){alert("Deep searching for "+this.txtSearch)},goToSolution:function(t){this.$router.push({name:"TestMarks",params:{solutionId:t}})},SubmitModule:function(){var t=this;this.isLoading=!0,this.txtError="",this.module.name.length<2&&(this.txtError="Please enter a valid module name"),this.module.code.length<2&&(this.txtError="Please enter a valid module code"),this.txtError.length>2?this.isLoading=!1:O.post(this.$store.state.settings.baseLink+"/m/add/new/module",{module:this.module}).then(function(e){t.isLoading=!1,t.modules=e.data,t.addingModules=!1}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?t.txtError=e.response.data:l()("Unable to submit the module",e.message,"error")})}}},G={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"screen"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2"},[s("md-button",{staticClass:"right",on:{click:function(e){t.$router.back()}}},[s("md-icon",[t._v("keyboard_backspace")]),t._v(" "),s("span",[t._v("Back")])],1)],1)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s10 offset-s1 m8 offset-m3 l6 offset-l3 "},[s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.txtSearch,expression:"txtSearch"}],attrs:{id:"Password",name:"Search",type:"search"},domProps:{value:t.txtSearch},on:{keypress:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.DeepSearch(e):null},input:function(e){e.target.composing||(t.txtSearch=e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Search"}},[t._v("Search")])])]),t._v(" "),s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[t.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e()],1)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 center-align"},[s("a",{staticClass:"btn waves-effect",class:{red:t.addingModules},on:{click:function(e){t.addingModules=!t.addingModules}}},[t._v(t._s(t.addingModules?"Cancel":"Add Module"))])])]),t._v(" "),t.addingModules?s("div",{staticClass:"row valign-wrapper",staticStyle:{height:"80vh"}},[s("div",{staticClass:"col m6 offset-m3 col s12 center-align"},[s("div",{staticClass:"card row"},[s("div",{staticClass:"card-content"},[s("div",{staticClass:"row"},[t._m(0),t._v(" "),s("div",{staticClass:"input-field col m4 offset-m1 s12 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.module.name,expression:"module.name"}],attrs:{id:"ModuleName",name:"ModuleName",type:"text"},domProps:{value:t.module.name},on:{input:function(e){e.target.composing||t.$set(t.module,"name",e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"ModuleName"}},[t._v("Module name")])]),t._v(" "),s("div",{staticClass:"input-field col m4 offset-m1 s12 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.module.code,expression:"module.code"}],attrs:{id:"ModuleCode",name:"ModuleCode",type:"text"},domProps:{value:t.module.code},on:{input:function(e){e.target.composing||t.$set(t.module,"code",e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"ModuleCode"}},[t._v("Module code")])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.module.description,expression:"module.description"}],attrs:{id:"ModuleDescription",name:"ModuleDescription",type:"text"},domProps:{value:t.module.description},on:{input:function(e){e.target.composing||t.$set(t.module,"description",e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"ModuleDescription"}},[t._v("Module description")])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.txtError.length>0,expression:"txtError.length > 0"}],staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 text-center"},[s("label",{staticClass:"text-center red-text"},[t._v(t._s(t.txtError))])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 center-align text-center"},[t.isLoading?t._e():s("input",{staticClass:"btn center-align tg-btn",attrs:{type:"submit",value:"Submit module"},on:{click:function(e){t.SubmitModule()}}}),t._v(" "),t.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e()],1)])])])])]):t._e(),t._v(" "),t.addingModules?t._e():s("div",{staticClass:"row"},[s("div",{staticClass:"col s12"},[s("table",{directives:[{name:"show",rawName:"v-show",value:t.modules&&t.modules.length>0,expression:"modules && modules.length > 0"}],staticClass:"highlight card"},[t._m(1),t._v(" "),s("tbody",{staticClass:"row"},t._l(t.filteredModules,function(e,a){return s("tr",{key:a,staticClass:"pointer col-xs-12",on:{click:function(s){t.goToModule(e._id)}}},[s("td",[t._v(t._s(e.name))]),t._v(" "),s("td",[t._v(t._s(e.code))]),t._v(" "),s("td",[t._v(t._s(e.description))]),t._v(" "),s("td",t._l(e.lecturers,function(e){return s("a",{key:e._id,staticClass:"pointer"},[s("p",[t._v(t._s(e.lastname)+" "+t._s(e.firstname))])])})),t._v(" "),s("td",[s("a",{staticClass:"pointer"},[t._v(t._s(e.students.length)+" students")])]),t._v(" "),s("td",[s("a",{staticClass:"pointer"},[t._v(t._s(e.questionaires.length)+" online tests")])])])}))])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col s12 center-align"},[e("h5",[this._v("Adding a module")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("Name")]),t._v(" "),s("th",[t._v("Code")]),t._v(" "),s("th",[t._v("Description")]),t._v(" "),s("th",[t._v("Lecturers")]),t._v(" "),s("th",[t._v("Total students")]),t._v(" "),s("th",[t._v("Total online tests")])])])}]};var H=s("VU/8")(V,G,!1,function(t){s("YdNu")},"data-v-62703538",null).exports,Y=s("bOdI"),W=s.n(Y),X=(s("4+hh"),s("mtWM")),Z={name:"LecturerList",data:function(){return{txtError:"",lecturer:{firstname:"",lastname:"",username:"",password:"",confirmPassword:"",modules:[null],idNumber:"",gender:"",dob:"",isSouthAfrican:!1},done:!1,modules:[],isLoading:!1}},watch:{"lecturer.idNumber":function(t,e){if(t.length>=6&&(this.lecturer.dob=new Date(t.substring(0,2),t.substring(2,4)-1,t.substring(4,6)),t.length>=10)){var s=t.substring(6,10);this.lecturer.gender=parseInt(s)<5e3?"Female":"Male",13==t.length&&(this.lecturer.isSouthAfrican=0==parseInt(t.substring(10,11)))}}},mounted:function(){this.done=!1,this.LoadModules()},methods:{LoadModules:function(){var t=this;this.isLoading=!0,X.get(this.$store.state.settings.baseLink+"/m/modules/all").then(function(e){t.isLoading=!1,t.modules=e.data}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()("Unable to load modules","Try again later","error")})},SubmitLecturer:function(){var t=this;this.txtError="",this.isLoading=!0,this.lecturer.lastname.length<2&&(this.txtError="Please enter a valid lastname"),this.lecturer.firstname.length<2&&(this.txtError="Please enter a valid firstname"),this.lecturer.password!=this.lecturer.confirmPassword&&(this.txtError="Passwords do not match"),this.lecturer.password.length<6&&(this.txtError="Please enter a valid password , passwords must be more than 6 charactors long"),this.lecturer.username.length<2&&(this.txtError="Please enter a valid username"),this.lecturer.gender.length<2&&(this.txtError="Please pick a valid gender"),this.lecturer.dob.length<2&&(this.txtError="Please pick a valid date of birth"),this.lecturer.idNumber<6&&(this.txtError="Please enter a valid id number"),this.lecturer.modules.filter(function(t){return null!=t}).length<=0&&(this.txtError="Please select at least one module"),this.txtError.length>2?this.isLoading=!1:X.post(this.$store.state.settings.baseLink+"/a/add/lecturer",{lecturer:this.lecturer}).then(function(e){t.isLoading=!1,t.done=!0,t.$emit("submitted",!0)}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?t.txtError=e.response.data:l()("Unable to submit the lecturer",e.message,"error"),t.$emit("submitted",!1)})}}},K={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.done,expression:"done"}],staticClass:"col s12 center-align card-panel"},[s("md-empty-state",{attrs:{"md-icon":"done","md-label":"Lecturer was successfully added.","md-description":"You can now assign the lecturer to more modules / view the lecturer's progress."}})],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.done,expression:"!done"}],staticClass:"col s12 center-align"},[s("div",{staticClass:"card row"},[t._m(0),t._v(" "),s("div",{staticClass:"card-content"},[s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col m4 offset-m1 s12 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.lecturer.firstname,expression:"lecturer.firstname"}],attrs:{id:"Firstname",name:"Firstname",type:"text"},domProps:{value:t.lecturer.firstname},on:{input:function(e){e.target.composing||t.$set(t.lecturer,"firstname",e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Firstname"}},[t._v("Firstname")])]),t._v(" "),s("div",{staticClass:"input-field col m4 offset-m1 s12 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.lecturer.lastname,expression:"lecturer.lastname"}],attrs:{id:"Lastname",name:"Lastname",type:"text"},domProps:{value:t.lecturer.lastname},on:{input:function(e){e.target.composing||t.$set(t.lecturer,"lastname",e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Lastname"}},[t._v("Lastname")])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.lecturer.username,expression:"lecturer.username"}],attrs:{id:"Username",name:"Username",type:"text"},domProps:{value:t.lecturer.username},on:{input:function(e){e.target.composing||t.$set(t.lecturer,"username",e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Username"}},[t._v("Username")])])]),t._v(" "),t._l(t.lecturer.modules.length,function(e,a){return s("div",{key:e,staticClass:"row"},[s("div",{staticClass:"col s10"},[s("md-field",[s("label",{attrs:{for:"modules-"+a}},[t._v("Module "+t._s(e))]),t._v(" "),s("md-select",{attrs:{name:"modules-"+a,id:"modules-"+a},model:{value:t.lecturer.modules[a],callback:function(e){t.$set(t.lecturer.modules,a,e)},expression:"lecturer.modules[i]"}},t._l(t.modules,function(e){return s("md-option",{key:e._id,attrs:{disabled:t.lecturer.modules.filter(function(t){return t==e._id}).length>0,value:e._id}},[t._v(t._s(e.name)+" ("+t._s(e.code)+")")])}))],1)],1),t._v(" "),s("div",{staticClass:"col s2 bottom-align"},[a==t.lecturer.modules.length-1&&null!=t.lecturer.modules[a]?s("a",{staticClass:"btn btn-floating waves-effect",on:{click:function(e){t.lecturer.modules.push(null)}}},[s("i",{staticClass:"material-icons"},[t._v("add")])]):t._e(),t._v(" "),a!=t.lecturer.modules.length-1?s("a",{staticClass:"btn btn-floating red waves-effect",on:{click:function(e){t.lecturer.modules.splice(a,1)}}},[s("i",{staticClass:"material-icons"},[t._v("close")])]):t._e()])])}),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s12"},[s("md-field",[s("label",[t._v("ID Number")]),t._v(" "),s("md-input",{attrs:{maxlength:"13"},model:{value:t.lecturer.idNumber,callback:function(e){t.$set(t.lecturer,"idNumber",e)},expression:"lecturer.idNumber"}})],1)],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.lecturer.idNumber.length>6,expression:"lecturer.idNumber.length > 6"}],staticClass:"row"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s12"},[s("label",[t._v("\n                                                  "+t._s(t.lecturer.isSouthAfrican?"South African Citizen":"Non-South African Citizen")+"\n                                            ")])])]),t._v(" "),s("div",{staticClass:"col s12"},[s("md-field",[s("label",{attrs:{for:"Gender"}},[t._v("Gender")]),t._v(" "),s("md-select",{attrs:{name:"Gender",id:"Gender"},model:{value:t.lecturer.gender,callback:function(e){t.$set(t.lecturer,"gender",e)},expression:"lecturer.gender"}},[s("md-option",{attrs:{disabled:""}},[t._v("Pick a gender")]),t._v(" "),s("md-option",{attrs:{value:"Male"}},[t._v("Male")]),t._v(" "),s("md-option",{attrs:{value:"Female"}},[t._v("Female")])],1)],1)],1),t._v(" "),s("div",{staticClass:"col s12"},[s("md-datepicker",{attrs:{"md-immediately":""},model:{value:t.lecturer.dob,callback:function(e){t.$set(t.lecturer,"dob",e)},expression:"lecturer.dob"}},[s("label",[t._v("Date of birth")])])],1)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col m4 offset-m1 s12 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.lecturer.password,expression:"lecturer.password"}],attrs:{id:"Password",name:"Password",type:"password"},domProps:{value:t.lecturer.password},on:{input:function(e){e.target.composing||t.$set(t.lecturer,"password",e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Password"}},[t._v("Password")])]),t._v(" "),s("div",{staticClass:"input-field col m4 offset-m1 s12 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.lecturer.confirmPassword,expression:"lecturer.confirmPassword"}],attrs:{id:"ConfirmPassword",name:"ConfirmPassword",type:"password"},domProps:{value:t.lecturer.confirmPassword},on:{input:function(e){e.target.composing||t.$set(t.lecturer,"confirmPassword",e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"ConfirmPassword"}},[t._v("Confirm Password")])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.txtError.length>0,expression:"txtError.length > 0"}],staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 text-center"},[s("label",{staticClass:"text-center red-text"},[t._v(t._s(t.txtError))])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 text-center"},[t.isLoading?t._e():s("input",{staticClass:"btn center-align tg-btn",attrs:{type:"submit",value:"Submit lecturer"},on:{click:function(e){t.SubmitLecturer()}}}),t._v(" "),t.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e()],1)])],2)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header center-align z-depth-3 cardBar"},[e("h5",{staticStyle:{padding:"20px"}},[this._v("Adding a lecturer")])])}]};var J=s("VU/8")(Z,K,!1,function(t){s("4mxi")},"data-v-a45291da",null).exports,tt=s("mtWM"),et={name:"LecturerList",data:function(){var t;return t={lecturerModule:{_id:null,username:"",modules:[null],oldModules:[]},txtSearch:"",options:[],searchText:"",items:[],lastSelectItem:{},txtError:"",lecturer:{firstname:"",lastname:"",username:"",password:"",confirmPassword:"",modules:[null],idNumber:"",gender:"",dob:"",isSouthAfrican:!1},addingLecturers:!1},W()(t,"txtSearch",""),W()(t,"lecturers",[]),W()(t,"modules",[]),W()(t,"showEditProfile",!1),W()(t,"isFullscreen",null),W()(t,"isLoading",!1),t},watch:{"lecturer.idNumber":function(t,e){if(t.length>=6&&(this.lecturer.dob=new Date(t.substring(0,2),t.substring(2,4)-1,t.substring(4,6)),t.length>=10)){var s=t.substring(6,10);this.lecturer.gender=parseInt(s)<5e3?"Female":"Male",13==t.length&&(this.lecturer.isSouthAfrican=0==parseInt(t.substring(10,11)))}}},props:["lecturerIDs"],components:{AddLecturer:J},computed:{filteredLecturers:function(){var t=this;return this.lecturers.filter(function(e){return t.txtSearch.length<1||I()(e).toLowerCase().indexOf(t.txtSearch.toLowerCase())>=0})}},mounted:function(){this.Reload()},methods:{Reload:function(){var t=this;this.isLoading=!0,null!=this.lecturerIDs?tt.get(this.$store.state.settings.baseLink+"/l/lecturers/of/ids/"+this.lecturerIDs).then(function(e){t.isLoading=!1,t.lecturers=e.data,1==t.lecturers.length&&(t.isFullscreen=t.lecturers[0]._id)}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()("Unable to load lecturers","Try again later","error")}):tt.get(this.$store.state.settings.baseLink+"/l/lecturers/all").then(function(e){t.isLoading=!1,t.lecturers=e.data}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()("Unable to load lecturers","Try again later","error")}),this.LoadModules()},AddedNewLecturer:function(t){t&&this.Reload()},AddNewModule:function(t){var e=this;if(null==t)this.lecturerModule._id=null,this.lecturerModule.username="",this.lecturerModule.modules=[null],this.lecturerModule.oldModules=null;else if("submit"==t){this.isLoading=!0;var s=this.lecturerModule.modules.filter(function(t){return null!=t&&0==e.lecturerModule.oldModules.filter(function(e){return e._id==t}).length});0==s?l()("No change made","Student is already assigned to the selected modules","success"):tt.post(this.$store.state.settings.baseLink+"/m/assign/to/lecturer/"+this.lecturerModule._id,{modules:s}).then(function(t){e.isLoading=!1;var a=e.modules.filter(function(t){return s.filter(function(e){return e==t._id}).length>0}),n=e.lecturers.find(function(t){return t._id==e.lecturerModule._id});a.forEach(function(t){n.modules.push(t)}),l()("Modules successfully assigned",s.length+" new modules are now assigned to "+e.lecturerModule.username,"success"),e.AddNewModule(null)}).catch(function(t){e.isLoading=!1,null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()("Unable to load lecturers",t.message,"error")})}else this.lecturerModule._id=t._id,this.lecturerModule.username=t.username,this.lecturerModule.oldModules=t.modules},activeEditProfile:function(t){this.lecturer=null!=t?t:{firstname:"",lastname:"",username:"",password:"",confirmPassword:"",modules:[null],idNumber:"",gender:"",dob:"",isSouthAfrican:!1},this.showEditProfile=!this.showEditProfile},onSelect:function(t,e){this.items=t,this.lastSelectItem=e},reset:function(){this.items=[]},selectOption:function(){},DeleteLecturer:function(t){var e=this;this.isLoading=!0,tt.post(this.$store.state.settings.baseLink+"/l/delete/"+t).then(function(s){e.isLoading=!1;var a=e.lecturers.find(function(e){return e._id==t}),n=e.lecturers.indexOf(a);e.lecturers.splice(n,1),l()("Lecturer was removed from the system","To recover the lecturer you can contact admin","success")}).catch(function(t){e.isLoading=!1,l()("An error has occurred",t.message,"error")})},DeleteModule:function(t,e){var s=this;tt.post(this.$store.state.settings.baseLink+"/m/unassign/module/"+e+"/from/lecturer/"+t).then(function(a){var n=s.lecturers.find(function(e){return e._id==t}),i=n.modules.indexOf(n.modules.find(function(t){return t._id==e}));i>=0&&s.lecturers[s.lecturers.indexOf(n)].modules.splice(i,1),l()("Module was unassigned successfully","You can reassign the link again","success")}).catch(function(t){null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()("Unable to load lecturers",t.message,"error")})},LoadModules:function(){var t=this;tt.get(this.$store.state.settings.baseLink+"/m/modules/all").then(function(e){t.modules=e.data,t.options=[],t.modules.map(function(e){t.options.push({value:e._id,text:e.name+" ( "+e.code+" )"})})}).catch(function(t){null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()("Unable to load modules","Try again later","error")})},UpdateLecturer:function(){var t=this;this.isLoading=!0,this.txtError="",this.lecturer.lastname.length<2&&(this.txtError="Please enter a valid lastname"),this.lecturer.firstname.length<2&&(this.txtError="Please enter a valid firstname"),this.lecturer.username.length<2&&(this.txtError="Please enter a valid username"),this.lecturer.gender.length<2&&(this.txtError="Please pick a valid gender"),this.lecturer.dob.length<2&&(this.txtError="Please pick a valid date of birth"),this.lecturer.idNumber<6&&(this.txtError="Please enter a valid id number"),this.txtError.length>2?this.isLoading=!1:tt.post(this.$store.state.settings.baseLink+"/a/update/lecturer/"+this.lecturer._id,{lecturer:this.lecturer}).then(function(e){t.isLoading=!1,t.lecturers=e.data,t.lecturer={firstname:"",lastname:"",username:"",password:"",confirmPassword:"",modules:[null],idNumber:"",gender:"",dob:"",isSouthAfrican:!1},t.activeEditProfile(null),l()("Profile successfully updated","success")}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?t.txtError=e.response.data:l()("Unable to submit the lecturer",e.message,"error")})}}},st={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2"},[s("md-button",{staticClass:"right",on:{click:function(e){t.addingLecturers?t.addingLecturers=!1:t.$router.back()}}},[s("md-icon",[t._v("keyboard_backspace")]),t._v(" "),s("span",[t._v("Back")])],1)],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.addingLecturers,expression:"!addingLecturers"}],staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 center-align"},[s("a",{staticClass:"btn waves-effect",on:{click:function(e){t.addingLecturers=!t.addingLecturers}}},[t._v("Add Lecturer")])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.addingLecturers,expression:"addingLecturers"}],staticClass:"row",staticStyle:{height:"80vh"}},[s("div",{staticClass:"col s12 m8 offset-m2 l6 offset-l3"},[s("add-lecturer",{on:{submitted:t.AddedNewLecturer}})],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.addingLecturers,expression:"!addingLecturers"}],staticClass:"row"},[s("md-dialog",{staticClass:"card",staticStyle:{position:"absolute"},attrs:{"md-active":null!=t.lecturerModule._id},on:{"update:mdActive":function(e){t.$set(t.lecturerModule,"_id != null",e)}}},[s("md-dialog-title",[t._v("Adding modules for "+t._s(t.lecturerModule.username))]),t._v(" "),s("md-dialog-content",t._l(t.lecturerModule.modules.length,function(e,a){return s("div",{key:a,staticClass:"row"},[s("div",{staticClass:"col s10"},[s("md-field",[s("label",{attrs:{for:"mmodules-"+a}},[t._v("Module "+t._s(e))]),t._v(" "),s("md-select",{attrs:{name:"mmodules-"+a,id:"mmodules-"+a},model:{value:t.lecturerModule.modules[a],callback:function(e){t.$set(t.lecturerModule.modules,a,e)},expression:"lecturerModule.modules[i]"}},t._l(t.modules,function(e){return s("md-option",{key:e._id,attrs:{disabled:t.lecturerModule.modules.filter(function(t){return t==e._id}).length>0,value:e._id}},[t._v(t._s(e.name)+" ("+t._s(e.code)+")")])}))],1)],1),t._v(" "),s("div",{staticClass:"col s2 bottom-align"},[s("a",{directives:[{name:"show",rawName:"v-show",value:a==t.lecturerModule.modules.length-1&&null!=t.lecturerModule.modules[a],expression:"i == (lecturerModule.modules.length - 1) && lecturerModule.modules[i] != null"}],staticClass:"btn btn-floating waves-effect",on:{click:function(e){t.lecturerModule.modules.push(null)}}},[s("i",{staticClass:"material-icons"},[t._v("add")])]),t._v(" "),s("a",{directives:[{name:"show",rawName:"v-show",value:a!=t.lecturerModule.modules.length-1,expression:"i != (lecturerModule.modules.length - 1)"}],staticClass:"btn btn-floating red waves-effect",on:{click:function(e){t.lecturerModule.modules.splice(a,1)}}},[s("i",{staticClass:"material-icons"},[t._v("close")])])])])})),t._v(" "),s("md-dialog-actions",[s("md-button",{staticClass:"md-primary",on:{click:function(e){t.AddNewModule(null)}}},[t._v("Close")]),t._v(" "),t.isLoading?t._e():s("md-button",{staticClass:"md-primary",on:{click:function(e){t.AddNewModule("submit")}}},[t._v("Save Changes")]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[t.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e()],1)])],1)],1),t._v(" "),s("md-dialog",{staticClass:"card",staticStyle:{position:"absolute"},attrs:{"md-active":t.showEditProfile},on:{"update:mdActive":function(e){t.showEditProfile=e}}},[s("md-dialog-actions",[s("md-button",{staticClass:"md-icon-button right",on:{click:function(e){t.activeEditProfile(null)}}},[s("md-icon",[t._v("close")])],1)],1),t._v(" "),s("div",{staticClass:"col m8 offset-m2 col s12 center-align",staticStyle:{"overflow-y":"scroll","overflow-x":"hidden"}},[s("div",{staticClass:"card-content row"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s12 center-align"},[s("h5",[t._v("Editting "+t._s(t.lecturer.firstname)+" "+t._s(t.lecturer.lastname)+"'s profile")])]),t._v(" "),s("div",{staticClass:"input-field col s10 offset-s1 m8 offset-m2 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.lecturer.firstname,expression:"lecturer.firstname"}],attrs:{id:"Firstname",name:"Firstname",type:"text"},domProps:{value:t.lecturer.firstname},on:{input:function(e){e.target.composing||t.$set(t.lecturer,"firstname",e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Firstname"}},[t._v("Firstname")])]),t._v(" "),s("div",{staticClass:"input-field col s10 offset-s1 m8 offset-m2 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.lecturer.lastname,expression:"lecturer.lastname"}],attrs:{id:"Lastname",name:"Lastname",type:"text"},domProps:{value:t.lecturer.lastname},on:{input:function(e){e.target.composing||t.$set(t.lecturer,"lastname",e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Lastname"}},[t._v("Lastname")])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s10 offset-s1 m8 offset-m2 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.lecturer.username,expression:"lecturer.username"}],attrs:{id:"Username",name:"Username",type:"text"},domProps:{value:t.lecturer.username},on:{input:function(e){e.target.composing||t.$set(t.lecturer,"username",e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Username"}},[t._v("Username")])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s10 offset-s1 m8 offset-m2"},[s("md-field",[s("label",[t._v("ID Number")]),t._v(" "),s("md-input",{attrs:{maxlength:"13"},model:{value:t.lecturer.idNumber,callback:function(e){t.$set(t.lecturer,"idNumber",e)},expression:"lecturer.idNumber"}})],1)],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.lecturer.idNumber.length>6,expression:"lecturer.idNumber.length > 6"}],staticClass:"row"},[s("div",{staticClass:"col s10 offset-s1 m8 offset-m2"},[s("label",[t._v("\n                                              "+t._s(t.lecturer.isSouthAfrican?"South African Citizen":"Non-South African Citizen")+"\n                                        ")])]),t._v(" "),s("div",{staticClass:"col s10 offset-s1 m8 offset-m2"},[s("md-field",[s("label",{attrs:{for:"Gender"}},[t._v("Gender")]),t._v(" "),s("md-select",{attrs:{name:"Gender",id:"Gender"},model:{value:t.lecturer.gender,callback:function(e){t.$set(t.lecturer,"gender",e)},expression:"lecturer.gender"}},[s("md-option",{attrs:{disabled:""}},[t._v("Pick a gender")]),t._v(" "),s("md-option",{attrs:{value:"Male"}},[t._v("Male")]),t._v(" "),s("md-option",{attrs:{value:"Female"}},[t._v("Female")])],1)],1)],1),t._v(" "),s("div",{staticClass:"col s10 offset-s1 m8 offset-m2"},[s("md-datepicker",{attrs:{"md-immediately":""},model:{value:t.lecturer.dob,callback:function(e){t.$set(t.lecturer,"dob",e)},expression:"lecturer.dob"}},[s("label",[t._v("Date of birth")])])],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.txtError.length>0,expression:"txtError.length > 0"}],staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 text-center"},[s("label",{staticClass:"text-center red-text"},[t._v(t._s(t.txtError))])])])])]),t._v(" "),s("md-dialog-actions",[s("md-button",{staticClass:"red",on:{click:function(e){t.activeEditProfile(null)}}},[t._v("\n          Cancel\n        ")]),t._v(" "),t.isLoading?t._e():s("md-button",{staticClass:"right",on:{click:function(e){t.UpdateLecturer()}}},[t._v("\n          Save changes\n        ")]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[t.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e()],1)])],1)],1),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 input-field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.txtSearch,expression:"txtSearch"}],attrs:{id:"Password",name:"Search",type:"search"},domProps:{value:t.txtSearch},on:{keypress:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.DeepSearch(e):null},input:function(e){e.target.composing||(t.txtSearch=e.target.value)}}}),t._v(" "),s("label",{staticClass:"center-align",attrs:{for:"Search"}},[t._v("Search....")])]),t._v(" "),s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[t.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e()],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0==t.filteredLecturers.length&&!t.isLoading,expression:"filteredLecturers.length == 0 && !isLoading"}],staticClass:"col s12 center-align"},[s("p",{staticClass:"red-text"},[t._v("No results found")])]),t._v(" "),t._l(t.filteredLecturers,function(e,a){return s("div",{directives:[{name:"show",rawName:"v-show",value:null==t.isFullscreen||t.isFullscreen==e._id,expression:"isFullscreen == null || isFullscreen == lecturer._id"}],key:a+e._id,staticClass:"col",class:{"s10 offset-s1 m8 offset-m2 l6 offset-l3":t.isFullscreen==e._id,"m6 l4 xl3":null==t.isFullscreen,hidden:t.isFullscreen!=e._id}},[s("div",{staticClass:"col s12"},[s("md-card",{staticClass:"hoverable"},[s("md-card-header",[s("md-card-header-text",[s("div",{staticClass:"md-title"},[t._v(t._s(e.lastname)+" "+t._s(e.firstname))]),t._v(" "),s("div",{staticClass:"md-subhead"},[t._v("Lecturers "+t._s(e.modules.length)+" "+t._s(1==e.modules.length?"module":"modules"))])]),t._v(" "),s("md-menu",{attrs:{"md-size":"big","md-direction":"bottom-end"}},[s("md-button",{staticClass:"md-icon-button waves-effect",on:{click:function(s){t.isFullscreen==e._id?t.isFullscreen=null:t.isFullscreen=e._id}}},[s("md-icon",[t._v(t._s(t.isFullscreen==e._id?"close":"fullscreen"))])],1)],1)],1),t._v(" "),s("md-card-content",[s("md-list",{staticClass:"md-double-line"},[e.idNumber?s("md-list-item",{staticClass:"waves-effect"},[s("md-icon",{staticClass:"md-primary"},[t._v("account_circle")]),t._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[t._v(t._s(e.idNumber))]),t._v(" "),s("span",[t._v("ID number")])])],1):t._e(),t._v(" "),e.dob?s("md-list-item",{staticClass:"waves-effect"},[s("md-icon",{staticClass:"md-primary"},[t._v("cake")]),t._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[t._v(t._s(t.getMoment(e.dob).format("YYYY-MM-DD")))]),t._v(" "),s("span",[t._v("Date of birth")])])],1):t._e(),t._v(" "),e.gender?s("md-list-item",{staticClass:"waves-effect"},[s("md-icon",{staticClass:"md-primary"},[t._v("wc")]),t._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[t._v(t._s(e.gender))]),t._v(" "),s("span",[t._v("Gender")])])],1):t._e(),t._v(" "),null!=e.isSouthAfrican?s("md-list-item",{staticClass:"waves-effect"},[s("md-icon",{staticClass:"md-primary"},[t._v("flag")]),t._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[t._v(t._s(e.isSouthAfrican?"South African":"Non South African"))]),t._v(" "),s("span",[t._v("Nationality")])])],1):t._e()],1)],1),t._v(" "),s("md-card-expand",[s("md-card-actions",{attrs:{"md-alignment":"space-between"}},[s("div",[s("md-button",{on:{click:function(s){t.activeEditProfile(e)}}},[s("md-icon",[t._v("account_circle")]),t._v(" "+t._s(e.username))],1)],1),t._v(" "),s("div"),t._v(" "),s("md-card-expand-trigger",[s("md-button",{staticClass:"md-icon-button"},[s("md-icon",[t._v("keyboard_arrow_down")])],1)],1)],1),t._v(" "),s("md-card-expand-content",[s("md-card-content",[s("md-subheader",[t._v("Modules")]),t._v(" "),s("md-list",[t._l(e.modules,function(a){return s("md-list-item",{key:a._id,class:{"waves-effect":!a.removed}},[s("md-icon",{staticClass:"md-primary"},[t._v("book")]),t._v(" "),s("div",{staticClass:"md-list-item-text",on:{click:function(e){!a.removed&&t.goToModule(a._id)}}},[s("span",[t._v(t._s(a.name))]),t._v(" "),s("span",[t._v(t._s(a.removed?"Unassign "+a.code:a.code))])]),t._v(" "),s("md-button",{directives:[{name:"show",rawName:"v-show",value:!a.removed,expression:"!modul.removed"}],staticClass:"md-icon-button md-list-action",staticStyle:{"z-index":"10"},on:{click:function(t){a.removed=!0}}},[s("md-icon",[t._v("delete")])],1),t._v(" "),s("md-button",{directives:[{name:"show",rawName:"v-show",value:a.removed,expression:"modul.removed"}],staticClass:"md-icon-button md-list-action",staticStyle:{"z-index":"10"},on:{click:function(s){t.DeleteModule(e._id,a._id)}}},[s("md-icon",[t._v("done")])],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:a.removed,expression:"modul.removed"}],staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[t.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e()],1)]),t._v(" "),s("md-button",{directives:[{name:"show",rawName:"v-show",value:a.removed,expression:"modul.removed"}],staticClass:"md-icon-button md-list-action",staticStyle:{"z-index":"10"},on:{click:function(t){a.removed=!1}}},[s("md-icon",[t._v("close")])],1)],1)}),t._v(" "),s("md-list-item",{staticClass:"waves-effect",on:{click:function(s){t.AddNewModule(e)}}},[s("md-icon",{staticClass:"md-primary"},[t._v("add")]),t._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[t._v("Add new Module")]),t._v(" "),s("span")])],1),t._v(" "),s("md-divider"),t._v(" "),s("md-subheader",[t._v("Lecturer settings")]),t._v(" "),s("md-list-item",{staticClass:"waves-effect",on:{click:function(t){e.removed=!e.removed}}},[s("md-icon",{staticClass:"md-primary"},[t._v("delete")]),t._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[t._v(t._s(e.removed?"Are you sure?":"Delete lecturer"))])]),t._v(" "),s("md-button",{directives:[{name:"show",rawName:"v-show",value:e.removed,expression:"lecturer.removed"}],staticClass:"md-icon-button md-list-action",on:{click:function(s){t.DeleteLecturer(e._id)}}},[s("md-icon",[t._v("done")])],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.removed,expression:"lecturer.removed"}],staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[t.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e()],1)]),t._v(" "),s("md-button",{directives:[{name:"show",rawName:"v-show",value:e.removed,expression:"lecturer.removed"}],staticClass:"md-icon-button md-list-action"},[s("md-icon",[t._v("close")])],1)],1)],2)],1)],1)],1)],1)],1),t._v(" "),t._e()])})],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("main",[e("section",[e("div",{staticClass:"content"},[e("img",{attrs:{src:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/256492/_mLIxaKY_400x400.jpg",alt:"Profile Image"}}),this._v(" "),e("aside",[e("h1",{staticClass:"white-text valign-wrapper"})])])])])}]};var at=s("VU/8")(et,st,!1,function(t){s("m2JN")},"data-v-013a3a52",null).exports,nt=s("c/Tr"),it=s.n(nt),rt=s("//Fk"),ot=s.n(rt),lt=s("lmbn"),dt=s("mtWM"),ct={name:"ModuleView",data:function(){return{module:{students:[],lecturers:[]},announcement:{title:"",message:"",isToAll:!1},announcements:[],txtStudentSearch:"",txtLecturerSearch:"",txtError:"",addStudent:!1,addNotes:!1,notes:{title:"",description:"",file:null},notesFile:null,isLoading:!1,isUploading:!1,isAddingAnnouncements:!1}},components:{AddStudent:F},computed:{filteredLecturers:function(){var t=this;return this.module.lecturers.filter(function(e){return t.txtLecturerSearch.length<1||I()(e).toLowerCase().indexOf(t.txtLecturerSearch.toLowerCase())>=0})},filteredStudents:function(){var t=this;return this.module.students.filter(function(e){return t.txtStudentSearch.length<1||I()(e).toLowerCase().indexOf(t.txtStudentSearch.toLowerCase())>=0})},filteredTests:function(){return this.module.questionaires}},mounted:function(){null==this.moduleID?this.$router.back():this.Reload()},props:["moduleID"],methods:{ChangeTab:function(t){var e=this;"tab-announcement"==t&&dt.post(this.$store.state.settings.baseLink+"/n/announcements/get/for/"+this.$store.state.user.id,{userType:this.$store.state.user.type,moduleID:this.moduleID}).then(function(t){e.isLoading=!1,e.announcements=t.data,console.log(t)}).catch(function(t){e.isLoading=!1,null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()(t.message,"Try again later","error")})},DownloadNotes:function(t){var e=this;this.isLoading=!0,dt.get(this.$store.state.settings.baseLink+"/m/get/lecturer/notes/"+t._id).then(function(t){e.isLoading=!1;var s=t.data.file.base64StringFile,a=t.data.file.fileName,n=t.data.type;lt.download(s,a,n)}).catch(function(t){e.isLoading=!1,null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()(t.message,"Try again later","error")})},getFile:function(t){var e=new FileReader;return new ot.a(function(s,a){e.onerror=function(){e.abort(),a(new Error("Error parsing file"))},e.onload=function(){var e=it()(new Uint8Array(this.result)),a=btoa(e.map(function(t){return String.fromCharCode(t)}).join(""));s({bytes:new Array,base64StringFile:"data:"+t.type+";base64,"+a,fileName:t.name,fileType:t.type})},e.readAsArrayBuffer(t)})},handleNotesFileUpload:function(){var t=this;this.notes.file.target.files.length>0?(this.isUploading=!0,this.getFile(this.notes.file.target.files[0]).then(function(e){t.isUploading=!1,t.notesFile=e,console.log(e)}).catch(function(e){l()("Unable to upload selected file",e.message,"error"),t.isUploading=!1,t.notesFile=null})):(l()("No file selected","Please select a file","error"),this.notesFile=null)},UploadNotes:function(){var t=this;this.isUploading=!0,this.txtError="",this.notes.title.length<2&&(this.txtError="Please provide a valid title"),this.notes.description.length<2&&(this.txtError="Please provide a valid description"),null==this.notesFile&&(this.txtError="Please select a valid file"),this.txtError.length>2?this.isUploading=!1:dt.post(this.$store.state.settings.baseLink+"/m/add/notes/title/"+this.notes.title+"/description/"+this.notes.description,{file:this.notesFile,moduleId:this.moduleID,lecturerId:"ADMIN"==this.$store.state.user.type?"ADMIN":this.$store.state.user.id}).then(function(e){t.isUploading=!1,t.addNotes=!1,l()("Notes successfully uploaded.")}).catch(function(e){t.isUploading=!1,null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()(e.message,"Try again later","error")})},AddedNewStudent:function(t){t&&this.Reload()},Reload:function(){var t=this;this.isLoading=!0,dt.get(this.$store.state.settings.baseLink+"/m/get/module/"+this.moduleID).then(function(e){t.isLoading=!1,t.module=e.data}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()("Unable to load the module","Try again later","error")})},DeepSearch:function(){alert("Deep searching for "+this.txtSearch)},getSolutionFor:function(t){var e=this;this.isLoading=!0,dt.get(this.$store.state.settings.baseLink+"/m/get/solution/id/for/"+t._id+"/by/"+this.$store.state.user.type+"/of/id/"+this.$store.state.user.id).then(function(s){e.isLoading=!1,null==s.data.id?e.goToTakeTest(t):e.goToSolution(s.data.id)}).catch(function(t){e.isLoading=!1,null!=t.response&&512==t.response.status?l()(t.response.data,"Try again later","error"):l()("Unable to load the questionaire","Try again later","error")})},SendAnnouncement:function(){var t=this;this.isUploading=!0,dt.post(this.$store.state.settings.baseLink+"/n/announcements/add/for/"+this.moduleID+"/by/"+this.$store.state.user.type+"/of/id/"+this.$store.state.user.id,{announcement:this.announcement}).then(function(e){t.isUploading=!1,l()("Success","Announcement successfully sent.","success")}).catch(function(e){t.isUploading=!1,null!=e.response&&512==e.response.status?l()(e.response.data,"Try again later","error"):l()("Unable to load the questionaire","Try again later","error")})}}},ut={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"screen"},[s("md-dialog",{staticClass:"card",staticStyle:{position:"absolute",top:"25%"},attrs:{"md-active":t.addNotes},on:{"update:mdActive":function(e){t.addNotes=e}}},[s("md-card",{staticClass:"col s12 m8 offset-m2"},[s("md-card-header",[s("div",{staticClass:"md-title"},[t._v("Adding notes")])]),t._v(" "),s("md-card-content",[s("md-field",[s("label",[t._v("Title")]),t._v(" "),s("md-input",{attrs:{required:""},model:{value:t.notes.title,callback:function(e){t.$set(t.notes,"title",e)},expression:"notes.title"}})],1),t._v(" "),s("md-field",[s("label",[t._v("Description")]),t._v(" "),s("md-textarea",{attrs:{required:""},model:{value:t.notes.description,callback:function(e){t.$set(t.notes,"description",e)},expression:"notes.description"}})],1),t._v(" "),s("md-field",[s("label",[t._v("Notes file")]),t._v(" "),s("md-file",{ref:"notesFile",attrs:{type:"notesFile",id:"notesFile",placeholder:"Select the file you want to upload"},on:{change:function(e){t.handleNotesFileUpload()}},model:{value:t.notes.file,callback:function(e){t.$set(t.notes,"file",e)},expression:"notes.file"}})],1),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:t.txtError.length>2,expression:"txtError.length > 2"}],staticClass:"center-align red-text"},[t._v(t._s(t.txtError))])],1)],1),t._v(" "),s("md-dialog-actions",[t.isUploading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e(),t._v(" "),t.isUploading?t._e():s("md-button",{staticClass:"md-primary",on:{click:function(e){t.UploadNotes()}}},[t._v("Upload notes")]),t._v(" "),s("md-button",{staticClass:"md-primary",on:{click:function(e){t.addNotes=!1}}},[t._v("Close")])],1)],1),t._v(" "),s("md-dialog",{staticClass:"card",staticStyle:{position:"absolute"},attrs:{"md-active":t.addStudent},on:{"update:mdActive":function(e){t.addStudent=e}}},[s("md-content",{staticClass:"row",staticStyle:{"overflow-y":"scroll"}},[s("add-student",{on:{submitted:t.AddedNewStudent}})],1),t._v(" "),s("md-dialog-actions",[s("md-button",{staticClass:"md-primary",on:{click:function(e){t.addStudent=!1}}},[t._v("Close")])],1)],1),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2"},[s("md-button",{staticClass:"right",on:{click:function(e){t.$router.back()}}},[s("md-icon",[t._v("keyboard_backspace")]),t._v(" "),s("span",[t._v("Back")])],1)],1)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s12"},[s("md-card",[s("md-card-header",[s("div",{staticClass:"md-title"},[t._v(t._s(t.module.name))]),t._v(" "),s("div",{staticClass:"md-subhead"},[t._v(t._s(t.module.code))]),t._v(" "),s("div",{staticClass:"md-subhead center-align"},[t._v(t._s(t.module.description))])])],1)],1),t._v(" "),s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[t.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e()],1),t._v(" "),s("div",{staticClass:"col s12"},[s("md-tabs",{on:{"md-changed":t.ChangeTab}},[s("md-tab",{attrs:{id:"tab-home","md-label":"Home"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s12 m6 xl3"},[s("md-card",[s("md-card-header",[s("md-card-header-text",[s("div",{staticClass:"md-subheader"},[t._v("Notes")])]),t._v(" "),s("md-menu",{attrs:{"md-size":"big","md-direction":"bottom-end"}},[s("md-button",{staticClass:"md-icon-button",attrs:{"md-menu-trigger":""}},[s("md-icon",[t._v("more_vert")])],1),t._v(" "),s("md-menu-content",{staticClass:"card"},[s("md-menu-item",{staticClass:"waves-effect",on:{click:function(e){t.addNotes=!0}}},[s("span",[t._v("Add new")]),t._v(" "),s("md-icon",[t._v("add")])],1)],1)],1)],1),t._v(" "),s("md-card-content",[s("md-list",{staticClass:"md-double-line"},t._l(t.module.notes,function(e,a){return s("md-list-item",{key:a,staticClass:"waves-effect",on:{click:function(s){t.DownloadNotes(e)}}},[s("md-icon",{staticClass:"md-primary"},[t._v("library_books")]),t._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[t._v(t._s(e.title))]),t._v(" "),s("span",[t._v(t._s(t.getMoment(e.date).format("YYYY-MM-DD hh:mm")))])])],1)}))],1)],1)],1),t._v(" "),s("div",{staticClass:"col s12 m6 xl3"},[s("md-card",[s("md-card-header",[s("md-card-header-text",[s("div",{staticClass:"md-subheader"},[t._v("Tests")])]),t._v(" "),s("md-menu",{attrs:{"md-size":"big","md-direction":"bottom-end"}},[s("md-button",{staticClass:"md-icon-button",attrs:{"md-menu-trigger":""}},[s("md-icon",[t._v("more_vert")])],1),t._v(" "),s("md-menu-content",{staticClass:"card"},[s("md-menu-item",{staticClass:"waves-effect",on:{click:function(e){t.setATestForModule(t.module._id)}}},[s("span",[t._v("Set a test")]),t._v(" "),s("md-icon",[t._v("add")])],1)],1)],1)],1),t._v(" "),s("md-card-content",[s("md-list",{staticClass:"md-double-line"},t._l(t.filteredTests,function(e){return s("md-list-item",{key:e._id,staticClass:"waves-effect",on:{click:function(s){t.getSolutionFor(e)}}},[s("md-icon",{staticClass:"md-primary"},[t._v("library_books")]),t._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[t._v(t._s(e.title))]),t._v(" "),s("span",[t._v(t._s(e.questions.length)+" "+t._s(1==e.questions.length?"question":"questions"))])]),t._v(" "),s("md-caption",{staticClass:"right"},[t._v(t._s(t.getMoment(e.date).fromNow()))])],1)}))],1)],1)],1),t._v(" "),s("div",{staticClass:"col s12 m6 xl3"},[s("md-card",[s("md-card-header",[s("md-card-header-text",[s("div",{staticClass:"md-subheader"},[t._v(t._s(t.module.students.length)+" "+t._s(1==t.module.students.length?"student":"students"))])]),t._v(" "),s("md-menu",{attrs:{"md-size":"big","md-direction":"bottom-end"}},[s("md-button",{staticClass:"md-icon-button",attrs:{"md-menu-trigger":""}},[s("md-icon",[t._v("more_vert")])],1),t._v(" "),s("md-menu-content",{staticClass:"card"},[s("md-menu-item",{staticClass:"waves-effect",on:{click:function(e){t.Reload()}}},[s("span",[t._v("Reload")]),t._v(" "),s("md-icon",[t._v("reload")])],1),t._v(" "),s("md-menu-item",{staticClass:"waves-effect",on:{click:function(e){t.addStudent=!0}}},[s("span",[t._v("Add new")]),t._v(" "),s("md-icon",[t._v("add")])],1)],1)],1)],1),t._v(" "),s("md-card-content",[s("md-list",{staticClass:"md-double-line"},[s("md-list-item",[s("md-icon",{staticClass:"md-primary"},[t._v("search")]),t._v(" "),s("div",{staticClass:"md-list-item-text input-field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.txtStudentSearch,expression:"txtStudentSearch"}],attrs:{id:"StudentPassword",name:"StudentPassword",type:"search"},domProps:{value:t.txtStudentSearch},on:{input:function(e){e.target.composing||(t.txtStudentSearch=e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"StudentPassword"}},[t._v("Search")])])],1),t._v(" "),t._l(t.filteredStudents,function(e){return s("md-list-item",{key:e._id,staticClass:"waves-effect",on:{click:function(s){t.goToStudent(e._id)}}},[s("md-icon",{staticClass:"md-primary"},[t._v("account_circle")]),t._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[t._v(t._s(e.lastname)+" "+t._s(e.firstname))]),t._v(" "),s("span",[t._v(t._s(e.username))])])],1)})],2)],1)],1)],1),t._v(" "),s("div",{staticClass:"col s12 m6 xl3"},[s("md-card",[s("md-card-header",[s("md-card-header-text",[s("div",{staticClass:"md-subheader"},[t._v(t._s(t.module.lecturers.length)+" "+t._s(1==t.module.lecturers.length?"lecturer":"lecturers"))])]),t._v(" "),s("md-menu",{attrs:{"md-size":"big","md-direction":"bottom-end"}},[s("md-button",{staticClass:"md-icon-button",attrs:{"md-menu-trigger":""}},[s("md-icon",[t._v("more_vert")])],1),t._v(" "),s("md-menu-content",{staticClass:"card"},[s("md-menu-item",{staticClass:"waves-effect"},[s("span",[t._v("Add new")]),t._v(" "),s("md-icon",[t._v("add")])],1)],1)],1)],1),t._v(" "),s("md-card-content",[s("md-list",{staticClass:"md-double-line"},[s("md-list-item",[s("md-icon",{staticClass:"md-primary"},[t._v("search")]),t._v(" "),s("div",{staticClass:"md-list-item-text input-field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.txtLecturerSearch,expression:"txtLecturerSearch"}],attrs:{id:"LecturerPassword",name:"LecturerPassword",type:"search"},domProps:{value:t.txtLecturerSearch},on:{input:function(e){e.target.composing||(t.txtLecturerSearch=e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"LecturerPassword"}},[t._v("Search")])])],1),t._v(" "),t._l(t.filteredLecturers,function(e){return s("md-list-item",{key:e._id,staticClass:"waves-effect",on:{click:function(s){t.goToLecturer(e._id)}}},[s("md-icon",{staticClass:"md-primary"},[t._v("account_circle")]),t._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[t._v(t._s(e.lastname)+" "+t._s(e.firstname))]),t._v(" "),s("span",[t._v(t._s(e.username))])])],1)})],2)],1)],1)],1)])]),t._v(" "),s("md-tab",{attrs:{id:"tab-announcement","md-label":"Announcements"}},[0==t.announcements.length?s("md-empty-state",{attrs:{"md-icon":"announcement","md-label":"No announcements","md-description":"All the announcements about "+t.module.name+" ("+t.module.code+") will be posted here."}},[s("md-button",{staticClass:"md-primary md-raised"},[t._v("Add an announcement")])],1):t._e(),t._v(" "),"STUDENT"==t.$store.state.user.type||t.isAddingAnnouncements?t._e():s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 card card-panel offset-s2 m6 offset-m3 text-center center-align hoverable pointer waves-effect",on:{click:function(e){t.isAddingAnnouncements=!0}}},[s("h5",{staticClass:"center-align center text-center"},[t._v("Send an announcement")])])]),t._v(" "),"STUDENT"!=t.$store.state.user.type&&t.isAddingAnnouncements?s("md-card",[s("md-header",[s("md-button",{staticClass:"md-icon-button right",on:{click:function(e){t.isAddingAnnouncements=!1}}},[s("md-icon",[t._v("close")])],1)],1),t._v(" "),s("md-content",[s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 center-align text-center"},[s("label",{staticClass:"center-align text-center"},[t._v("Sending an announcement")])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.announcement.title,expression:"announcement.title"}],attrs:{id:"ModuleDescription",name:"ModuleDescription",type:"text"},domProps:{value:t.announcement.title},on:{input:function(e){e.target.composing||t.$set(t.announcement,"title",e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"ModuleDescription"}},[t._v("Title")])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.announcement.message,expression:"announcement.message"}],attrs:{id:"ModuleDescription",name:"ModuleDescription",type:"text"},domProps:{value:t.announcement.message},on:{input:function(e){e.target.composing||t.$set(t.announcement,"message",e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"ModuleDescription"}},[t._v("Message")])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 text-center"},[s("label",[t._v("Send to : ")])]),t._v(" "),s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 text-center"},[s("form",{attrs:{action:"#"}},[s("p",[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.announcement.isToAll,expression:"announcement.isToAll"}],staticClass:"with-gap",attrs:{name:"group1",type:"radio",checked:""},domProps:{value:!1,checked:t._q(t.announcement.isToAll,!1)},on:{change:function(e){t.$set(t.announcement,"isToAll",!1)}}}),t._v(" "),s("span",[t._v(t._s(t.module.name)+" ("+t._s(t.module.code)+") students")])])]),t._v(" "),s("p",[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.announcement.isToAll,expression:"announcement.isToAll"}],staticClass:"with-gap",attrs:{name:"group1",type:"radio"},domProps:{value:!0,checked:t._q(t.announcement.isToAll,!0)},on:{change:function(e){t.$set(t.announcement,"isToAll",!0)}}}),t._v(" "),s("span",[t._v("All Students")])])])])])])]),t._v(" "),s("md-card-actions",[t.isUploading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e(),t._v(" "),t.isUploading?t._e():s("md-button",{staticClass:"md-primary",on:{click:function(e){t.SendAnnouncement()}}},[t._v("Send announcement")])],1)],1):t._e(),t._v(" "),t._l(t.announcements,function(e,a){return s("md-card",{directives:[{name:"show",rawName:"v-show",value:!t.isAddingAnnouncements,expression:"!isAddingAnnouncements"}],key:a,staticClass:"hoverable"},[s("md-list",{staticClass:"md-triple-line"},[s("md-list-item",[s("md-avatar",[s("img",{attrs:{src:"https://placeimg.com/40/40/people/1",alt:"People"}})]),t._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[t._v(t._s(e.lecturerId?e.lecturerId.lastname+" "+e.lecturerId.firstname:"Admin")+"  • "+t._s(t.getMoment(e.date).fromNow()))]),t._v(" "),s("span",[t._v(t._s(e.title))]),t._v(" "),s("p",[t._v(t._s(e.message))])]),t._v(" "),s("md-button",{staticClass:"md-icon-button md-list-action"},[s("md-icon",{staticClass:"md-primary"},[t._v("thumb_up")])],1)],1)],1)],1)})],2)],1)],1)])],1)},staticRenderFns:[]};var mt=s("VU/8")(ct,ut,!1,function(t){s("vo3S")},"data-v-b061409e",null).exports,vt=s("Xxa5"),ft=s.n(vt),ht=s("exGp"),pt=s.n(ht),gt=s("mtWM");Array.prototype.groupBy=function(t){return this.reduce(function(e,s){var a=s[t];return e[a]=e[a]||[],e[a].push(s),e},{})},Array.prototype.Average=function(t){var e=this.length;if(0==e)return 0;var s=0;return this.forEach(function(e){s+=e[t]}),s/e};var _t={name:"StidentList",data:function(){return{txtSearch:"",txtError:"",module:{name:"",code:"",description:""},selectedModuleIndex:null,modules:[],feedbacks:[{from:"Mr Tshepi",message:"You have to improve on your tests",date:new Date,status:"sent"},{from:"Student",message:"I am trying sir, i study eco everyday",date:new Date,fromType:"STUDENT",status:"sent"}],selectedStudent:null,isLoading:!1}},computed:{filteredModules:function(){var t=this;return this.modules.filter(function(e){return t.txtSearch.length<1||I()(e).toLowerCase().indexOf(t.txtSearch.toLowerCase())>=0})},currentModule:function(){return null==this.selectedModuleIndex?null:this.filteredModules[this.selectedModuleIndex]}},mounted:function(){var t=this;this.isLoading=!0,gt.get(this.$store.state.settings.baseLink+"/m/modules/all/for/"+this.$store.state.user.id+"/"+this.$store.state.user.type).then(function(e){var s;t.isLoading=!1,e.data.map((s=pt()(ft.a.mark(function e(s){var a;return ft.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.show=!0,e.next=3,gt.get(t.$store.state.settings.baseLink+"/m/marksheet/for/"+t.$store.state.user.id+"/moduleID/"+s._id);case 3:return(a=e.sent)&&a.data?s.marks=a.data.groupBy("type"):alert("There is no marks for "+s.name+" "+s.code),e.abrupt("return",s);case 6:case"end":return e.stop()}},e,t)})),function(t){return s.apply(this,arguments)})),t.modules=e.data}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()("Unable to load modules","Try again later","error")})},methods:{DeepSearch:function(){alert("Deep searching for "+this.txtSearch)},goToSolution:function(t){this.$router.push({name:"TestMarks",params:{solutionId:t}})}}},wt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"screen"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2"},[s("md-button",{staticClass:"right",on:{click:function(e){t.$router.back()}}},[s("md-icon",[t._v("keyboard_backspace")]),t._v(" "),s("span",[t._v("Back")])],1)],1)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s10 offset-s1 m8 offset-m3 l6 offset-l3"},[s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.txtSearch,expression:"txtSearch"}],attrs:{id:"Password",name:"Search",type:"search"},domProps:{value:t.txtSearch},on:{keypress:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.DeepSearch(e):null},input:function(e){e.target.composing||(t.txtSearch=e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Search"}},[t._v("Search")])])]),t._v(" "),s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[t.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e()],1)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s12 m3 row"},[s("div",{staticClass:"col s12 center"},[s("md-subheader",[s("label",{staticClass:"markValue"},[t._v("Modules")])])],1),t._v(" "),t._l(t.filteredModules,function(e,a){return s("div",{key:a,staticClass:"col s6 m12 pointer center-align waves-effect",on:{click:function(e){t.selectedModuleIndex=a}}},[s("div",{staticClass:"hoverable card-panel",class:{black:t.selectedModuleIndex==a}},[s("h6",{staticClass:"center-align"},[s("span",[t._v(t._s(e.name)+" \n                                    "),s("br"),s("label",{staticClass:"center-align"},[t._v(t._s(e.code))])])])])])})],2),t._v(" "),null==t.currentModule?s("div",{staticClass:"col s12 m9 row card-panel"},[s("md-empty-state",{attrs:{"md-icon":"","md-label":"No module selected","md-description":"Please click on a module"}})],1):t._e(),t._v(" "),null!=t.currentModule?s("div",{staticClass:"col s12 m9 row center-align"},[s("md-card",{staticClass:"white col s12 m10 offset-m1 center"},[s("md-card-header",[s("md-card-header-text",[s("div",{staticClass:"md-title"},[t._v(t._s(t.currentModule.name))]),t._v(" "),s("div",{staticClass:"md-subhead"},[t._v(t._s(t.currentModule.code))])]),t._v(" "),s("md-menu",{attrs:{"md-size":"big","md-direction":"bottom-end"}},[s("md-button",{staticClass:"md-icon-button",on:{click:function(e){t.selectedModuleIndex=null}}},[s("md-icon",[t._v("close")])],1)],1)],1),t._v(" "),s("md-card-expand",[s("md-card-content",{directives:[{name:"show",rawName:"v-show",value:!t.currentModule.marks,expression:"!currentModule.marks"}]},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[t.currentModule.marks?t._e():s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}})],1)])]),t._v(" "),t.currentModule.marks?s("md-card-content",[s("div",{staticClass:"row"},[s("md-list",{staticClass:"col s12 l4 md-double-line",staticStyle:{"border-right":"3px solid #eeeeee"}},[s("md-subheader",{staticClass:"testHeading"},[s("h6",[t._v("Tests and Practicals")])]),t._v(" "),t._l(t.currentModule.marks.PRACTICALTEST,function(e,a){return s("md-list-item",{key:a,staticClass:"pointer  waves-effect"},[s("div",{staticClass:"md-list-item-text"},[s("span",[t._v(t._s(e.title))]),t._v(" "),s("label",{staticClass:"md-primary"},[t._v(" "+t._s(t.getMoment(e.date).format("DD/MM/YYYY")))])]),t._v(" "),s("div",{staticClass:"md-list-action"},[s("label",{staticClass:"md-primary"},[s("span",{staticClass:"markValue"},[t._v(t._s(e.mark)+" /")]),t._v(" "),s("span",[t._v(t._s(e.total))])])])])}),t._v(" "),t.currentModule.marks.PRACTICALTEST&&t.currentModule.marks.PRACTICALTEST.length>0?s("md-list-item",[s("div",{staticClass:"md-list-item-text"},[s("label",[t._v("Average")])]),t._v(" "),s("div",{staticClass:"md-list-action"},[s("label",{staticClass:"md-primary"},[s("span",{staticClass:"markValue"},[t._v(t._s(t.currentModule.marks.PRACTICALTEST.map(function(t){return t.mark}).reduce(function(t,e){return t+e},0)/t.currentModule.marks.PRACTICALTEST.length))])])])]):t._e()],2),t._v(" "),s("md-list",{staticClass:"col s12 l4 md-double-line",staticStyle:{"border-right":"3px solid #eeeeee"}},[s("md-subheader",{staticClass:"testHeading"},[s("h6",[t._v("Class tests and Homeworks")])]),t._v(" "),t._l(t.currentModule.marks.THEORYTEST,function(e,a){return s("md-list-item",{key:a,staticClass:"pointer  waves-effect"},[s("div",{staticClass:"md-list-item-text"},[s("span",[t._v(t._s(e.title))]),t._v(" "),s("label",{staticClass:"md-primary"},[t._v(" "+t._s(t.getMoment(e.date).format("DD/MM/YYYY")))])]),t._v(" "),s("div",{staticClass:"md-list-action"},[s("label",{staticClass:"md-primary"},[s("span",{staticClass:"markValue"},[t._v(t._s(e.mark)+" /")]),t._v(" "),s("span",[t._v(t._s(e.total))])])])])}),t._v(" "),t.currentModule.marks.THEORYTEST&&t.currentModule.marks.THEORYTEST.length>0?s("md-list-item",[s("div",{staticClass:"md-list-item-text"},[s("label",[t._v("Average")])]),t._v(" "),s("div",{staticClass:"md-list-action"},[s("label",{staticClass:"md-primary"},[s("span",{staticClass:"markValue"},[t._v(t._s(t.currentModule.marks.THEORYTEST.map(function(t){return t.mark}).reduce(function(t,e){return t+e},0)/t.currentModule.marks.THEORYTEST.length))])])])]):t._e()],2),t._v(" "),s("md-list",{staticClass:"col s12 l4 md-double-line"},[s("md-subheader",{staticClass:"testHeading"},[s("h6",[t._v("Online tests and assignments")])]),t._v(" "),t._l(t.currentModule.marks.ONLINETEST,function(e,a){return s("md-list-item",{key:a,staticClass:"pointer  waves-effect"},[s("div",{staticClass:"md-list-item-text"},[s("span",[t._v(t._s(e.title))]),t._v(" "),s("label",{staticClass:"md-primary"},[t._v(" "+t._s(t.getMoment(e.date).format("DD/MM/YYYY")))])]),t._v(" "),s("div",{staticClass:"md-list-action"},[s("label",{staticClass:"md-primary"},[s("span",{staticClass:"markValue"},[t._v(t._s(e.mark)+" /")]),t._v(" "),s("span",[t._v(t._s(e.total))])])])])}),t._v(" "),t.currentModule.marks.ONLINETEST&&t.currentModule.marks.ONLINETEST.length>0?s("md-list-item",[s("div",{staticClass:"md-list-item-text"},[s("label",[t._v("Average")])]),t._v(" "),s("div",{staticClass:"md-list-action"},[s("label",{staticClass:"md-primary"},[s("span",{staticClass:"markValue"},[t._v(t._s(t.currentModule.marks.ONLINETEST.map(function(t){return t.mark}).reduce(function(t,e){return t+e},0)/t.currentModule.marks.ONLINETEST.length))])])])]):t._e()],2)],1)]):t._e(),t._v(" "),t._e(),t._v(" "),s("md-card-expand-content",[t._e()],1)],1)],1)],1):t._e()])])},staticRenderFns:[]};var Ct=s("VU/8")(_t,wt,!1,function(t){s("KlEE")},"data-v-51d1567f",null).exports,bt=s("mtWM"),xt=function(t){return t.toString().toLowerCase()},kt={name:"StidentList",data:function(){return{printing:!1,markSheet:{id:"",title:"",total:100,type:"PracticalTest",moduleID:"",lecturerID:"",error:"",date:new Date},search:null,searched:[],users:[],txtSearch:"",txtSearchSheet:"",txtError:"",module:{name:"",code:"",description:""},selectedModuleIndex:0,selectedMarkSheetAction:0,markSheetId:null,sheetActions:["View/Update","Create new"],modules:[],sheets:[],selectedMarkSheet:null,feedbacks:[{from:"Mr Tshepi",message:"You have to improve on your tests",date:new Date,status:"sent"},{from:"Student",message:"I am trying sir, i study eco everyday",date:new Date,fromType:"STUDENT",status:"sent"}],selectedStudent:null,isLoading:!1}},computed:{filteredModules:function(){var t=this;return this.modules.filter(function(e){return t.txtSearch.length<1||I()(e).toLowerCase().indexOf(t.txtSearch.toLowerCase())>=0})},filteredSheets:function(){var t=this;return this.sheets.filter(function(e){return t.currentModule&&e.moduleID==t.currentModule._id})},currentModule:function(){return null==this.selectedModuleIndex?null:this.filteredModules[this.selectedModuleIndex]}},mounted:function(){var t=this;this.isLoading=!0,bt.get(this.$store.state.settings.baseLink+"/m/modules/all/for/"+this.$store.state.user.id+"/"+this.$store.state.user.type).then(function(e){t.isLoading=!1,t.modules=e.data,t.modules.map(function(t){t.show=!0}),t.SwitchModule(0)}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()("Unable to load modules",e.message,"error")}),bt.get(this.$store.state.settings.baseLink+"/l/sheet/get/all/for/"+this.$store.state.user.id).then(function(e){t.sheets=e.data}).catch(function(t){null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()("Unable to load mark sheets","Try again later","error")})},methods:{PrintMarkSheet:function(){var t=this;this.printing=!0,setTimeout(function(){window.print(),t.printing=!1},100)},SwitchModule:function(t){var e=this;this.selectedModuleIndex=t,this.selectedMarkSheet=null,this.markSheetId=null,this.txtSearchSheet="",bt.get(this.$store.state.settings.baseLink+"/s/students/all/for/module/"+this.currentModule._id).then(function(t){t.data.map(function(t){return t.mark=null,t.editting=!0,t}),e.users=t.data,e.searchOnTable()}).catch(function(t){null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()("Unable load students for "+e.currentModule.name,t.message,"error")})},UpdateMarkFor:function(t){var e=this;isNaN(t.mark)||bt.post(this.$store.state.settings.baseLink+"/l/sheet/update/mark/by/"+this.$store.state.user.id,{markSheetID:this.selectedMarkSheet._id,studentID:t._id,mark:t.mark}).then(function(t){e.sheets.filter(function(e){return e._id==t.data._id}).map(function(e){return t.data}),e.SelectMarkSheetById(t.data),e.searchOnTable()}).catch(function(e){t.editting=!1,null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()("Unable update marks for student",e.message,"error")})},CreateMarkSheet:function(){var t=this;return this.markSheet.error="",this.isLoading=!0,this.markSheet.id.length<2?(this.markSheet.error="Marksheet id is too short",void(this.isLoading=!1)):this.markSheet.title.length<2?(this.markSheet.error="Marksheet title is too short",void(this.isLoading=!1)):(this.markSheet.lecturerID=this.$store.state.user.id,this.markSheet.moduleID=this.currentModule._id,void bt.post(this.$store.state.settings.baseLink+"/l/sheet/add",{markSheet:this.markSheet}).then(function(e){t.isLoading=!1,t.sheets.push(e.data),t.selectedMarkSheetAction=0,t.selectedMarkSheet=e.data,t.markSheetId=t.txtSearchSheet=e.data.id}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()("Unable to save mark sheet",e.message,"error")}))},goToSolution:function(t){this.$router.push({name:"TestMarks",params:{solutionId:t}})},SelectMarkSheetById:function(t){var e=this;this.selectedMarkSheet=t,this.markSheetId=this.txtSearchSheet=t.id,this.users.map(function(t){var s=t._id,a=e.selectedMarkSheet.studentMarks.filter(function(t){return t.studentID==s});return a&&0!=a.length?(t.mark=a[0].mark,t.editting=!1):(t.mark=null,t.editting=!0),t})},searchOnTable:function(){var t,e;this.searched=(t=this.users,(e=this.search)?t.filter(function(t){return xt(t.name).includes(xt(e))}):t)}}},yt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"screen"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.printing,expression:"!printing"}],staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2"},[s("md-button",{staticClass:"right",on:{click:function(e){t.$router.back()}}},[s("md-icon",[t._v("keyboard_backspace")]),t._v(" "),s("span",[t._v("Back")])],1)],1)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m8 offset-m2 center-align text-center"},[t.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e()],1)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.printing,expression:"!printing"}],staticClass:"col s12 m3 row"},[s("div",{staticClass:"col s12 center"},[s("md-subheader",[s("label",{staticClass:"markValue"},[t._v("Modules")])])],1),t._v(" "),t._l(t.filteredModules,function(e,a){return s("div",{key:a,staticClass:"col s12 pointer center-align waves-effect",on:{click:function(e){t.SwitchModule(a)}}},[s("div",{staticClass:"hoverable card-panel",class:{black:t.selectedModuleIndex==a}},[s("h6",{staticClass:"center-align"},[s("span",[t._v(t._s(e.name)+" \n                          "),s("br"),s("label",{staticClass:"center-align"},[t._v(t._s(e.code))])])])])])})],2),t._v(" "),s("div",{staticClass:"col s12 m9 row center-align",class:{"s12 m12":t.printing}},[s("md-card",{staticClass:"white col s12 m10 offset-m1 center"},[s("md-card-header",[s("md-card-header-text",[s("div",{staticClass:"md-title"},[t._v(t._s(t.currentModule.name))]),t._v(" "),s("div",{staticClass:"md-subhead"},[t._v(t._s(t.currentModule.code))])])],1),t._v(" "),s("md-card-expand",[s("md-card-content",[null==t.markSheetId?s("div",{staticClass:"row"},[s("div",{staticClass:"col s12"},[s("md-tabs",{attrs:{"md-alignment":"fixed"}},t._l(t.sheetActions,function(e,a){return s("md-tab",{key:a,class:{"md-active":t.selectedMarkSheetAction==a},attrs:{id:"tab-"+a,"md-label":e},on:{click:function(e){t.selectedMarkSheetAction=a}}})}))],1)]):t._e(),t._v(" "),0==t.selectedMarkSheetAction?s("div",{staticClass:"row"},[null==t.markSheetId?s("div",{staticClass:"col s10 offset-s1 m8 offset-m3 l6 offset-l3"},[s("md-field",[s("md-icon",[t._v("search")]),t._v(" "),s("label",[t._v("Marksheet search....")]),t._v(" "),s("md-input",{attrs:{type:"search"},model:{value:t.txtSearchSheet,callback:function(e){t.txtSearchSheet=e},expression:"txtSearchSheet"}})],1),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s12"},[s("p",[t._v("Pick a marksheet to view/update")])]),t._v(" "),t._l(t.filteredSheets.filter(function(e){return t.txtSearchSheet.length<2||JSON.stringify(e).toString().indexOf(t.txtSearchSheet)>=0}),function(e,a){return s("div",{key:a,staticClass:"col s6 m4"},[s("div",{staticClass:"card-panel center-align pointer waves-effect",on:{click:function(s){t.SelectMarkSheetById(e)}}},[t._v(t._s(e.id)+" - "+t._s(e.title))])])})],2)],1):t._e(),t._v(" "),null!=t.markSheetId?s("div",{staticClass:"col s12 row",staticStyle:{"overflow-y":"visible"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.printing,expression:"!printing"}],staticClass:"col s12"},[s("md-button",{staticClass:"right md-icon-button",on:{click:function(e){t.markSheetId=null}}},[s("md-icon",[t._v("close")])],1)],1),t._v(" "),s("div",[s("h6",{staticClass:"md-title center-align text-xs-center"},[t._v("Mark sheet : "),s("a",[t._v(t._s(t.markSheetId))])])]),t._v(" "),s("md-table",{staticClass:"col s12",attrs:{"md-sort":"name","md-sort-order":"asc","md-fixed-header":""},scopedSlots:t._u([{key:"md-table-row",fn:function(e){var a=e.item;return s("md-table-row",{},[s("md-table-cell",{attrs:{"md-label":"Username","md-sort-by":"username","md-numeric":""}},[t._v(t._s(a.username))]),t._v(" "),s("md-table-cell",{attrs:{"md-label":"Full Name","md-sort-by":"lastname + firstname"}},[t._v(t._s(a.lastname)+" "+t._s(a.firstname))]),t._v(" "),s("md-table-cell",{attrs:{"md-label":"Gender","md-sort-by":"gender"}},[t._v(t._s(a.gender))]),t._v(" "),s("md-table-cell",{attrs:{"md-label":"mark","md-sort-by":"mark"}},[s("span",{directives:[{name:"show",rawName:"v-show",value:!a.editting,expression:"!item.editting"}]},[t._v(t._s(a.mark))]),t._v(" "),s("md-input",{directives:[{name:"show",rawName:"v-show",value:a.editting,expression:"item.editting"}],attrs:{type:"number",placeholder:"mark obtained"},model:{value:a.mark,callback:function(e){t.$set(a,"mark",e)},expression:"item.mark"}})],1),t._v(" "),s("md-table-cell",{directives:[{name:"show",rawName:"v-show",value:!t.printing,expression:"!printing"}],attrs:{"md-label":"Actions"}},[s("div",[s("md-button",{directives:[{name:"show",rawName:"v-show",value:a.editting,expression:"item.editting"}],staticClass:"md-icon-button md-mini",on:{click:function(e){t.UpdateMarkFor(a)}}},[s("md-icon",[t._v("done")])],1),t._v(" "),s("md-button",{directives:[{name:"show",rawName:"v-show",value:a.editting,expression:"item.editting"}],staticClass:"md-icon-button md-mini",on:{click:function(t){a.editting=!1}}},[s("md-icon",[t._v("close")])],1),t._v(" "),s("md-button",{directives:[{name:"show",rawName:"v-show",value:!a.editting,expression:"!item.editting"}],staticClass:"md-icon-button md-mini",on:{click:function(t){a.editting=!0}}},[s("md-icon",[t._v("edit")])],1)],1)])],1)}}]),model:{value:t.searched,callback:function(e){t.searched=e},expression:"searched"}},[s("md-table-toolbar",{directives:[{name:"show",rawName:"v-show",value:!t.printing,expression:"!printing"}]},[s("md-field",{staticClass:"md-toolbar-section-end",attrs:{"md-clearable":""}},[s("md-input",{attrs:{placeholder:"Search by name..."},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),s("md-field",{staticClass:"md-toolbar-section-end",attrs:{"md-clearable":""}},[s("md-button",{staticClass:"md-icon-button",on:{click:t.PrintMarkSheet}},[s("md-icon",[t._v("print")])],1)],1)],1),t._v(" "),s("md-table-empty-state",{attrs:{"md-label":"No users found","md-description":"No record found for student with the name '"+t.search+"' . Try a different search term or create a new record."}})],1)],1):t._e()]):t._e(),t._v(" "),1==t.selectedMarkSheetAction?s("div",{staticClass:"row",staticStyle:{border:"3px solid #eeeeee"}},[s("md-list",{staticClass:"col s12 md-double-line"},[s("md-list-item",[s("md-field",[s("md-icon",[t._v("lock")]),t._v(" "),s("label",[t._v("Id")]),t._v(" "),s("md-input",{model:{value:t.markSheet.id,callback:function(e){t.$set(t.markSheet,"id",e)},expression:"markSheet.id"}})],1)],1),t._v(" "),s("md-list-item",[s("md-field",[s("md-icon",[t._v("title")]),t._v(" "),s("label",[t._v("Title")]),t._v(" "),s("md-input",{model:{value:t.markSheet.title,callback:function(e){t.$set(t.markSheet,"title",e)},expression:"markSheet.title"}})],1)],1),t._v(" "),s("md-list-item",[s("md-field",[s("md-icon",[t._v("sort")]),t._v(" "),s("label",[t._v("Total")]),t._v(" "),s("md-input",{model:{value:t.markSheet.total,callback:function(e){t.$set(t.markSheet,"total",e)},expression:"markSheet.total"}})],1)],1),t._v(" "),s("md-list-item",[s("md-field",{staticClass:"white"},[s("md-icon",[t._v("note")]),t._v(" "),s("label",{attrs:{for:"movie"}},[t._v("Test Type")]),t._v(" "),s("md-select",{staticClass:"white",attrs:{name:"movie",id:"movie"},model:{value:t.markSheet.type,callback:function(e){t.$set(t.markSheet,"type",e)},expression:"markSheet.type"}},[s("md-option",{attrs:{value:"PracticalTest"}},[t._v("Practical Test")]),t._v(" "),s("md-option",{attrs:{value:"TheoryTest"}},[t._v("Theory Test")]),t._v(" "),s("md-option",{attrs:{value:"HomeClassTest"}},[t._v("Home/class Test")]),t._v(" "),s("md-option",{attrs:{value:"Exam"}},[t._v("Exam")])],1)],1)],1),t._v(" "),s("md-list-item",[s("md-field",{staticClass:"white"},[s("md-datepicker",{attrs:{"md-immediately":""},model:{value:t.markSheet.date,callback:function(e){t.$set(t.markSheet,"date",e)},expression:"markSheet.date"}},[s("label",[t._v("Date")])])],1)],1),t._v(" "),s("md-list-item",[s("md-field",{staticClass:"col s8 offset-s2 m6 offset-m3 center-align text-center center-align"},[s("p",{staticClass:"red-text"},[t._v(t._s(t.markSheet.error))])])],1)],1),t._v(" "),s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 center-align text-center center-align"},[t.isLoading?t._e():s("input",{staticClass:"btn black center-align tg-btn",attrs:{type:"submit",value:"Save"},on:{click:t.CreateMarkSheet}}),t._v(" "),t.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e()],1)],1):t._e()]),t._v(" "),s("md-card-expand-content",[t._e()],1)],1)],1)],1)])])},staticRenderFns:[]};var St=s("VU/8")(kt,yt,!1,function(t){s("0Z3g")},"data-v-77bd90ed",null).exports,Lt=s("mtWM"),At={name:"Test",watch:{surveyAnswers:function(t,e){this.$forceUpdate()}},data:function(){return{pickProvince:!1,features:["Serves as a communication tool between a teacher, parent and a learner","Allows a student to write an online assessment and the system marks the assessment and gives results to both students and parents","Allows a teacher to send out previous questions papers or any study material to a student","Allows a teacher to post test results of each subject that a learner is doing and parents will monitor how their children are performing at school","Provides career guidance as we have noticed that a lot of learners do not know which career path to follow after matric"],txtError:"",Questionare:[],surveyAnswers:[{QuestionId:String,Answer:String,Answer2:String}],Survey:[{Question:"Name",Answer:null},{Question:"Surname",Answer:null},{Question:"Email",Answer:null},{Question:"Province",Answer:null}],currentPage:-1,selectedProvince:"",provinces:[{name:"Eastern Cape",code:"ZA-EC"},{name:"Free State",code:"ZA-FS"},{name:"Gauteng",code:"ZA-GT"},{name:"KwaZulu-Natal",code:"ZA-NL"},{name:"Limpopo",code:"ZA-LP"},{name:"Mpumalanga",code:"ZA-MP"},{name:"North West",code:"ZA-NW"},{name:"Northern Cape",code:"ZA-NC"},{name:"Western Cape",code:"ZA-WC"}]}},mounted:function(){var t=this;Lt.get(this.$store.state.settings.baseLink+"/survey/get/all/surveyquestions").then(function(e){t.Questionare=e.data,t.surveyAnswers=[],t.Questionare.forEach(function(e){t.surveyAnswers.push({QuestionId:e._id,Answer:null})})}).catch(function(t){null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()("Unable to load Survey","Try again later","error")})},methods:{PickProvince:function(t){this.selectedProvince=t,this.pickProvince=!1},GoToNextPage:function(t){var e=this;if(this.txtError="",-1==this.currentPage)this.currentPage=0;else if(t)Lt.post(this.$store.state.settings.baseLink+"/survey/submit",{user:this.Survey,survey:this.surveyAnswers}).then(function(t){l()("Thank you!","We got your feedback!","success").then(function(t){e.$router.push("/")})}).catch(function(t){null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()("Unable to submit your Survey","Try again later","error")});else{this.Survey.reverse().forEach(function(t){"Province"==t.Question&&(t.Answer=e.selectedProvince),!t.Optional&&(null==t.Answer||t.Answer.length<2)&&(e.txtError="Please fill in  your "+t.Question)});this.Survey.reverse();if(this.txtError.length>2)return;this.currentPage=1}}}},Et={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("md-dialog",{staticClass:"card",staticStyle:{position:"grid","place-items":"center"},attrs:{"md-active":t.pickProvince},on:{"update:mdActive":function(e){t.pickProvince=e}}},[s("md-card-header-text",{staticClass:"center-align"},[s("div",{staticClass:"md-subheader center-align"},[t._v("Please pick your province")])]),t._v(" "),s("md-content",{staticClass:"row"},[s("md-list",{staticClass:"md-double-line"},t._l(t.provinces,function(e){return s("md-list-item",{key:e.code,staticClass:"waves-effect",on:{click:function(s){t.PickProvince(e.name)}}},[s("md-icon",{staticClass:"md-primary"},[t._v("map")]),t._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[t._v(t._s(e.name))])])],1)}))],1)],1),t._v(" "),-1==t.currentPage?s("div",{staticClass:"row"},[s("div",{staticClass:"col s10 offset-s1 m8 offset-m2 row card-panel"},[t._m(0),t._v(" "),s("div",{staticClass:"col s12"},[t._m(1),t._v(" "),s("div",{staticClass:"row"},t._l(t.features,function(e,a){return s("div",{key:a,staticClass:"col s8 offset-s2 m6 offset-m3 text-center card-panel hoverable pointer waves-effect"},[s("p",[t._v(t._s(a+1)+". "+t._s(e))])])}))]),t._v(" "),s("div",{staticClass:"row"},[t._m(2),t._v(" "),s("div",{staticClass:"col m4 offset-m4 s12 pointer center-align waves-effect",on:{click:function(e){t.GoToNextPage(!1)}}},[t._m(3)])])])]):t._e(),t._v(" "),0==t.currentPage?s("div",{staticClass:"row"},[s("div",{staticClass:"col s10 offset-s1 m8 offset-m2 row card-panel"},[s("div",{staticClass:"col s12"},[t._m(4),t._v(" "),t._m(5),t._v(" "),s("md-button",{staticClass:"md-fab",on:{click:function(e){t.currentPage=-1}}},[s("md-icon",[t._v("close")])],1)],1),t._v(" "),s("div",{staticClass:"col s12"},t._l(t.Survey,function(e,a){return s("div",{key:a,staticClass:"row"},[s("div",{directives:[{name:"show",rawName:"v-show",value:"Province"!=e.Question,expression:"survey.Question != 'Province'"}],staticClass:"input-field col s8 offset-s2 m6 offset-m3 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.Answer,expression:"survey.Answer"}],attrs:{id:"survey-"+a,type:"text"},domProps:{value:e.Answer},on:{input:function(s){s.target.composing||t.$set(e,"Answer",s.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"survey-"+a}},[t._v("Enter your "+t._s(e.Question)+" "),s("span",{staticClass:"red-text"},[t._v(t._s(e.Optional?"":" *"))])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"Province"==e.Question,expression:"survey.Question == 'Province'"}],staticClass:"col s8 waves-effect offset-s2 m6 offset-m3 align-center pointer",on:{click:function(e){t.pickProvince=!0}}},[s("div",{staticClass:"md-list-item-text black-text align-center"},[s("span",[t._v(t._s(0==t.selectedProvince.length?"Tap to select a province":"Tap to change your province"))]),t._v(" "),s("label",{attrs:{id:"survey-22"}},[t._v(t._s(t.selectedProvince))])])])])})),t._v(" "),s("div",{staticClass:"col m8 offset-m2 s12"},[s("p",{directives:[{name:"show",rawName:"v-show",value:t.txtError.length>2,expression:"txtError.length > 2"}],staticClass:"center-align red-text"},[t._v(t._s(t.txtError))])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col m4 offset-m4 s12 pointer center-align waves-effect",on:{click:function(e){t.GoToNextPage(!1)}}},[t._m(6)])])])]):t._e(),t._v(" "),1==t.currentPage?s("div",{staticClass:"row"},[s("div",{staticClass:"col s10 offset-s1 m8 offset-m2 row card-panel"},[s("div",{staticClass:"col s12"},[t._m(7),t._v(" "),t._m(8),t._v(" "),s("md-button",{staticClass:"md-fab",on:{click:function(e){t.currentPage=-1}}},[s("md-icon",[t._v("close")])],1)],1),t._v(" "),t._l(t.Questionare,function(e,a){return e?s("div",{key:a,staticClass:"col s10 offset-s1 z-depth-1 row"},[s("div",{staticClass:"col s12"},[s("h5",{staticClass:"center-align"},[t._v(t._s(e.question))])]),t._v(" "),s("div",{staticClass:"col m8 offset-m2 s12"},[s("form",["STRING"!=e.type&&null!=e.options?s("div",t._l(e.options,function(n,i){return s("h6",{key:i,staticClass:"pointer"},[s("label",["checkbox"==("STRING"==e.type?"text":"radio")?s("input",{directives:[{name:"model",rawName:"v-model",value:t.surveyAnswers[a].Answer,expression:"surveyAnswers[i].Answer"}],staticClass:"with-gap",attrs:{name:e._id,type:"checkbox"},domProps:{value:n,checked:Array.isArray(t.surveyAnswers[a].Answer)?t._i(t.surveyAnswers[a].Answer,n)>-1:t.surveyAnswers[a].Answer},on:{change:function(e){var s=t.surveyAnswers[a].Answer,i=e.target,r=!!i.checked;if(Array.isArray(s)){var o=n,l=t._i(s,o);i.checked?l<0&&t.$set(t.surveyAnswers[a],"Answer",s.concat([o])):l>-1&&t.$set(t.surveyAnswers[a],"Answer",s.slice(0,l).concat(s.slice(l+1)))}else t.$set(t.surveyAnswers[a],"Answer",r)}}}):"radio"==("STRING"==e.type?"text":"radio")?s("input",{directives:[{name:"model",rawName:"v-model",value:t.surveyAnswers[a].Answer,expression:"surveyAnswers[i].Answer"}],staticClass:"with-gap",attrs:{name:e._id,type:"radio"},domProps:{value:n,checked:t._q(t.surveyAnswers[a].Answer,n)},on:{change:function(e){t.$set(t.surveyAnswers[a],"Answer",n)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.surveyAnswers[a].Answer,expression:"surveyAnswers[i].Answer"}],staticClass:"with-gap",attrs:{name:e._id,type:"STRING"==e.type?"text":"radio"},domProps:{value:n,value:t.surveyAnswers[a].Answer},on:{input:function(e){e.target.composing||t.$set(t.surveyAnswers[a],"Answer",e.target.value)}}}),t._v(" "),s("span",[t._v(t._s(n))])])])})):s("div",[s("h6",{staticClass:"pointer"},[s("label",["checkbox"==("STRING"==e.type?"text":"radio")?s("input",{directives:[{name:"model",rawName:"v-model",value:t.surveyAnswers[a].Answer,expression:"surveyAnswers[i].Answer"}],staticClass:"with-gap center-align",attrs:{placeholder:"Enter Response",type:"checkbox"},domProps:{checked:Array.isArray(t.surveyAnswers[a].Answer)?t._i(t.surveyAnswers[a].Answer,null)>-1:t.surveyAnswers[a].Answer},on:{change:function(e){var s=t.surveyAnswers[a].Answer,n=e.target,i=!!n.checked;if(Array.isArray(s)){var r=t._i(s,null);n.checked?r<0&&t.$set(t.surveyAnswers[a],"Answer",s.concat([null])):r>-1&&t.$set(t.surveyAnswers[a],"Answer",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.surveyAnswers[a],"Answer",i)}}}):"radio"==("STRING"==e.type?"text":"radio")?s("input",{directives:[{name:"model",rawName:"v-model",value:t.surveyAnswers[a].Answer,expression:"surveyAnswers[i].Answer"}],staticClass:"with-gap center-align",attrs:{placeholder:"Enter Response",type:"radio"},domProps:{checked:t._q(t.surveyAnswers[a].Answer,null)},on:{change:function(e){t.$set(t.surveyAnswers[a],"Answer",null)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.surveyAnswers[a].Answer,expression:"surveyAnswers[i].Answer"}],staticClass:"with-gap center-align",attrs:{placeholder:"Enter Response",type:"STRING"==e.type?"text":"radio"},domProps:{value:t.surveyAnswers[a].Answer},on:{input:function(e){e.target.composing||t.$set(t.surveyAnswers[a],"Answer",e.target.value)}}})])])]),t._v(" "),e.optional&&e.optional.answer==t.surveyAnswers[a].Answer?s("div",[s("h6",{staticClass:"pointer"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.surveyAnswers[a].Answer2,expression:"surveyAnswers[i].Answer2"}],staticClass:"with-gap center-align",attrs:{placeholder:e.optional.question,type:"text"},domProps:{value:t.surveyAnswers[a].Answer2},on:{input:function(e){e.target.composing||t.$set(t.surveyAnswers[a],"Answer2",e.target.value)}}})])])]):t._e()])]),t._v(" "),s("div",{staticClass:"col m8 offset-m2 s12"},[s("p",{directives:[{name:"show",rawName:"v-show",value:t.txtError.length>2,expression:"txtError.length > 2"}],staticClass:"center-align red-text"},[t._v(t._s(t.txtError))])])]):t._e()}),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col m4 offset-m4 s12 pointer center-align waves-effect",on:{click:function(e){t.GoToNextPage(!0)}}},[t._m(9)])])],2)]):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col s12"},[e("div",{staticClass:"card-image col l8 offset-l2 m6 offset-m3 s12"},[e("img",{staticClass:"img-responsive",attrs:{src:"static/img/coPortalLogo.jpg"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col s8 offset-s2 m6 offset-m3 text-center"},[e("span",{staticClass:"text-center"},[this._v("Co-portal is a school management system that 63Solutions is currently introducing to schools, the system is currently operating in one school in Rustenburg and the following are some of the key functions that the system does:")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col s12 center-align"},[e("p",[this._v("We would really appreciate it if you take part in the survey below.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-panel hoverable"},[e("h5",{staticClass:"text-xs-center"},[this._v("Take the survey "),e("i",{staticClass:"material-icons right"},[this._v("exit_to_app")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h5",[e("strong",[this._v("Feedback Survey")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-image col l8 offset-l2 m6 offset-m3 s12"},[e("img",{staticClass:"img-responsive",attrs:{src:"static/img/coPortalLogo.jpg"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-panel hoverable"},[e("h5",{staticClass:"text-xs-center"},[this._v("Next "),e("i",{staticClass:"material-icons right"},[this._v("exit_to_app")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h5",[e("strong",[this._v("Feedback Survey")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-image col l8 offset-l2 m6 offset-m3 s12"},[e("img",{staticClass:"img-responsive",attrs:{src:"static/img/coPortalLogo.jpg"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-panel hoverable"},[e("h5",{staticClass:"text-xs-center"},[this._v("Submit "),e("i",{staticClass:"material-icons right"},[this._v("done")])])])}]};var Mt=s("VU/8")(At,Et,!1,function(t){s("Py1Z")},"data-v-09bb32dc",null).exports,Nt=s("mtWM"),Pt={name:"Test",watch:{surveyAnswers:function(t,e){this.$forceUpdate()}},data:function(){return{txtError:"",Questionare:[],currentPage:-1,Subjects:[],Report:{Student:"",StudentID:"",Teacher:this.$store.state.user.username,TeacherID:this.$store.state.user.id,Subject:"",Method:"",Message:""},students:[]}},mounted:function(){var t=this;Nt.get(this.$store.state.settings.baseLink+"/s/students/all").then(function(e){e.data.forEach(function(e){var s=new Array;e.modules.forEach(function(t){s.push(t.name)}),t.students.push({name:e.firstname+" "+e.lastname,Subjects:s,id:e._id})})}).catch(function(t){null!=t.response&&512==t.response.status?l()(t.response.data,"error"):l()("Unable to load Report","Try again later","error")})},methods:{FindSubject:function(){var t=this;this.students.forEach(function(e){e.name==t.Report.Student&&(t.Subjects=e.Subjects,t.Report.StudentID=e.id)})},GoToNextPage:function(t){var e=this;if(-1==this.currentPage)""==this.Report.Student?this.txtError="Please select a student":(this.currentPage++,this.FindSubject(),this.txtError="");else if(0==this.currentPage)""==this.Report.Subject?this.txtError="Please select a Subject to report":this.Report.Message.length<3?this.txtError="Please type in a Report":""==this.Report.Method?this.txtError="Please select a Method":(this.currentPage++,this.txtError="");else if(1==this.currentPage&&t){var s=(new XMLSerializer).serializeToString(this.$refs.emailCard);Nt.post(this.$store.state.settings.baseLink+"/l/report/student",{studentID:this.Report.StudentID,teacherID:this.Report.TeacherID,subject:this.Report.Subject,method:this.Report.Method,message:this.Report.Message,html:s}).then(function(t){t&&(l()("Report successfully sent",t.data,"success"),e.$router.push("/"))}).catch(function(t){e.isLoading=!1,null!=t.response&&512==t.response.status?e.txtError=t.response.data:l()("Unable to Send report","Try again later","error")})}}}},Tt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[-1==t.currentPage?s("div",{staticClass:"row"},[s("div",{staticClass:"col s10 offset-s1 m8 offset-m2 row card-panel"},[t._m(0),t._v(" "),s("div",{staticClass:"col s12"}),t._v(" "),s("div",{staticClass:"col m8 offset-m2 s12"},[s("p",{directives:[{name:"show",rawName:"v-show",value:t.txtError.length>2,expression:"txtError.length > 2"}],staticClass:"center-align red-text"},[t._v(t._s(t.txtError))])]),t._v(" "),s("div",{staticClass:"row",staticStyle:{display:"none"}}),t._v(" "),s("div",{staticClass:"select-container row mt-5"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.Report.Student,expression:"Report.Student"}],staticClass:"custom-select custom-selected waves-effect",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.Report,"Student",e.target.multiple?s:s[0])}}},[s("option",{attrs:{disabled:"",value:""}},[t._v("Select student")]),t._v(" "),t._l(t.students,function(e,a){return s("option",{key:a,staticClass:"select-option",domProps:{value:e.name}},[t._v(t._s(e.name))])})],2)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col m4 offset-m4 s12 pointer center-align waves-effect",on:{click:function(e){t.GoToNextPage(!1)}}},[t._m(1)])])])]):t._e(),t._v(" "),0==t.currentPage?s("div",{staticClass:"row"},[s("div",{staticClass:"col s10 offset-s1 m8 offset-m2 row card-panel"},[s("div",{staticClass:"col s12"},[s("br"),t._v(" "),t._m(2),t._v(" "),s("md-button",{staticClass:"md-fab",on:{click:function(e){t.currentPage=-1}}},[s("md-icon",[t._v("close")])],1)],1),t._v(" "),s("div",{staticClass:"col s12"}),t._v(" "),s("div",{staticClass:"col m8 offset-m2 s12"},[s("p",{directives:[{name:"show",rawName:"v-show",value:t.txtError.length>2,expression:"txtError.length > 2"}],staticClass:"center-align red-text"},[t._v(t._s(t.txtError))])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"card-panel hoverable pointer  text-center col s10 offset-m1 offset-s1"},[s("div",{staticClass:"Report-que-container"},[t._m(3),t._v(" "),s("div",{staticClass:"Report-que-body"},t._l(t.Subjects,function(e,a){return s("div",{key:a,staticStyle:{float:"left"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.Report.Subject,expression:"Report.Subject"}],attrs:{id:a,name:"Subject",type:"radio"},domProps:{value:e,checked:t._q(t.Report.Subject,e)},on:{change:function(s){t.$set(t.Report,"Subject",e)}}}),s("label",{attrs:{for:a}},[t._v(t._s(e))])])})),t._v(" "),s("div",{staticStyle:{height:"40px",width:"100%"}})])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"card-panel hoverable pointer  text-center col s10 offset-m1 offset-s1"},[s("div",{staticClass:"Report-que-container"},[t._m(4),t._v(" "),s("div",{staticClass:"Report-que-body"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.Report.Message,expression:"Report.Message"}],staticClass:"with-gap center-align",attrs:{placeholder:"1000 words",maxlength:"1000",type:"text"},domProps:{value:t.Report.Message},on:{input:function(e){e.target.composing||t.$set(t.Report,"Message",e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"card-panel hoverable pointer  text-center col s10 offset-m1 offset-s1"},[s("div",{staticClass:"Report-que-container"},[t._m(5),t._v(" "),s("div",{staticClass:"Report-que-body"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.Report.Method,expression:"Report.Method"}],attrs:{id:"toggle-on1",name:"toggle2",value:"Email",type:"radio"},domProps:{checked:t._q(t.Report.Method,"Email")},on:{change:function(e){t.$set(t.Report,"Method","Email")}}}),s("label",{attrs:{for:"toggle-on1"}},[t._v("Email")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.Report.Method,expression:"Report.Method"}],attrs:{id:"toggle-off2",name:"toggle2",value:"Phone",type:"radio"},domProps:{checked:t._q(t.Report.Method,"Phone")},on:{change:function(e){t.$set(t.Report,"Method","Phone")}}}),s("label",{attrs:{for:"toggle-off2"}},[t._v("Phone")])])])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col m4 offset-m4 s12 pointer center-align waves-effect",on:{click:function(e){t.GoToNextPage(!1)}}},[t._m(6)])])])]):t._e(),t._v(" "),1==t.currentPage?s("div",{staticClass:"row"},[s("div",{staticClass:"col s10 offset-s1 m8 offset-m2 row card-panel"},[s("div",{staticClass:"col s12"},[s("md-button",{staticClass:"md-fab",on:{click:function(e){t.currentPage=-1}}},[s("md-icon",[t._v("close")])],1)],1),t._v(" "),t._m(7),t._v(" "),s("div",{staticClass:"col m8 offset-m2 s12"},[s("p",{directives:[{name:"show",rawName:"v-show",value:t.txtError.length>2,expression:"txtError.length > 2"}],staticClass:"center-align red-text"},[t._v(t._s(t.txtError))])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{ref:"emailCard",staticClass:"Email-cards"},[t._m(8),t._v(" "),s("div",{staticClass:"Email-message-header",staticStyle:{"margin-left":"15px","margin-top":"90px"}},[s("h5",{staticStyle:{"font-weight":"50","margin-bottom":"20px"}},[t._v("Dear Parent/Guardian")]),t._v(" "),s("div",[t._v("\n              Please read the following report concerning "),s("strong",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.Report.Student))]),t._v(" for\n              "),s("strong",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.Report.Subject))]),t._v(" (Subject)\n            ")]),t._v(" "),s("div",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"}},[t._v("\n              The report is as follows :\n            ")]),t._v(" "),s("strong",{staticStyle:{"font-size":"22px","font-weight":"bold"}},[t._v("\n                   "+t._s(t.Report.Message)+"\n                  ")]),t._v(" "),s("div",{staticStyle:{"margin-top":"20px","margin-bottom":"30px"}},[t._v("\n              This report was sent to you by "),s("strong",{staticStyle:{"font-weight":"bold"}},[t._v(" "+t._s(t.Report.Teacher))]),t._v(" (Teacher)\n            ")]),t._v("\n            Best Regards,\n            "),s("br"),s("span",[t._v("Coportal Communication")]),t._v(" "),s("br"),s("img",{staticClass:"corportal",staticStyle:{width:"160px",height:"auto",opacity:"0.1"},attrs:{align:"left",src:"https://coportal.net/static/img/coPortalLogo.jpg"}})])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col m4 offset-m4 s12 pointer center-align waves-effect",on:{click:function(e){t.GoToNextPage(!0)}}},[t._m(9)])])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col s12"},[e("h4",{staticStyle:{"text-align":"center","font-family":"'open sans'"}},[e("strong",[this._v("Report a student")])]),this._v(" "),e("div",{staticClass:"card-image col l8 offset-l2 m6 offset-m3 s12 mb-lg-4"},[e("img",{staticClass:"img-responsive",attrs:{src:"static/img/coPortalLogo.jpg"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-panel hoverable"},[e("h5",{staticClass:"text-xs-center"},[this._v("Next "),e("i",{staticClass:"material-icons right"},[this._v("exit_to_app")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-image col l8 offset-l2 m6 offset-m3 s12 mb-lg-4"},[e("img",{staticClass:"img-responsive",attrs:{src:"static/img/coPortalLogo.jpg"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"Report-que-header"},[this._v("\n              Select subject to report "),e("span",{staticClass:"report-imp"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"Report-que-header"},[this._v("\n              Type your report "),e("span",{staticClass:"report-imp"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"Report-que-header"},[this._v("\n              Select method "),e("span",{staticClass:"report-imp"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-panel hoverable"},[e("h5",{staticClass:"text-xs-center"},[this._v("Next "),e("i",{staticClass:"material-icons right"},[this._v("exit_to_app")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col s12"},[e("div",{staticClass:"card-image col l8 offset-l2 m6 offset-m3 s12 mb-lg-4"},[e("img",{staticClass:"img-responsive",attrs:{src:"https://coportal.net/static/img/coPortalLogo.jpg"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"Email-header",staticStyle:{"font-size":"20px","font-family":"sans-serif","letter-spacing":"1px","box-sizing":"border-box","margin-top":"60px"}},[e("img",{staticClass:"corportal",staticStyle:{width:"160px",height:"auto","margin-top":"-40px"},attrs:{align:"left",src:"https://coportal.net/static/img/logo.1328452.png"}}),this._v(" "),e("span",{},[this._v("Coportal Communication")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-panel hoverable"},[e("h5",{staticClass:"text-xs-center"},[this._v("Send "),e("i",{staticClass:"material-icons right"},[this._v("exit_to_app")])])])}]};var $t=s("VU/8")(Pt,Tt,!1,function(t){s("kDUP")},"data-v-10bc5942",null).exports,Ut=(s("mtWM"),{name:"StidentList",data:function(){return{studentModule:{_id:null,username:"",modules:[null],oldModules:[]},txtSearch:"",txtError:"",student:{firstname:"",lastname:"",username:"",password:"",confirmPassword:"",modules:[null],idNumber:"",gender:"",dob:"",isSouthAfrican:!1},addingStudents:!1,students:[],modules:[],selectedStudent:null,showEditProfile:!1,isFullscreen:null}},watch:{"student.idNumber":function(t,e){if(t.length>=6&&(this.student.dob=new Date(t.substring(0,2),t.substring(2,4)-1,t.substring(4,6)),t.length>=10)){var s=t.substring(6,10);this.student.gender=parseInt(s)<5e3?"Female":"Male",13==t.length&&(this.student.isSouthAfrican=0==parseInt(t.substring(10,11)))}}},props:["studentIDs"],components:{AddStudent:F},computed:{filteredStudents:function(){var t=this;return this.students.filter(function(e){return t.txtSearch.length<1||I()(e).toLowerCase().indexOf(t.txtSearch.toLowerCase())>=0})}},mounted:function(){},methods:{AddedNewStudent:function(t){t&&this.Reload()}}}),It={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2"},[s("md-button",{staticClass:"right",on:{click:function(e){t.Logout()}}},[s("md-icon",[t._v("done")]),t._v(" "),s("span",[t._v("Done")])],1)],1)]),t._v(" "),s("div",{staticClass:"row",staticStyle:{height:"80vh"}},[s("div",{staticClass:"col s12 m8 offset-m2 l6 offset-l3"},[s("add-student",{on:{submitted:t.AddedNewStudent}})],1)])])},staticRenderFns:[]};var Rt=s("VU/8")(Ut,It,!1,function(t){s("eTmu")},"data-v-df394216",null).exports,Dt=s("mtWM"),jt={name:"AddStudent",data:function(){return{txtError:"",student:{firstname:"",lastname:"",username:"",password:"",confirmPassword:"",modules:[null],idNumber:"",gender:"",dob:"",isSouthAfrican:!1},done:!1,modules:[],isLoading:!1}},props:["studentID"],watch:{"student.idNumber":function(t,e){if(t.length>=6&&(this.student.dob=new Date(t.substring(0,2),t.substring(2,4)-1,t.substring(4,6)),t.length>=10)){var s=t.substring(6,10);this.student.gender=parseInt(s)<5e3?"Female":"Male",13==t.length&&(this.student.isSouthAfrican=0==parseInt(t.substring(10,11)))}}},mounted:function(){this.done=!1,this.LoadModules(),this.LoadStudent()},methods:{LoadStudent:function(){var t=this;this.isLoading=!0,"STUDENT"==this.$store.state.user.type&&(this.studentID=this.$store.state.user.id),this.studentID||this.$router.replace("/home"),Dt.get(this.$store.state.settings.baseLink+"/s/"+this.studentID+"/get").then(function(e){t.isLoading=!1,t.student=e.data,t.student.modules&&0!=t.student.modules.length?t.student.modules=t.student.modules.map(function(t){return t._id}):t.student.modules=[null],console.log("student",t.student)}).catch(function(e){t.isLoading=!1,t.$router.replace("/home")})},LoadModules:function(){var t=this;this.isLoading=!0,Dt.get(this.$store.state.settings.baseLink+"/m/modules/all").then(function(e){t.isLoading=!1,t.modules=e.data,t.options=[],t.modules.map(function(e){t.options.push({value:e._id,text:e.name+" ( "+e.code+" )"})})}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?l()(e.response.data,"error"):l()("Unable to load modules","Try again later","error")})},SubmitStudent:function(){var t=this;this.txtError="",this.isLoading=!0,this.student.lastname.length<2&&(this.txtError="Please enter a valid lastname"),this.student.firstname.length<2&&(this.txtError="Please enter a valid firstname"),this.student.password!=this.student.confirmPassword&&(this.txtError="Passwords do not match"),this.student.password.length<6&&(this.txtError="Please enter a valid password , passwords must be more than 6 charactors long"),this.student.username.length<2&&(this.txtError="Please enter a valid username"),this.student.gender.length<2&&(this.txtError="Please pick a valid gender"),this.student.dob.length<2&&(this.txtError="Please pick a valid date of birth"),this.student.idNumber<6&&(this.txtError="Please enter a valid id number"),this.student.modules.filter(function(t){return null!=t}).length<=0&&(this.txtError="Please select at least one module"),this.txtError.length>2?this.isLoading=!1:Dt.post(this.$store.state.settings.baseLink+"/a/update/student/"+this.student._id,{student:this.student}).then(function(e){t.isLoading=!1,t.done=!0,t.$emit("submitted",!0)}).catch(function(e){t.isLoading=!1,null!=e.response&&512==e.response.status?t.txtError=e.response.data:l()("Unable to submit the student",e.message,"error"),t.$emit("submitted",!1)})}}},Ft={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"center-align"},[s("div",{staticClass:"row"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.done,expression:"done"}],staticClass:"col s12 center-align card-panel"},[s("md-empty-state",{attrs:{"md-icon":"done","md-label":"Student was successfully added.","md-description":"You can now assign the student to more modules / view the student's progress."}})],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.done,expression:"!done"}],staticClass:"col m8 offset-m2 center-align center",staticStyle:{"padding-top":"30"}},[s("div",{staticClass:"card row"},[t._m(0),t._v(" "),s("div",{staticClass:"card-content"},[s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col m4 offset-m1 s12 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.firstname,expression:"student.firstname"}],attrs:{id:"Firstname",name:"Firstname",type:"text"},domProps:{value:t.student.firstname},on:{input:function(e){e.target.composing||t.$set(t.student,"firstname",e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Firstname"}},[t._v("Firstname")])]),t._v(" "),s("div",{staticClass:"input-field col m4 offset-m1 s12 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.lastname,expression:"student.lastname"}],attrs:{id:"Lastname",name:"Lastname",type:"text"},domProps:{value:t.student.lastname},on:{input:function(e){e.target.composing||t.$set(t.student,"lastname",e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Lastname"}},[t._v("Lastname")])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s8 offset-s2 m6 offset-m3 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.username,expression:"student.username"}],attrs:{id:"Username",name:"Username",type:"text"},domProps:{value:t.student.username},on:{input:function(e){e.target.composing||t.$set(t.student,"username",e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Username"}},[t._v("Username")])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field active col m4 offset-m1 s12 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.password,expression:"student.password"}],attrs:{id:"Password",name:"Password",type:"password"},domProps:{value:t.student.password},on:{input:function(e){e.target.composing||t.$set(t.student,"password",e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"Password"}},[t._v("Password")])]),t._v(" "),s("div",{staticClass:"input-field col m4 offset-m1 s12 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.confirmPassword,expression:"student.confirmPassword"}],attrs:{id:"ConfirmPassword",name:"ConfirmPassword",type:"password"},domProps:{value:t.student.confirmPassword},on:{input:function(e){e.target.composing||t.$set(t.student,"confirmPassword",e.target.value)}}}),t._v(" "),s("label",{staticClass:"text-center",attrs:{for:"ConfirmPassword"}},[t._v("Confirm Password")])])]),t._v(" "),t._l(t.student.modules.length,function(e,a){return s("div",{key:e,staticClass:"row"},[s("div",{staticClass:"col s10"},[s("md-field",[s("label",{attrs:{for:"modules-"+a}},[t._v("Module "+t._s(e))]),t._v(" "),s("md-select",{staticStyle:{"background-color":"white"},attrs:{name:"modules-"+a,id:"modules-"+a},model:{value:t.student.modules[a],callback:function(e){t.$set(t.student.modules,a,e)},expression:"student.modules[i]"}},t._l(t.modules,function(e){return s("md-option",{key:e._id,staticStyle:{"background-color":"white"},attrs:{disabled:t.student.modules.filter(function(t){return t==e._id}).length>0,value:e._id}},[t._v(t._s(e.name)+" ("+t._s(e.code)+")")])}))],1)],1),t._v(" "),s("div",{staticClass:"col s2 bottom-align"},[a==t.student.modules.length-1&&null!=t.student.modules[a]?s("a",{staticClass:"btn btn-floating waves-effect",on:{click:function(e){t.student.modules.push(null)}}},[s("i",{staticClass:"material-icons"},[t._v("add")])]):t._e(),t._v(" "),a!=t.student.modules.length-1?s("a",{staticClass:"btn btn-floating red waves-effect",on:{click:function(e){t.student.modules.splice(a,1)}}},[s("i",{staticClass:"material-icons"},[t._v("close")])]):t._e()])])}),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s12"},[s("md-field",[s("label",[t._v("ID Number")]),t._v(" "),s("md-input",{attrs:{maxlength:"13"},model:{value:t.student.idNumber,callback:function(e){t.$set(t.student,"idNumber",e)},expression:"student.idNumber"}})],1)],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.student.idNumber.length>6,expression:"student.idNumber.length > 6"}],staticClass:"row"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s12"},[s("label",[t._v("\n                                          "+t._s(t.student.isSouthAfrican?"South African Citizen":"Non-South African Citizen")+"\n                                    ")])])]),t._v(" "),s("div",{staticClass:"col s12"},[s("md-field",[s("label",{attrs:{for:"Gender"}},[t._v("Gender")]),t._v(" "),s("md-select",{attrs:{name:"Gender",id:"Gender"},model:{value:t.student.gender,callback:function(e){t.$set(t.student,"gender",e)},expression:"student.gender"}},[s("md-option",{attrs:{disabled:""}},[t._v("Pick a gender")]),t._v(" "),s("md-option",{attrs:{value:"Male"}},[t._v("Male")]),t._v(" "),s("md-option",{attrs:{value:"Female"}},[t._v("Female")])],1)],1)],1),t._v(" "),s("div",{staticClass:"col s12"},[s("md-datepicker",{attrs:{"md-immediately":""},model:{value:t.student.dob,callback:function(e){t.$set(t.student,"dob",e)},expression:"student.dob"}},[s("label",[t._v("Date of birth")])])],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.txtError.length>0,expression:"txtError.length > 0"}],staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 text-center"},[s("label",{staticClass:"text-center red-text"},[t._v(t._s(t.txtError))])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 offset-s2 m6 offset-m3 text-center"},[t.isLoading?t._e():s("input",{staticClass:"btn center-align tg-btn",attrs:{type:"submit",value:"Submit student"},on:{click:function(e){t.SubmitStudent()}}}),t._v(" "),t.isLoading?s("ball-pulse-loader",{attrs:{color:"#000000",size:"20px"}}):t._e()],1)])],2)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header center-align z-depth-3 cardBar"},[e("h5",{staticStyle:{padding:"20px"}},[this._v("Editting a student")])])}]};var qt=s("VU/8")(jt,Ft,!1,function(t){s("mxhG")},"data-v-1a63f920",null).exports,zt=s("NYxO"),Qt={state:{username:"admin",id:"",password:"admin",email:"admin@gmail.com",numbers:"0760487292",type:null,profilePic:null,isLoggedIn:!1,isAdmin:!1},mutations:{login:function(t,e){t.id=e.id,t.username=e.username,t.password=e.password,t.email=e.email,t.numbers=e.numbers,t.profilePic=e.profilePic,t.type=e.type,t.isLoggedIn=e.isLoggedIn},logout:function(t,e){t.id=null,t.username=null,t.password=null,t.email=null,t.numbers=null,t.profilePic=null,t.type=null,t.isLoggedIn=!1,t.isAdmin=!1}},actions:{login:function(t){return(0,t.commit)("login")},logout:function(t){return(0,t.commit)("logout")}}},Bt={state:{baseLink:"https://jmrsquared.com/api/coportal/dev",defaultProfilePic:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADLCAMAAAAcEiwCAAAAM1BMVEX///8KME6El6bw8vQZPVlHZHpmfpHCy9Ojsbzg5ekpSmTR2N44V29XcYayvsd2i5yTpLEIJKsKAAAIYklEQVR4nO1d2Zq0KgyccUPtdnn/p/3bVlxBSFKA53xTV30xo5RkJ8DPzx/+8F9DrlSdfTCUH0w/slqpPPWoKGhUVpXtrwXvchifzyfvs7KwUdijKLPHssn7yjoNlskZ+tSDvuA1vmkkNLqxST32Da+BOBWniXkGl5w7F3uUdWqFUZWcxRdF9UrHIq9FInVGWSeikXkZWgraBBIWgMaEIotLJRCNmUpEHuFoTGhj6UoPVXETShWBRlOGpjGhCq4qYaVqQxFWvl4AL+6LMmDgksWj8UExBqLRRJyOGV0QTakjacceRQDzhYoOiUC7x/hipYEVr1cCsdJ4A+P7Oh2NX6SiDEl5fAByjonUfA+EyuddahYTKjmPZObqCCmTp/CQMnkODxmTJ/EQMXkUDwGTB9jdI4b/CQ+mZxxTj9oExjpEn3rMRhTkCDJlvHuHlhjV58FrV1yUNCKPCLDMIJmuuOUSIggKr1KP9RaFd8HruQoyw1tNQApSDL1S6idXI3Xd2gXPPAvjQY6LA00NJePlTXKEBzHVoF8jjMvbhwhCsAaL2xKuyG/wEC6Axbqt34C4OC0XwGKVriiiBqwVOS2X3BX6pD+ABXqHW2zEmu6XxuXiop8jehQnU97pqJJ+slt9F2s6Ia2WLuMVd1Mi1cI3JVuQ1mhuPpp0Qoj5mzR5s5tg6YRQa83CD2edEumEtEQe4gUL25RIJ4RerBHGdZYpiT8hYv9rti1SH8KpA+ayVxqVshHy8EsSzpDF2oXpkdKgwfhQJ4TrrCa1lIYMxILTAqEcGDIs8RI0s+gv/H5XeRbnCMyVV+F7L59PrOqJiFw0U76IwCQizeTOCZY8ZUtEpDs+7iXmkYrIybsDqtapiBxlC7B+yyQiLqMd7JbcZnEdotzsH+wWoiGLSUQuC/tyIKJMyoniP5C/eC/TkJVPFg+AuXxDn/brUY41ASHUmwHG9AawWg8RbYabAcYsUbE6wBF9O5uSYJoDWI4E8eLVXiK8yC+z4wXyZv0wzKIhL7GCtOLq7ArTHsBr/RaWUWZobYfoOtOxQ2RLaydkUS8lkRL4LL8V40BElndj/DovQgFZzPlZoBYa3u4IzMvn6AjU08TbUoB5uUIS4fkRzPbM+SOCmoF4+Qjm3Rnwo/DCeFAvK5ZI5xi0CaB3z44E1hhLV3dU7+RMBPQwxgoJJNCaACZC1hJYEyiaCLVzHdeVCyZCXQ7F7fEHEyEGjjAVgRMhKglwQwSaCM0AAxvw0URIsgWULDgRkmwhdxLAiRBCYEijtAacyG1/3hHIPVwFnIh/uRE6IWjP/kvY3AHdazMTwe6J8NQSUJl2wUwEfBiQ3+oC9qVdCCJeG+zAuzVnzURvZfUQLlApbcVMBL7FzRmowDdx9SGm2d3HjN8mP+slfrOewwbjt2XPaom1hF/c9sgH2F6+PBn/4N+3dU7yAEe/6aA7xIkINj0JcpqSrqgF2WFsPkSuD7K7XAd4YPurx3o9UKoJtClbV2+wZqt46X0hp/M8t+M2K/C8aIVE5pxf5Xhph1cMq6r0q7EqevDpgluFE+hoZyXfmaa2+x65vv3F16BBj1baquc4y74ermjVO62YCmeGt2QOdaLZ3lKZjwrdnSKZw2zMljhggtHzWb3Xb94dc5UGJAm7RwKUxHTk8GGDsekw8gZhv/atCuJP09pOTn7VWVV+9N16bn8tVvt9n5hQSWTHcufC3dT7YEjiSdpBfgxsk/GF+7iazP0mRYW6HoE9LcfMmpUl4lh88eJp6nEMjOSqw19Vkdf00OW8Akt9QhfofGSywz/XbGh2qw14jPhIcy3nkZDsVpiTkTVISeS1A4agafLzOO9BCY2v1X//lUlOzwmRif+cGFTV1yUR1nLY8I5iTR/V15WEOgT9AF9BN7kAzyUk5n4XIkSD8fsKka6i8Gs1Nw/Gy7vHmRDPwdjU1WdKol1zIhmMz1eIduWUR7HNbj/dXyG8D1nhdgd26XBPScQbmpzqfufQXFPCO9eBB6dTvFNX15RElCynbN2vHjuKZlHv/nLI1v1YHB416m1Z93bL1Rp2m2BxN7swcUvEmdrdpZrMw7W5uEtL3DnRnbGIfDPmTTzuk0vc6Hvku/FulMTrk1rTs8gqcqMkfm7AKlyRVcSur75Jqk24ot8gafMk3rpqEa7ot3pafIF/FcdyEGjAIZthFnLK0fHG2hB3E6sAcsEwSWfoupwBJm0naqrhETEv81xgSCuon9PQrRfj/ssTrvaT7suuB40muIr44tupd0RMuCg8fpxOnM0W/daOCScrHj1AmYCR7qOEJrC+53SXHVocjEb0SGtCCeFxZJLA+h4HIAr1dg+KnFXNyEA89kwSuJF9kigOvVcmSW60VzAeW9glfxIDCsdj9SfR06oJszwUIP1crgYOf0P3GUuPJ8+fm7DEXciLYX2gZndo77OnY1n4DnzX+AmL6cW2WeRViKfeQXepwv3woigovXNhaa0JcYu2bgMP1eB0eNcyHWEum9eXnwS7AH59kQ5MgoV3evfHO2i4ou+9CWkk1wakMHM+YW2hCxxtK53qVEGorB314X3W1puPp7I2ywdXw/l1XRgqW1+m7WIyOLZXljC3snXKhtM/A/q1KtBmgPc2w1pFK2MncLvLwbpaJAr7tuXoNCbseo2Lissl32+76JKk0z+nbvbOsNHF9f/jbkmpCGPQPZEfLmtsq9rb/L/Gbl9dfsvEEwF13F5UlFnvYKPq4bhq0Q5JKhtX9JetUu9yyHp1FPlcqTobyvN6BXjzhhS9/eLJtiytrTrvp8zFHtSbWt9sUxcBTZ/ZP/9ukjr7NrgHIVdjZhGnouyyOpW34EN9MGZfjNPv1OP5wx/o+Aeiz2x+kFA7YwAAAABJRU5ErkJggg=="},mutations:{},actions:{}},Ot={state:{notifications:{all:[],lastUpdated:null},transactions:{all:[],lastUpdated:null},documents:{all:[],lastUpdated:null},tasks:{all:[],lastUpdated:null},lastUpdated:null},mutations:{PopulateNotifications:function(t,e){t.notifications.all=e.notifications,t.notifications.lastUpdated=Date.now()},PopulateTransactions:function(t,e){t.transactions.all=e.transactions,t.transactions.lastUpdated=Date.now()},PopulateTasks:function(t,e){t.tasks.all=e.tasks,t.tasks.lastUpdated=Date.now()}},actions:{PopulateNotifications:function(t,e){var s=t.commit;return t.state,s("PopulateNotifications",e)},PopulateTransactions:function(t,e){var s=t.commit;return t.state,s("PopulateTransactions",e)},PopulateTasks:function(t,e){var s=t.commit;return t.state,s("PopulateTasks",e)}}};a.default.use(zt.a);var Vt=new zt.a.Store({modules:{user:Qt,settings:Bt,collections:Ot},strict:!1});a.default.prototype.$store=Vt;var Gt=Vt;a.default.use(r.a);var Ht=new r.a({routes:[{path:"/",name:"Home",meta:{authLevel:null,showNav:!1},component:m},{path:"/login",name:"Login",meta:{authLevel:null,showNav:!1},component:p},{path:"/test/list",name:"TestList",meta:{authLevel:["STUDENT","ADMIN","LECTURER"],showNav:!0},component:C},{path:"/test/take",name:"TakeTest",meta:{authLevel:["STUDENT","ADMIN","LECTURER"],showNav:!0},props:!0,component:y},{path:"/test/marks",name:"TestMarks",meta:{authLevel:["STUDENT","ADMIN","LECTURER"],showNav:!0},props:!0,component:$},{path:"/test/set",name:"SetTest",meta:{authLevel:["LECTURER"],showNav:!0},props:!0,component:E},{path:"/student/list",name:"StudentList",meta:{authLevel:["LECTURER","ADMIN"],showNav:!0},props:!0,component:B},{path:"/student/update",name:"UpdateStudent",meta:{authLevel:["ADMIN","LECTURER","STUDENT"],showNav:!0},props:!0,component:qt},{path:"/lecturer/list",name:"LecturerList",meta:{authLevel:["ADMIN"],showNav:!0},props:!0,component:at},{path:"/module/list",name:"ModuleList",meta:{authLevel:["ADMIN","LECTURER","STUDENT"],showNav:!0},component:H},{path:"/module/view",name:"ModuleView",meta:{authLevel:["ADMIN","LECTURER","STUDENT"],showNav:!0},props:!0,component:mt},{path:"/temp/add/student",name:"TempAddStudent",meta:{authLevel:["ADMIN"],showNav:!0},props:!0,component:Rt},{path:"/marks/all",name:"AllMarks",meta:{authLevel:["STUDENT"],showNav:!0},props:!0,component:Ct},{path:"/marks/sheet",name:"MarkSheet",meta:{authLevel:["LECTURER","ADMIN"],showNav:!0},props:!0,component:St},{path:"/survey",name:"Survey",meta:{authLevel:null,showNav:!1},props:!0,component:Mt},{path:"/Student/Report",name:"Report",meta:{authLevel:["LECTURER","ADMIN"],showNav:!1},props:!0,component:$t}]});Ht.beforeEach(function(t,e,s){var a=Gt.state.user.type;if(null==a&&Ht.app.$session.has("user")){var n=Ht.app.$session.get("user");Gt.commit("login",n),a=Gt.state.user.type}if("ADMIN"!=a||"TempAddStudent"==t.name||"tempadmin"!=Gt.state.user.username){if(null!=t.meta.authLevel){if(null==a)return void l()("You are not Authorized to access this page!","You must be logged in to access this page.","error").then(function(t){s("/")});if(t.meta.authLevel.indexOf(a)<0)return void l()("You are not Authorized to access this page!","If you feel this is unfair, please contact admin.","error").then(function(t){s("/")})}s()}else s("/temp/add/student")});var Yt=Ht,Wt=s("Ubyc"),Xt=s.n(Wt),Zt=s("Lgyv"),Kt=s.n(Zt),Jt=s("CYu0"),te=s("18Sv"),ee=s.n(te),se=(s("gkYU"),s("ImpT"),s("v8QE"),s("KMaP")),ae=(s("UK5d"),s("U54J"));a.default.component("picker",se.Picker),a.default.component("emoji",se.Emoji),a.default.config.productionTip=!1,a.default.use(Xt.a),a.default.use(Kt.a),a.default.use(Jt),a.default.use(ee.a,{persist:!0}),a.default.prototype.$materialize=ae,a.default.prototype.$emoji=se.Emoji,a.default.mixin({methods:{getMoment:function(t){return M(t)},goToModule:function(t){this.$router.push({name:"ModuleView",params:{moduleID:t}})},goToLecturer:function(t){this.$router.push({name:"LecturerList",params:{lecturerIDs:t}})},goToStudent:function(t){this.$router.push({name:"StudentList",params:{studentIDs:t}})},goToSolution:function(t){this.$router.push({name:"TestMarks",params:{solutionId:t}})},goToTakeTest:function(t){this.$router.push({name:"TakeTest",params:{dbQuestionaire:t}})},setATestForModule:function(t){this.$router.push({name:"SetTest",params:{moduleID:t}})},Login:function(t){switch(t.data.userType){case"ADMIN":this.$store.commit("login",{id:t.data.user._id,username:t.data.user.username,password:t.data.user.password,type:"ADMIN",isLoggedIn:!0}),this.$router.push("/");break;case"LECTURER":this.$store.commit("login",{id:t.data.user._id,username:t.data.user.username,password:t.data.user.password,type:"LECTURER",isLoggedIn:!0}),this.$router.push("/");break;case"STUDENT":this.$store.commit("login",{id:t.data.user._id,username:t.data.user.username,password:t.data.user.password,type:"STUDENT",isLoggedIn:!0}),this.$router.push("/")}this.$session.start();var e={id:t.data.user._id,username:t.data.user.username,type:t.data.userType,isLoggedIn:!0};this.$session.set("user",e);var s=this.$session.get("users");null==s&&(s=new Array),(s=s.filter(function(t){return t.id!=e.id})).push(e),this.$session.set("users",s)},Logout:function(){this.$session.remove("user"),this.$store.commit("logout"),this.$router.push("/login")}}}),new a.default({el:"#app",router:Yt,store:Gt,components:{App:i},mounted:function(){ae.AutoInit()},template:"<App/>"})},Py1Z:function(t,e){},UK5d:function(t,e){},UgmS:function(t,e){},YdNu:function(t,e){},eTmu:function(t,e){},gkYU:function(t,e){},i4da:function(t,e){},kDUP:function(t,e){},lmbn:function(t,e,s){"use strict";(function(t){var e,a,n=s("pFYg"),i=s.n(n);e=this,a=function(){return function t(e,s,a){var n,i,r=window,o="application/octet-stream",l=a||o,d=e,c=!s&&!a&&d,u=document.createElement("a"),m=function(t){return String(t)},v=r.Blob||r.MozBlob||r.WebKitBlob||m,f=s||"download";if(v=v.call?v.bind(r):Blob,"true"===String(this)&&(l=(d=[d,l])[0],d=d[1]),c&&c.length<2048&&(f=c.split("/").pop().split("?")[0],u.href=c,-1!==u.href.indexOf(c))){var h=new XMLHttpRequest;return h.open("GET",c,!0),h.responseType="blob",h.onload=function(e){t(e.target.response,f,o)},setTimeout(function(){h.send()},0),h}if(/^data\:[\w+\-]+\/[\w+\-]+[,;]/.test(d)){if(!(d.length>2096103.424&&v!==m))return navigator.msSaveBlob?navigator.msSaveBlob(p(d),f):g(d);l=(d=p(d)).type||o}function p(t){for(var e=t.split(/[:;,]/),s=e[1],a=("base64"==e[2]?atob:decodeURIComponent)(e.pop()),n=a.length,i=0,r=new Uint8Array(n);i<n;++i)r[i]=a.charCodeAt(i);return new v([r],{type:s})}function g(t,e){if("download"in u)return u.href=t,u.setAttribute("download",f),u.className="download-js-link",u.innerHTML="downloading...",u.style.display="none",document.body.appendChild(u),setTimeout(function(){u.click(),document.body.removeChild(u),!0===e&&setTimeout(function(){r.URL.revokeObjectURL(u.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return t=t.replace(/^data:([\w\/\-\+]+)/,o),window.open(t)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=t),!0;var s=document.createElement("iframe");document.body.appendChild(s),e||(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,o)),s.src=t,setTimeout(function(){document.body.removeChild(s)},333)}if(n=d instanceof v?d:new v([d],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(n,f);if(r.URL)g(r.URL.createObjectURL(n),!0);else{if("string"==typeof n||n.constructor===m)try{return g("data:"+l+";base64,"+r.btoa(n))}catch(t){return g("data:"+l+","+encodeURIComponent(n))}(i=new FileReader).onload=function(t){g(this.result)},i.readAsDataURL(n)}return!0}},"function"==typeof define&&s("nErl")?define([],a):"object"===("undefined"==typeof exports?"undefined":i()(exports))?t.exports=a():e.download=a()}).call(e,s("f1Eh")(t))},m2JN:function(t,e){},mxhG:function(t,e){},tyPE:function(t,e){},uslO:function(t,e,s){var a={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function n(t){return s(i(t))}function i(t){var e=a[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}n.keys=function(){return Object.keys(a)},n.resolve=i,t.exports=n,n.id="uslO"},v8QE:function(t,e){},vo3S:function(t,e){},wGBx:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.2789db44a51aba415acc.js.map